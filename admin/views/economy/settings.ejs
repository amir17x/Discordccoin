<div class="section-header">
    <h2 class="section-title">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ</h2>
    <div class="section-tools">
        <button type="button" class="btn btn-light" onclick="resetForm()">
            <span class="icons8-icon icons8-refresh"></span> Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÙØ±Ù…
        </button>
    </div>
</div>

<div class="card fluent-card">
    <div class="card-body">
        <form id="economySettingsForm" action="/admin/economy/settings" method="POST">
            <div class="row">
                <div class="col-md-6">
                    <h4 class="mb-3">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡</h4>
                    
                    <div class="form-group">
                        <label class="form-label" for="startingBalance">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</label>
                        <input type="number" id="startingBalance" name="startingBalance" class="form-control" value="<%= settings.startingBalance || 100 %>" required>
                        <small class="form-text text-muted">Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ Ù‡Ù†Ú¯Ø§Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</small>
                    </div>
                    
                    <div class="form-group">
                        <div class="form-check">
                            <input type="checkbox" id="dailyBonusEnabled" name="dailyBonusEnabled" class="form-check-input" <%= settings.dailyBonusEnabled ? 'checked' : '' %>>
                            <label class="form-check-label" for="dailyBonusEnabled">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="dailyBonus">Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡</label>
                        <input type="number" id="dailyBonus" name="dailyBonus" class="form-control" value="<%= settings.dailyBonus || 50 %>" <%= !settings.dailyBonusEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ ÙˆØ±ÙˆØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="currencyName">Ù†Ø§Ù… Ø±Ø³Ù…ÛŒ Ø§Ø±Ø²</label>
                        <input type="text" id="currencyName" name="currencyName" class="form-control" value="<%= settings.currencyName || 'Ø³Ú©Ù‡' %>" required>
                        <small class="form-text text-muted">Ù†Ø§Ù… Ø±Ø³Ù…ÛŒ Ø§Ø±Ø² Ø¯Ø± Ø³ÛŒØ³ØªÙ… (Ù…Ø«Ù„Ø§Ù‹: Ø³Ú©Ù‡ØŒ Ú©ÙˆÛŒÙ†ØŒ Ú˜ØªÙˆÙ†)</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="currencySymbol">Ù†Ù…Ø§Ø¯ Ø§Ø±Ø²</label>
                        <input type="text" id="currencySymbol" name="currencySymbol" class="form-control" value="<%= settings.currencySymbol || 'ğŸª™' %>" required>
                        <small class="form-text text-muted">Ù†Ù…Ø§Ø¯ Ø§Ø®ØªØµØ§Ø±ÛŒ ÛŒØ§ Ø§ÛŒÙ…ÙˆØ¬ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø²</small>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <h4 class="mb-3">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡</h4>
                    
                    <div class="form-group">
                        <div class="form-check">
                            <input type="checkbox" id="transferEnabled" name="transferEnabled" class="form-check-input" <%= settings.transferEnabled ? 'checked' : '' %>>
                            <label class="form-check-label" for="transferEnabled">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</label>
                        </div>
                        <small class="form-text text-muted">Ø§Ø¬Ø§Ø²Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="transferFeePercent">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø§Ù†ØªÙ‚Ø§Ù„</label>
                        <input type="number" id="transferFeePercent" name="transferFeePercent" step="0.1" min="0" max="100" class="form-control" value="<%= settings.transferFeePercent || 0 %>" <%= !settings.transferEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø§Ù†ØªÙ‚Ø§Ù„ (0 = Ø¨Ø¯ÙˆÙ† Ú©Ø§Ø±Ù…Ø²Ø¯)</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="minTransferAmount">Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Ø§Ù†ØªÙ‚Ø§Ù„</label>
                        <input type="number" id="minTransferAmount" name="minTransferAmount" class="form-control" value="<%= settings.minTransferAmount || 10 %>" <%= !settings.transferEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„ØºÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡Ø¯</small>
                    </div>
                    
                    <div class="form-group">
                        <div class="form-check">
                            <input type="checkbox" id="giftEnabled" name="giftEnabled" class="form-check-input" <%= settings.giftEnabled ? 'checked' : '' %>>
                            <label class="form-check-label" for="giftEnabled">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù‡Ø¯ÛŒÙ‡ Ø¯Ø§Ø¯Ù† Ø³Ú©Ù‡</label>
                        </div>
                        <small class="form-text text-muted">Ø§Ø¬Ø§Ø²Ù‡ Ù‡Ø¯ÛŒÙ‡ Ø¯Ø§Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± (Ø¨Ø¯ÙˆÙ† Ú©Ø§Ø±Ù…Ø²Ø¯)</small>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-md-6">
                    <h4 class="mb-3">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h4>
                    
                    <div class="form-group">
                        <label class="form-label" for="maxCoinCap">Ø­Ø¯Ø§Ú©Ø«Ø± Ø°Ø®ÛŒØ±Ù‡ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</label>
                        <input type="number" id="maxCoinCap" name="maxCoinCap" class="form-control" value="<%= settings.maxCoinCap || 1000000 %>">
                        <small class="form-text text-muted">Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ø³Ú©Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ (0 = Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª)</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="economyResetInterval">Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø±ÛŒØ³Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ (Ø±ÙˆØ²)</label>
                        <input type="number" id="economyResetInterval" name="economyResetInterval" class="form-control" value="<%= settings.economyResetInterval || 0 %>">
                        <small class="form-text text-muted">ØªØ¹Ø¯Ø§Ø¯ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨ÛŒÙ† Ù‡Ø± Ø±ÛŒØ³Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ (0 = Ø¨Ø¯ÙˆÙ† Ø±ÛŒØ³Øª)</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="lotteryFeePercent">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ</label>
                        <input type="number" id="lotteryFeePercent" name="lotteryFeePercent" step="0.1" min="0" max="100" class="form-control" value="<%= settings.lotteryFeePercent || 10 %>">
                        <small class="form-text text-muted">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ</small>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <h4 class="mb-3">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø²Ø§Ø± Ø³Ù‡Ø§Ù…</h4>
                    
                    <div class="form-group">
                        <div class="form-check">
                            <input type="checkbox" id="stockMarketEnabled" name="stockMarketEnabled" class="form-check-input" <%= settings.stockMarketEnabled ? 'checked' : '' %>>
                            <label class="form-check-label" for="stockMarketEnabled">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§Ø²Ø§Ø± Ø³Ù‡Ø§Ù…</label>
                        </div>
                        <small class="form-text text-muted">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§Ø²Ø§Ø± Ø³Ù‡Ø§Ù… Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="stockMarketFeePercent">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª</label>
                        <input type="number" id="stockMarketFeePercent" name="stockMarketFeePercent" step="0.1" min="0" max="100" class="form-control" value="<%= settings.stockMarketFeePercent || 1 %>" <%= !settings.stockMarketEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">Ø¯Ø±ØµØ¯ Ú©Ø§Ø±Ù…Ø²Ø¯ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´ Ø³Ù‡Ø§Ù…</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="stockUpdateInterval">Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ (Ø¯Ù‚ÛŒÙ‚Ù‡)</label>
                        <input type="number" id="stockUpdateInterval" name="stockUpdateInterval" class="form-control" value="<%= settings.stockUpdateInterval || 30 %>" <%= !settings.stockMarketEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">ÙØ§ØµÙ„Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ù‡Ø§Ù…</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="maxStockVolatility">Ø­Ø¯Ø§Ú©Ø«Ø± Ù†ÙˆØ³Ø§Ù† Ù‚ÛŒÙ…Øª (Ø¯Ø±ØµØ¯)</label>
                        <input type="number" id="maxStockVolatility" name="maxStockVolatility" step="0.1" min="0" max="100" class="form-control" value="<%= settings.maxStockVolatility || 5 %>" <%= !settings.stockMarketEnabled ? 'disabled' : '' %>>
                        <small class="form-text text-muted">Ø­Ø¯Ø§Ú©Ø«Ø± Ø¯Ø±ØµØ¯ ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª Ø³Ù‡Ø§Ù… Ø¯Ø± Ù‡Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ</small>
                    </div>
                </div>
            </div>
            
            <div class="form-group mt-4">
                <button type="submit" class="btn btn-primary">
                    <span class="icons8-icon icons8-save"></span> Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
                </button>
                
                <button type="button" class="btn btn-secondary mr-2" onclick="resetForm()">
                    <span class="icons8-icon icons8-refresh"></span> Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ
                </button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ ÙˆØ§Ø¨Ø³ØªÙ‡
    const dailyBonusEnabled = document.getElementById('dailyBonusEnabled');
    const dailyBonus = document.getElementById('dailyBonus');
    
    dailyBonusEnabled.addEventListener('change', function() {
        dailyBonus.disabled = !this.checked;
    });
    
    const transferEnabled = document.getElementById('transferEnabled');
    const transferFeePercent = document.getElementById('transferFeePercent');
    const minTransferAmount = document.getElementById('minTransferAmount');
    
    transferEnabled.addEventListener('change', function() {
        transferFeePercent.disabled = !this.checked;
        minTransferAmount.disabled = !this.checked;
    });
    
    const stockMarketEnabled = document.getElementById('stockMarketEnabled');
    const stockMarketFeePercent = document.getElementById('stockMarketFeePercent');
    const stockUpdateInterval = document.getElementById('stockUpdateInterval');
    const maxStockVolatility = document.getElementById('maxStockVolatility');
    
    stockMarketEnabled.addEventListener('change', function() {
        stockMarketFeePercent.disabled = !this.checked;
        stockUpdateInterval.disabled = !this.checked;
        maxStockVolatility.disabled = !this.checked;
    });
});

// ØªØ§Ø¨Ø¹ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÙØ±Ù… Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§ÙˆÙ„ÛŒÙ‡
function resetForm() {
    if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÙØ±Ù… Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± ÙØ¹Ù„ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
        document.getElementById('economySettingsForm').reset();
        
        // ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒØ¯
        const dailyBonusEnabled = document.getElementById('dailyBonusEnabled');
        const dailyBonus = document.getElementById('dailyBonus');
        dailyBonus.disabled = !dailyBonusEnabled.checked;
        
        const transferEnabled = document.getElementById('transferEnabled');
        const transferFeePercent = document.getElementById('transferFeePercent');
        const minTransferAmount = document.getElementById('minTransferAmount');
        transferFeePercent.disabled = !transferEnabled.checked;
        minTransferAmount.disabled = !transferEnabled.checked;
        
        const stockMarketEnabled = document.getElementById('stockMarketEnabled');
        const stockMarketFeePercent = document.getElementById('stockMarketFeePercent');
        const stockUpdateInterval = document.getElementById('stockUpdateInterval');
        const maxStockVolatility = document.getElementById('maxStockVolatility');
        stockMarketFeePercent.disabled = !stockMarketEnabled.checked;
        stockUpdateInterval.disabled = !stockMarketEnabled.checked;
        maxStockVolatility.disabled = !stockMarketEnabled.checked;
    }
}
</script>
