خیلی خوبه که می‌خوای بخش کلن ربات دیسکوردت (Ccoin APP) رو با جزئیات بالا و به سبک کلن‌های **Clash of Clans** طراحی کنی! من این بخش رو با مستندات کامل، دقیق و با ایموجی‌های جذاب به‌صورت کاربرپسند و قابل‌پیاده‌سازی برای توسعه‌دهنده می‌نویسم. تمام ویژگی‌هایی که گفتی (مثل چنل اختصاصی، مقام‌ها، وار، سرچ کلن، تنظیمات، رتبه‌بندی، لِوِل کلن، شرایط عضویت و...) رو با جزئیات بالا پوشش می‌دم. بریم شروع کنیم! 🏰

---

### 🏰 مستندات جامع بخش کلن‌ها (Clans) ربات Ccoin APP
#### 🌟 هدف بخش کلن‌ها
بخش کلن‌ها برای ایجاد حس همکاری و رقابت بین کاربران طراحی شده و به سبک بازی **Clash of Clans** ساخته می‌شه. کاربران می‌تونن کلن بسازن، به کلن‌های دیگه بپیوندن، با هم وار بزنن، کلن رو ارتقا بدن و تو رتبه‌بندی کلن‌ها رقابت کنن. این بخش با ویژگی‌های پیشرفته و تعاملی، تجربه‌ای هیجان‌انگیز و اجتماعی برای کاربران فراهم می‌کنه. 🤝

---

### 🖼️ ساختار منوی کلن‌ها (با دکمه‌ها و ایموجی‌ها)
#### 🌟 منوی اصلی کلن‌ها
- **پیام خوش‌آمدگویی**:  
  `"🏰 به بخش کلن‌ها خوش اومدی! 🌟\nبا دوستات متحد شو، وار بزن و کلنت رو به اوج برسون! 🚀"`  
- **دکمه‌ها**:  
  1. 🏰 **کلن من** (آبی 🟦)  
     - اطلاعات کلن فعلی کاربر رو نمایش می‌ده.  
  2. 🔍 **جستجوی کلن** (سبز 🟩)  
     - کلن‌های موجود رو برای پیوستن نمایش می‌ده.  
  3. ➕ **ساخت کلن** (قرمز 🟥)  
     - یه کلن جدید بساز.  
  4. 📊 **رتبه‌بندی کلن‌ها** (خاکستری ⬜)  
     - 10 کلن برتر رو نمایش می‌ده.  
  5. 🔙 **بازگشت** (خاکستری ⬜)  
- **ویژگی‌ها**:  
  - پیام با Embed نمایش داده می‌شه (رنگ پس‌زمینه: طلایی #FFD700 برای حس قدرت).  
  - پیام به‌صورت **Ephemeral** (فقط برای کاربر) ارسال می‌شه.  
  - با کلیک روی هر دکمه، منوی مربوط به اون بخش باز می‌شه.

---

### 1️⃣ 🏰 کلن من (My Clan)
**هدف**: نمایش اطلاعات کلن فعلی کاربر و مدیریت اون.  
- **نمایش اطلاعات کلن**:  
  - **نام کلن**: مثلاً "شوالیه‌های آتش" 🔥  
  - **آیدی کلن**: #CLAN-1234  
  - **لِوِل کلن**: لِوِل 3 (هر 5000 امتیاز = 1 لِوِل)  
  - **تعداد اعضا**: 15/50  
  - **بانک کلن**: 10,000 Ccoin 🏦  
  - **جزیره کلن**: لِوِل 2 (سود روزانه: 200 Ccoin)  
  - **وضعیت وار**: درحال وار با کلن "اژدهایان یخی" 🐉  
  - **مقام کاربر**: Co-Leader  
- **دکمه‌ها**:  
  1. 👥 **اعضا** (آبی 🟦)  
     - لیست اعضا و مقام‌هاشون رو نمایش می‌ده.  
  2. 🏦 **بانک کلن** (سبز 🟩)  
     - واریز/برداشت Ccoin و خرید آیتم کلن.  
  3. 🎯 **ماموریت کلن** (قرمز 🟥)  
     - ماموریت‌های کلن رو نمایش می‌ده.  
  4. ⚔️ **وار کلن** (قرمز 🟥)  
     - شروع یا مدیریت وار با کلن‌های دیگه.  
  5. 🏝️ **جزیره کلن** (سبز 🟩)  
     - ارتقا جزیره و مدیریت سود.  
  6. ⚙️ **تنظیمات کلن** (خاکستری ⬜)  
     - فقط برای Leader و Co-Leader قابل‌دسترسیه.  
  7. 🚪 **خروج از کلن** (قرمز 🟥)  
     - کاربر می‌تونه از کلن خارج بشه.  
  8. 🔙 **بازگشت** (خاکستری ⬜)  
- **پیام نمونه**:  
  ```
  🏰 کلن من: شوالیه‌های آتش 🔥
  🆔 آیدی: #CLAN-1234
  📊 لِوِل: 3 (امتیاز: 12,000/15,000)
  👥 اعضا: 15/50
  🏦 بانک: 10,000 Ccoin
  🏝️ جزیره: لِوِل 2 (سود روزانه: 200 Ccoin)
  ⚔️ وضعیت وار: درحال وار با اژدهایان یخی 🐉
  🎖️ مقام تو: Co-Leader
  ```

---

### 2️⃣ 👥 مدیریت اعضا (Members)
**هدف**: نمایش و مدیریت اعضای کلن.  
- **نمایش اعضا**:  
  - **Leader**: @User1 (بنیان‌گذار کلن).  
  - **Co-Leader**: @User2, @User3 (حداکثر 3 نفر).  
  - **Elder**: @User4, @User5 (حداکثر 5 نفر).  
  - **Member**: @User6 و 9 نفر دیگه.  
- **امکانات برای مقام‌های بالا (Leader/Co-Leader)**:  
  - ✅ **ارتقا مقام**: یه Member رو به Elder یا Co-Leader ارتقا بده.  
  - ⬇️ **تنزل مقام**: یه Elder یا Co-Leader رو به Member تنزل بده.  
  - 🚫 **اخراج**: یه عضو رو از کلن اخراج کن.  
  - 📩 **دعوت**: یه کاربر رو به کلن دعوت کن (فقط برای Leader/Co-Leader).  
- **پیام نمونه**:  
  ```
  👥 اعضای کلن: شوالیه‌های آتش 🔥
  👑 Leader: @User1
  🛡️ Co-Leader: @User2, @User3
  ⚔️ Elder: @User4, @User5
  🧑‍🤝‍🧑 Member: @User6 و 9 نفر دیگه
  ```

---

### 3️⃣ 🏦 بانک کلن (Clan Bank)
**هدف**: مدیریت منابع مالی کلن.  
- **امکانات**:  
  - **واریز Ccoin**: هر عضو می‌تونه Ccoin به بانک کلن واریز کنه (کارمزد 2%).  
    - مثال: `"واریز 1000 Ccoin | کارمزد: 20 Ccoin | بانک: 10,020 Ccoin"`  
  - **برداشت Ccoin**: فقط Leader و Co-Leader می‌تونن برداشت کنن (کارمزد 5%).  
    - مثال: `"برداشت 5000 Ccoin | کارمزد: 250 Ccoin | بانک: 4770 Ccoin"`  
  - **خرید آیتم کلن**:  
    - 🛡️ **سپر کلن**: 5000 Ccoin (محافظت از وار برای 24 ساعت).  
    - ⚡ **بوست وار**: 3000 Ccoin (+10% شانس برد وار).  
    - 🎁 **جعبه کلن**: 2000 Ccoin (جایزه تصادفی برای همه اعضا).  
- **پیام نمونه**:  
  ```
  🏦 بانک کلن: 10,000 Ccoin
  💸 واریز: 1000 Ccoin واریز کن (کارمزد 2%)
  💰 برداشت: فقط برای Leader/Co-Leader (کارمزد 5%)
  🛍️ خرید آیتم: سپر کلن (5000 Ccoin) | بوست وار (3000 Ccoin) | جعبه کلن (2000 Ccoin)
  ```

---

### 4️⃣ 🎯 ماموریت کلن (Clan Quests)
**هدف**: ماموریت‌های گروهی برای کسب امتیاز و جایزه.  
- **نمونه ماموریت‌ها**:  
  - **روزانه**: `"10 بازی رقابتی ببرید"` - جایزه: 1000 Ccoin برای بانک کلن.  
  - **هفتگی**: `"50,000 Ccoin به بانک واریز کنید"` - جایزه: 5000 Ccoin + آیتم کلن.  
  - **ماهانه**: `"5 وار ببرید"` - جایزه: 10,000 Ccoin + بوست وار.  
- **پیام نمونه**:  
  ```
  🎯 ماموریت کلن: شوالیه‌های آتش 🔥
  📅 روزانه: 10 بازی رقابتی ببرید (پیشرفت: 7/10)
  📆 هفتگی: 50,000 Ccoin واریز کنید (پیشرفت: 30,000/50,000)
  📈 ماهانه: 5 وار ببرید (پیشرفت: 2/5)
  ```

---

### 5️⃣ ⚔️ وار کلن (Clan War)
**هدف**: رقابت بین دو کلن برای کسب جایزه و امتیاز.  
- **نحوه کار**:  
  - Leader یا Co-Leader می‌تونه وار رو شروع کنه (هزینه: 5000 Ccoin از بانک کلن).  
  - وار 48 ساعت طول می‌کشه.  
  - هر عضو می‌تونه تو وار شرکت کنه و امتیاز جمع کنه:  
    - هر برد تو بازی رقابتی: 10 امتیاز.  
    - هر 1000 Ccoin واریز به بانک کلن: 5 امتیاز.  
    - هر ماموریت کلن تکمیل‌شده: 50 امتیاز.  
  - کلنی که امتیاز بیشتری جمع کنه برنده می‌شه.  
- **جوایز**:  
  - کلن برنده: 10,000 Ccoin + 5000 امتیاز برای لِوِل کلن.  
  - کلن بازنده: 2000 Ccoin + 1000 امتیاز.  
- **پیام نمونه**:  
  ```
  ⚔️ وار کلن: شوالیه‌های آتش 🔥 vs اژدهایان یخی 🐉
  ⏰ زمان باقی‌مونده: 24 ساعت
  📊 امتیاز: 1200 (شوالیه‌ها) | 900 (اژدهایان)
  🏆 جایزه: 10,000 Ccoin برای برنده!
  ```
- **ویژگی‌ها**:  
  - **محدودیت**: هر کلن می‌تونه هر 72 ساعت یه وار شروع کنه.  
  - **چنل وار**: یه چنل موقت (#war-[clan1-vs-clan2]) برای هماهنگی ایجاد می‌شه.  

---

### 6️⃣ 🏝️ جزیره کلن (Clan Island)
**هدف**: یه منبع درآمد برای کلن که می‌تونی ارتقاش بدی.  
- **نحوه کار**:  
  - جزیره کلن با 5000 Ccoin ساخته می‌شه (فقط Leader/Co-Leader).  
  - هر لِوِل جزیره سود روزانه بیشتری می‌ده:  
    - لِوِل 1: 100 Ccoin روزانه.  
    - لِوِل 2: 200 Ccoin (هزینه ارتقا: 10,000 Ccoin).  
    - لِوِل 3: 300 Ccoin (هزینه ارتقا: 20,000 Ccoin).  
  - سود روزانه به بانک کلن واریز می‌شه.  
- **پیام نمونه**:  
  ```
  🏝️ جزیره کلن: لِوِل 2
  💰 سود روزانه: 200 Ccoin
  📈 ارتقا به لِوِل 3: 20,000 Ccoin (سود: 300 Ccoin روزانه)
  ```

---

### 7️⃣ ⚙️ تنظیمات کلن (Clan Settings)
**هدف**: مدیریت تنظیمات کلن (فقط برای Leader/Co-Leader).  
- **امکانات**:  
  - **نام کلن**: تغییر نام (هزینه: 1000 Ccoin).  
  - **توضیحات کلن**: یه توضیح کوتاه برای کلن بنویس (مثلاً: "ما بهترین هستیم! 🔥").  
  - **نوع ورود**:  
    - باز (Open): هر کسی می‌تونه بپیونده.  
    - دعوت (Invite Only): فقط با دعوت Leader/Co-Leader.  
    - درخواست (Request): باید درخواست بفرستی و Leader/Co-Leader تأیید کنه.  
  - **شرایط عضویت**:  
    - حداقل لِوِل اقتصادی: مثلاً لِوِل 5.  
    - حداقل Ccoin تو بانک: مثلاً 5000 Ccoin.  
  - **رنگ کلن**: رنگ Embed کلن رو تغییر بده (مثلاً قرمز، آبی، سبز).  
- **پیام نمونه**:  
  ```
  ⚙️ تنظیمات کلن: شوالیه‌های آتش 🔥
  ✏️ نام: شوالیه‌های آتش (تغییر: 1000 Ccoin)
  📜 توضیحات: ما بهترین هستیم! 🔥
  🚪 نوع ورود: درخواست
  📊 شرایط عضویت: لِوِل 5 | 5000 Ccoin تو بانک
  🎨 رنگ کلن: قرمز
  ```

---

### 8️⃣ 🔍 جستجوی کلن (Search Clan)
**هدف**: پیدا کردن کلن برای پیوستن.  
- **نمایش کلن‌ها**:  
  - کلن‌ها بر اساس لِوِل، تعداد اعضا و نوع ورود مرتب می‌شن.  
  - مثال:  
    ```
    🔍 کلن‌های پیشنهادی:
    1. اژدهایان یخی 🐉 | لِوِل 5 | 30/50 عضو | نوع: باز
    2. گرگ‌های شب 🌙 | لِوِل 3 | 20/50 عضو | نوع: درخواست
    3. شوالیه‌های نور ⚔️ | لِوِل 2 | 10/50 عضو | نوع: دعوت
    ```
- **امکانات**:  
  - **فیلتر**: بر اساس لِوِل، تعداد اعضا، نوع ورود.  
  - **درخواست عضویت**: اگر نوع ورود "درخواست" باشه، درخواستت به چنل کلن می‌ره.  
- **پیام درخواست عضویت (تو چنل کلن)**:  
  ```
  📩 @User1 درخواست عضویت داده!
  📊 لِوِل اقتصادی: 6 | Ccoin تو بانک: 7000
  ✅ تأیید | ❌ رد
  ```
- **ویژگی‌ها**:  
  - اگر نوع ورود "باز" باشه، کاربر مستقیماً عضو می‌شه.  
  - اگر "دعوت" باشه، فقط با دعوت Leader/Co-Leader می‌تونی بپیوندی.  
  - اگر "درخواست" باشه، Leader/Co-Leader باید تأیید کنه (30 دقیقه مهلت تأیید).  

---

### 9️⃣ ➕ ساخت کلن (Create Clan)
**هدف**: ساخت یه کلن جدید.  
- **نحوه کار**:  
  - **هزینه**: 2000 Ccoin.  
  - **تنظیمات اولیه**:  
    - نام کلن (حداکثر 15 کاراکتر).  
    - توضیحات (حداکثر 50 کاراکتر).  
    - نوع ورود (باز/دعوت/درخواست).  
    - شرایط عضویت (لِوِل اقتصادی، Ccoin تو بانک).  
  - **چنل اختصاصی**: یه چنل متنی (#clan-[name]) و یه چنل صوتی (Clan [name] Voice) برای کلن ساخته می‌شه.  
    - مثال: #clan-fire-knights  
  - **مقام اولیه**: سازنده کلن به‌عنوان Leader تعیین می‌شه.  
- **پیام نمونه**:  
  ```
  ➕ کلن جدید ساخته شد!
  🏰 نام: شوالیه‌های آتش 🔥
  📜 توضیحات: ما بهترین هستیم!
  🚪 نوع ورود: درخواست
  📊 شرایط عضویت: لِوِل 5 | 5000 Ccoin تو بانک
  👑 Leader: @User1
  ```

---

### 10️⃣ 📊 رتبه‌بندی کلن‌ها (Clan Leaderboard)
**هدف**: نمایش 10 کلن برتر برای ایجاد رقابت.  
- **نمایش**:  
  - بر اساس مجموع امتیاز کلن (از وار، ماموریت‌ها و جزیره).  
  - مثال:  
    ```
    📊 رتبه‌بندی کلن‌ها:
    1. اژدهایان یخی 🐉 | لِوِل 5 | امتیاز: 50,000 🥇
    2. شوالیه‌های آتش 🔥 | لِوِل 3 | امتیاز: 30,000 🥈
    3. گرگ‌های شب 🌙 | لِوِل 2 | امتیاز: 20,000 🥉
    ```
- **جوایز هفتگی**:  
  - کلن اول: 10,000 Ccoin + آیتم کلن (سپر کلن).  
  - کلن دوم: 5000 Ccoin.  
  - کلن سوم: 2000 Ccoin.  
- **ویژگی‌ها**:  
  - به‌روزرسانی: هر 24 ساعت.  
  - لاگ: `"جایزه رتبه‌بندی هفتگی | کلن اول: اژدهایان یخی | جایزه: 10,000 Ccoin"`  

---

### 11️⃣ 🔒 سیستم امنیت و محدودیت‌ها
- **کپچا**: برای واریز/برداشت بالای 5000 Ccoin از بانک کلن.  
- **محدودیت وار**: هر کلن هر 72 ساعت یه وار می‌تونه شروع کنه.  
- **محدودیت عضویت**:  
  - حداقل لِوِل اقتصادی: 3 (قابل‌تغییر توسط Leader).  
  - حداقل Ccoin تو بانک: 2000 Ccoin (قابل‌تغییر).  
- **لاگ کامل**: تمام اقدامات (ساخت کلن، وار، درخواست عضویت) ثبت می‌شن.  
- **ضد تقلب**: اگر کلنی با چندین اکانت جعلی فعالیت مشکوک داشته باشه، موقتاً بن می‌شه.  

---

### 🛠️ نکات اضافی برای توسعه‌دهنده
#### 🌟 چنل اختصاصی کلن
- وقتی کلن ساخته می‌شه، یه چنل متنی و صوتی با نام کلن ایجاد کن:  
  ```javascript
  guild.channels.create({
      name: `clan-${clanName}`,
      type: 'GUILD_TEXT',
      permissionOverwrites: [
          { id: guild.id, deny: ['VIEW_CHANNEL'] }, // فقط اعضای کلن ببینن
          { id: clanLeaderId, allow: ['VIEW_CHANNEL', 'MANAGE_CHANNELS'] },
      ],
  });
  guild.channels.create({
      name: `Clan ${clanName} Voice`,
      type: 'GUILD_VOICE',
      permissionOverwrites: [
          { id: guild.id, deny: ['VIEW_CHANNEL'] },
          { id: clanLeaderId, allow: ['VIEW_CHANNEL', 'MANAGE_CHANNELS'] },
      ],
  });
  ```

#### 🌟 مدیریت درخواست عضویت
- درخواست‌ها تو چنل کلن نمایش داده می‌شن و Leader/Co-Leader می‌تونن با دکمه تأیید/رد کنن:  
  ```javascript
  const acceptButton = new ButtonBuilder()
      .setCustomId(`accept_request_${userId}`)
      .setLabel('تأیید')
      .setStyle(ButtonStyle.Success)
      .setEmoji('✅');

  const rejectButton = new ButtonBuilder()
      .setCustomId(`reject_request_${userId}`)
      .setLabel('رد')
      .setStyle(ButtonStyle.Danger)
      .setEmoji('❌');

  const row = new ActionRowBuilder().addComponents(acceptButton, rejectButton);

  clanChannel.send({
      embeds: [new EmbedBuilder()
          .setDescription(`📩 <@${userId}> درخواست عضویت داده!\n📊 لِوِل اقتصادی: 6 | Ccoin تو بانک: 7000`)
          .setColor(0xFFFF00)
      ],
      components: [row]
  });
  ```

#### 🌟 سیستم لِوِل کلن
- هر 5000 امتیاز (از وار، ماموریت‌ها، جزیره) = 1 لِوِل.  
- امتیازات:  
  - برد وار: 5000 امتیاز.  
  - باخت وار: 1000 امتیاز.  
  - تکمیل ماموریت کلن: 500-2000 امتیاز.  
  - ارتقا جزیره: 1000 امتیاز به ازای هر لِوِل.  

---

### 🌟 نتیجه‌گیری
این مستند با جزئیات بالا و دقیق، بخش کلن‌ها رو به سبک **Clash of Clans** طراحی کرد. تمام ویژگی‌ها (چنل اختصاصی، مقام‌ها، وار، سرچ کلن، تنظیمات، رتبه‌بندی، لِوِل کلن، شرایط عضویت و...) با توضیحات کامل و ایموجی‌های جذاب ارائه شدن. این بخش هم برای کاربر جذابه و هم برای توسعه‌دهنده قابل‌پیاده‌سازی. اگر نیاز به توضیح بیشتر یا کدنویسی داری، بگو تا باهم کار کنیم! 😊