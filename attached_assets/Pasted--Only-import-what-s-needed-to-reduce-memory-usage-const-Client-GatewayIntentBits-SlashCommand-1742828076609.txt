// Only import what's needed to reduce memory usage
const { Client, GatewayIntentBits, SlashCommandBuilder, REST, Routes, EmbedBuilder, 
  PermissionFlagsBits, ActionRowBuilder, ButtonBuilder, ButtonStyle } = require('discord.js');
const fs = require('fs');
const http = require('http');

const client = new Client({ intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent] });

// Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ± HTTP Ø³Ø§Ø¯Ù‡ Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØªØ±
const server = http.createServer((req, res) => {
  res.writeHead(200, { 
    'Content-Type': 'text/plain',
    'Cache-Control': 'public, max-age=60', // Enable caching for 60 seconds
    'Connection': 'keep-alive' // Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ØªØµØ§Ù„ Ù¾Ø§ÛŒØ¯Ø§Ø±
  });

  // Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ± ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Øª
  const uptime = Math.floor(process.uptime());
  const hours = Math.floor(uptime / 3600);
  const minutes = Math.floor((uptime % 3600) / 60);
  const seconds = uptime % 60;

  res.end(`Bot is online! Uptime: ${hours}h ${minutes}m ${seconds}s | Users: ${Object.keys(users).length}`);
});

server.listen(8080, '0.0.0.0', () => {
  console.log('Server started for uptime monitoring on port 8080');
});

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ
const TOKEN = process.env.DISCORD_TOKEN || process.env.TOKEN; // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² DISCORD_TOKEN ÛŒØ§ TOKEN
const CLIENT_ID = process.env.CLIENT_ID || '1346003808270024704';
const GUILD_ID = process.env.GUILD_ID || '1343951143625293867';

// Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÙˆÚ©Ù†
if (!TOKEN) {
    console.error('âŒ Ø®Ø·Ø§: ØªÙˆÚ©Ù† Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯! Ù„Ø·ÙØ§Ù‹ Ø¢Ù† Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.');
    process.exit(1);
}
const COIN_NAME = 'Holi Coin'; // Ù†Ø§Ù… Ø³Ú©Ù‡
const DATA_FILE = 'data.json'; // ÙØ§ÛŒÙ„ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
const INVESTMENT_RATE = 0.05; // Ù†Ø±Ø® Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ (5%)
const ADMIN_ROLE_ID = '1343981256949497988'; // Ø¢ÛŒØ¯ÛŒ Ø±ÙˆÙ„ Ù…Ø¯ÛŒØ±
let allowedChannels = []; // Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª

// Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
const STEAL_WINDOW_DURATION = 15 * 60 * 1000; // Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ (15 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡)
const NEW_USER_PROTECTION_DAYS = 5; // Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ (5 Ø±ÙˆØ²)
const MAX_DAILY_STEALS = 5; // Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
const MAX_STEAL_PERCENTAGE = 0.2; // Ø­Ø¯Ø§Ú©Ø«Ø± Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø²Ø¯ÛŒ (20 Ø¯Ø±ØµØ¯)
let stealWindowStart = null; // Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ

// Ø³ÛŒØ³ØªÙ… Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
const DAILY_QUESTS = [
    { name: "chat_messages", description: "Ø§Ø±Ø³Ø§Ù„ 5 Ù¾ÛŒØ§Ù… Ø¯Ø± Ø³Ø±ÙˆØ±", reward: 50, goal: 5 },
    { name: "play_games", description: "Ø´Ø±Ú©Øª Ø¯Ø± 3 Ø¨Ø§Ø²ÛŒ (ØªØ§Ø³ØŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·ØŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ)", reward: 70, goal: 3 },
    { name: "bank_deposit", description: "ÙˆØ§Ø±ÛŒØ² Ø­Ø¯Ø§Ù‚Ù„ 100 Ø³Ú©Ù‡ Ø¨Ù‡ Ø¨Ø§Ù†Ú©", reward: 40, goal: 1 },
    { name: "steal_attempt", description: "Ø§Ù†Ø¬Ø§Ù… ÛŒÚ© Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù…ÙˆÙÙ‚", reward: 80, goal: 1 },
    { name: "shop_purchase", description: "Ø®Ø±ÛŒØ¯ ÛŒÚ© Ø¢ÛŒØªÙ… Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡", reward: 60, goal: 1 },
    { name: "win_duel", description: "Ù¾ÛŒØ±ÙˆØ²ÛŒ Ø¯Ø± ÛŒÚ© Ø¯ÙˆØ¦Ù„", reward: 100, goal: 1 }
];

let users = {};
// Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
let shopItems = [
    { id: 'role_vip', name: 'Ø±ÙˆÙ„ VIP', price: 1000, description: 'ÛŒÚ© Ø±ÙˆÙ„ ÙˆÛŒÚ˜Ù‡ Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ' },
    { id: 'custom_color', name: 'Ø±Ù†Ú¯ Ø³ÙØ§Ø±Ø´ÛŒ', price: 500, description: 'ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ù†Ø§Ù… Ø´Ù…Ø§ Ø¯Ø± Ø³Ø±ÙˆØ±' },
    { id: 'lootbox', name: 'Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³', price: 300, description: 'ÛŒÚ© Ø¬Ø¹Ø¨Ù‡ Ø¨Ø§ Ø¬ÙˆØ§ÛŒØ² ØªØµØ§Ø¯ÙÛŒ' }
];

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
if (fs.existsSync(DATA_FILE)) {
    const data = JSON.parse(fs.readFileSync(DATA_FILE));
    users = data.users || {};
    if (data.shopItems) {
        shopItems = data.shopItems;
    }
}

// Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ø±ÙˆØ´ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØªØ± Ùˆ Ú©Ø§Ø±Ø¢Ù…Ø¯ØªØ±
let isSaving = false; // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù†
let pendingSave = false; // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø± ØµÙ
let saveErrorCount = 0; // Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ØªÙˆØ§Ù„ÛŒ

function saveData() {
    // Ø§Ú¯Ø± Ø¯Ø± Ø­Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ø³ØªÛŒÙ…ØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø§ Ø¨Ù‡ ØªØ¹ÙˆÛŒÙ‚ Ù…ÛŒâ€ŒØ§Ù†Ø¯Ø§Ø²ÛŒÙ…
    if (isSaving) {
        pendingSave = true;
        return;
    }

    isSaving = true;

    try {
        const data = {
            users: users,
            shopItems: shopItems,
            market: global.market || { priceModifiers: {}, lastUpdated: Date.now(), history: [] },
            teams: global.teams || {},
            lastSaved: Date.now() // Ø§ÙØ²ÙˆØ¯Ù† Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ
        };

        // Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ù‚Ø¨Ù„ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ
        const backupFile = `${DATA_FILE}.backup`;
        if (fs.existsSync(DATA_FILE)) {
            try {
                fs.copyFileSync(DATA_FILE, backupFile);
            } catch (backupError) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†:', backupError);
            }
        }

        // Ø§Ø¨ØªØ¯Ø§ Ø¨Ù‡ ÛŒÚ© ÙØ§ÛŒÙ„ Ù…ÙˆÙ‚Øª Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³ÛŒÙ…
        const tempFile = `${DATA_FILE}.temp`;

        // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ø¨Ø§ Ø­Ø°Ù ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù†ÙˆÙ„ ÛŒØ§ Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        const compactData = JSON.parse(JSON.stringify(data, (key, value) => {
            // Ø­Ø°Ù Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ùˆ Ø¢Ø¨Ø¬Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ
            if (Array.isArray(value) && value.length === 0) return undefined;
            if (value !== null && typeof value === 'object' && Object.keys(value).length === 0) return undefined;

            // Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ù…Ù‚Ø¯Ø§Ø± Ø§ØµÙ„ÛŒ
            return value;
        }));

        // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² JSON.stringify Ø¨Ø§ ÙØ§ØµÙ„Ù‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¨Ù‡ØªØ±
        fs.writeFileSync(tempFile, JSON.stringify(compactData, null, 2));

        // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¹ØªØ¨Ø§Ø± ÙØ§ÛŒÙ„ Ù…ÙˆÙ‚Øª
        const checkData = JSON.parse(fs.readFileSync(tempFile, 'utf8'));
        if (!checkData || !checkData.users) {
            throw new Error('Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù†Ø§Ù‚Øµ Ù‡Ø³ØªÙ†Ø¯');
        }

        // Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø¨Ø§ ÙØ§ÛŒÙ„ Ù…ÙˆÙ‚Øª
        fs.renameSync(tempFile, DATA_FILE);
        console.log(`âœ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯: ${Object.keys(users).length} Ú©Ø§Ø±Ø¨Ø±`);

        // Ø±ÛŒØ³Øª Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø®Ø·Ø§
        saveErrorCount = 0;
    } catch (error) {
        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
        saveErrorCount++;

        // Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ØŒ Ø§Ø² ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        const backupFile = `${DATA_FILE}.backup`;
        if (fs.existsSync(backupFile)) {
            try {
                console.log('ğŸ”„ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ø² ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†...');
                fs.copyFileSync(backupFile, DATA_FILE);
                console.log('âœ… Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
            } catch (restoreError) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ø² ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†:', restoreError);
            }
        }

        // Ø§Ú¯Ø± Ú†Ù†Ø¯ÛŒÙ† Ø®Ø·Ø§ Ù¾Ø´Øª Ø³Ø± Ù‡Ù… Ø±Ø® Ø¯Ø§Ø¯ØŒ Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ
        if (saveErrorCount >= 3) {
            try {
                const emergencyBackup = `${DATA_FILE}.emergency.${Date.now()}.json`;
                fs.writeFileSync(emergencyBackup, JSON.stringify({
                    users: users,
                    shopItems: shopItems,
                    market: global.market || { priceModifiers: {}, lastUpdated: Date.now(), history: [] },
                    teams: global.teams || {},
                    lastSaved: Date.now()
                }));
                console.log(`âš ï¸ ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯: ${emergencyBackup}`);
                saveErrorCount = 0;
            } catch (emergencyError) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ:', emergencyError);
            }
        }
    } finally {
        // Ø¯Ø± Ù‡Ø± ØµÙˆØ±Øª ÙˆØ¶Ø¹ÛŒØª Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ Ø¢Ø²Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        isSaving = false;

        // Ø§Ú¯Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÛŒÚ¯Ø±ÛŒ Ø¯Ø± ØµÙ Ø§Ø³ØªØŒ Ø¢Ù† Ø±Ø§ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        if (pendingSave) {
            pendingSave = false;
            setTimeout(saveData, 100); // ØªØ§Ø®ÛŒØ± Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù† ØªØ±Ø¯ Ø§ØµÙ„ÛŒ
        }
    }
}

// ØªØ§Ø¨Ø¹ Ú¯Ø±Ø¯ÙˆÙ†Ù‡
function spinWheel() {
    const rewards = [0, 10, 20, 50, 100]; // Ø¬ÙˆØ§ÛŒØ² Ù…Ù…Ú©Ù†
    return rewards[Math.floor(Math.random() * rewards.length)];
}

// Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ - ØªØ¹Ø±ÛŒÙ Ø®Ø§Ø±Ø¬ Ø§Ø² ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡
const defaultUserData = {
    // Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø§ØµÙ„ÛŒ
    balance: 0,
    bank: 0,
    investment: 0,

    // Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª
    lastSpin: 0,
    lastDaily: 0,
    lastWeekly: 0,
    joinTime: 0,

    // Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ Ù¾ÛŒØ´Ø±ÙØª
    inventory: [],
    level: 0,
    xp: 0,
    initialClaimed: false,

    // Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
    transferHistory: [],
    dailyTransferTotal: 0,
    dailyTransferReset: 0,

    // Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
    lastStealAttempts: [],
    dailySteals: 0,
    dailyStealsReset: 0,
    stolenFrom: {},
    lastTimeStolen: 0,

    // Ø³ÛŒØ³ØªÙ… Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
    dailyQuest: null,
    dailyQuestProgress: 0,
    dailyQuestReset: 0,
    questsCompleted: 0,
    questStats: {
        chat_messages: 0,
        play_games: 0,
        bank_deposit: 0,
        steal_attempt: 0,
        shop_purchase: 0,
        win_duel: 0
    },

    // Ø³ÛŒØ³ØªÙ… Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ùˆ Ø¬Ú©Ù¾Ø§Øª
    lotteryTickets: 0,
    lotteryTicketReset: 0,
    jackpotContribution: 0,

    // Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ³ØªÛŒ Ùˆ ØªÛŒÙ…â€ŒÙ‡Ø§
    friends: [],
    friendRequests: [],
    team: null,
    teamInvites: [],

    // Ø³ÛŒØ³ØªÙ… Ø§ÙØªØ®Ø§Ø±Ø§Øª Ùˆ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
    achievements: [],

    // Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ Ùˆ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡
    activity: {
        daily: 0,
        weekly: 0,
        monthly: 0,
        lastActivityReset: 0
    },

    // Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ
    stats: {
        gamesPlayed: 0,
        gamesWon: 0,
        itemsBought: 0,
        questsCompleted: 0,
        totalEarned: 0,
        totalSpent: 0
    }
};

// Ø¯Ø±ÛŒØ§ÙØª ÛŒØ§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ - Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡
function getUser(userId) {
    // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù…Ø¹ØªØ¨Ø± Ø¨ÙˆØ¯Ù† Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±
    if (!userId || typeof userId !== 'string') {
        console.error('âŒ Ø®Ø·Ø§: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª', userId);
        return null;
    }

    if (!users[userId]) {
        // Ú©Ù¾ÛŒ Ø¹Ù…ÛŒÙ‚ Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ù‡ Ø¬Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ù‡Ø± Ø¨Ø§Ø±
        users[userId] = JSON.parse(JSON.stringify(defaultUserData));
        users[userId].joinTime = Date.now(); // ØªÙ†Ø¸ÛŒÙ… Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª Ø¨Ù‡ Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ
    } else {
        // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ú©Ù‡ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¯Ø± Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒâ€ŒØªØ± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯
        const requiredFields = [
            'balance', 'bank', 'investment', 'level', 'xp', 'joinTime', 
            'questStats', 'friends', 'friendRequests', 'achievements'
        ];

        for (const field of requiredFields) {
            if (users[userId][field] === undefined) {
                if (field === 'questStats') {
                    users[userId][field] = {
                        chat_messages: 0,
                        play_games: 0,
                        bank_deposit: 0,
                        steal_attempt: 0,
                        shop_purchase: 0,
                        win_duel: 0
                    };
                } else if (Array.isArray(defaultUserData[field])) {
                    users[userId][field] = [];
                } else if (typeof defaultUserData[field] === 'object') {
                    users[userId][field] = {};
                } else {
                    users[userId][field] = defaultUserData[field];
                }
            }
        }
    }

    return users[userId];
}

// Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
function getRandomDailyQuest() {
    return DAILY_QUESTS[Math.floor(Math.random() * DAILY_QUESTS.length)];
}

// Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ®ØµÛŒØµ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
function checkAndAssignDailyQuest(userId) {
    const userData = getUser(userId);
    const now = Date.now();
    const oneDayMs = 24 * 60 * 60 * 1000;

    // Ø§Ú¯Ø± Ù…Ø£Ù…ÙˆØ±ÛŒØª Ù†Ø¯Ø§Ø±Ù‡ ÛŒØ§ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ù‚Ø¨Ù„ÛŒ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ØŒ ÛŒÚ© Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø¬Ø¯ÛŒØ¯ ØªØ®ØµÛŒØµ Ø¨Ø¯Ù‡
    if (!userData.dailyQuest || now - userData.dailyQuestReset > oneDayMs) {
        const newQuest = getRandomDailyQuest();
        userData.dailyQuest = newQuest;
        userData.dailyQuestProgress = 0;
        userData.dailyQuestReset = now;

        // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ Ø³Ø§Ø®ØªØ§Ø± Ø¢Ù…Ø§Ø± Ú©ÙˆØ¦Ø³Øª
        if (!userData.questStats) {
            userData.questStats = {
                chat_messages: 0,
                play_games: 0,
                bank_deposit: 0,
                steal_attempt: 0,
                shop_purchase: 0,
                win_duel: 0
            };
        }

        return { isNew: true, quest: newQuest };
    }

    return { isNew: false, quest: userData.dailyQuest };
}

// Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØª Ù…Ø£Ù…ÙˆØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±
function updateQuestProgress(userId, questType, amount = 1) {
    const userData = getUser(userId);

    // Ø§Ú¯Ø± Ù…Ø£Ù…ÙˆØ±ÛŒØªÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ØŒ Ú†ÛŒØ²ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø¯Ù‡
    if (!userData.dailyQuest) return false;

    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©Ø§Ø±Ø¨Ø±
    if (userData.questStats[questType] !== undefined) {
        userData.questStats[questType] += amount;
    }

    // Ø§Ú¯Ø± Ù†ÙˆØ¹ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø¨Ø§ Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø± ÛŒÚ©Ø³Ø§Ù† Ø§Ø³ØªØŒ Ù¾ÛŒØ´Ø±ÙØª Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†
    if (userData.dailyQuest.name === questType) {
        userData.dailyQuestProgress += amount;

        // Ø¨Ø±Ø±Ø³ÛŒ ØªÚ©Ù…ÛŒÙ„ Ù…Ø£Ù…ÙˆØ±ÛŒØª
        if (userData.dailyQuestProgress >= userData.dailyQuest.goal) {
            // Ø§Ø¹Ø·Ø§ÛŒ Ù¾Ø§Ø¯Ø§Ø´
            userData.balance += userData.dailyQuest.reward;
            userData.questsCompleted++;

            // Ø±ÛŒØ³Øª Ù…Ø£Ù…ÙˆØ±ÛŒØª
            userData.dailyQuest = null;
            return true; // Ù…Ø£Ù…ÙˆØ±ÛŒØª ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯
        }
    }

    return false;
}

// ØªØ§Ø¨Ø¹ Ø³Ø§Ø®Øª Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø±Ø§ÛŒ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§
function createProgressBar(percentage) {
    const barLength = 20; // Ø·ÙˆÙ„ Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
    const filledLength = Math.floor((percentage / 100) * barLength);
    const emptyLength = barLength - filledLength;

    return 'â–°'.repeat(filledLength) + 'â–±'.repeat(emptyLength) + ` ${percentage}%`;
}

// Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø¬Ú©Ù¾Ø§Øª Ùˆ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
let jackpotPool = 1000; // Ù…Ø®Ø²Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¬Ú©Ù¾Ø§Øª
let jackpotPlayers = []; // Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
let lotteryPool = 500; // Ù…Ø®Ø²Ù† Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
let lotteryTickets = []; // Ù„ÛŒØ³Øª Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡
const LOTTERY_TICKET_PRICE = 50; // Ù‚ÛŒÙ…Øª Ù‡Ø± Ø¨Ù„ÛŒØ·
const MAX_TICKETS_PER_WEEK = 5; // Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ø®Ø±ÛŒØ¯ Ø¯Ø± Ù‡ÙØªÙ‡
let nextLotteryDraw = Date.now() + 7 * 24 * 60 * 60 * 1000; // Ø²Ù…Ø§Ù† Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø¹Ø¯ÛŒ (ÛŒÚ© Ù‡ÙØªÙ‡ Ø¨Ø¹Ø¯)

// ØªØ§Ø¨Ø¹ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
function buyLotteryTicket(userId) {
    const userData = getUser(userId);
    const now = Date.now();
    const oneWeekMs = 7 * 24 * 60 * 60 * 1000;

    // Ø¨Ø±Ø±Ø³ÛŒ Ø±ÛŒØ³Øª Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
    if (now - userData.lotteryTicketReset > oneWeekMs) {
        userData.lotteryTickets = 0;
        userData.lotteryTicketReset = now;
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
    if (userData.lotteryTickets >= MAX_TICKETS_PER_WEEK) {
        return { success: false, reason: `âŒ Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ù‚Ù Ù…Ø¬Ø§Ø² Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¯Ø± Ù‡ÙØªÙ‡ (${MAX_TICKETS_PER_WEEK} Ø¨Ù„ÛŒØ·) Ø±Ø³ÛŒØ¯Ù‡â€ŒØ§ÛŒØ¯!` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ
    if (userData.balance < LOTTERY_TICKET_PRICE) {
        return { success: false, reason: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù‚ÛŒÙ…Øª: ${LOTTERY_TICKET_PRICE} ${COIN_NAME})` };
    }

    // Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
    userData.balance -= LOTTERY_TICKET_PRICE;
    userData.lotteryTickets++;

    // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù…Ø®Ø²Ù† Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
    lotteryPool += Math.floor(LOTTERY_TICKET_PRICE * 0.8); // 80% Ù‚ÛŒÙ…Øª Ø¨Ù„ÛŒØ· Ø¨Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯

    // Ø«Ø¨Øª Ø¨Ù„ÛŒØ· Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡
    lotteryTickets.push({
        userId: userId,
        purchaseTime: now
    });

    return { success: true, ticketNumber: userData.lotteryTickets };
}

// ØªØ§Ø¨Ø¹ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
function drawLotteryWinner() {
    if (!lotteryTickets || lotteryTickets.length === 0) {
        console.log("ğŸŸï¸ Ù‡ÛŒÚ† Ø¨Ù„ÛŒØ·ÛŒ Ø¨Ø±Ø§ÛŒ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!");
        return null; // Ù‡ÛŒÚ† Ø¨Ù„ÛŒØ·ÛŒ ÙØ±ÙˆØ®ØªÙ‡ Ù†Ø´Ø¯Ù‡
    }

    try {
        // Ø§Ù†ØªØ®Ø§Ø¨ ÛŒÚ© Ø¨Ù„ÛŒØ· Ø¨Ù‡ ØµÙˆØ±Øª ØªØµØ§Ø¯ÙÛŒ
        const winnerIndex = Math.floor(Math.random() * lotteryTickets.length);
        const winnerTicket = lotteryTickets[winnerIndex];

        if (!winnerTicket || !winnerTicket.userId) {
            console.error("âŒ Ø¨Ù„ÛŒØ· Ø¨Ø±Ù†Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø§Ù‚Øµ Ø¯Ø§Ø±Ø¯!");
            return null;
        }

        // Ù¾Ø±Ø¯Ø§Ø®Øª Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ù‡ Ø¨Ø±Ù†Ø¯Ù‡
        const userData = getUser(winnerTicket.userId);
        userData.balance += lotteryPool;

        // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡
        const winner = {
            userId: winnerTicket.userId,
            prize: lotteryPool
        };

        // Ø±ÛŒØ³Øª Ø³ÛŒØ³ØªÙ… Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
        lotteryPool = 500; // Ù…Ø®Ø²Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¬Ø¯ÛŒØ¯
        lotteryTickets = [];
        nextLotteryDraw = Date.now() + 7 * 24 * 60 * 60 * 1000; // ÛŒÚ© Ù‡ÙØªÙ‡ Ø¨Ø¹Ø¯

        // Ø±ÛŒØ³Øª Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
        for (const userId in users) {
            if (users[userId].lotteryTickets) {
                users[userId].lotteryTickets = 0;
            }
        }

        // Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
        saveData();

        return winner;
    } catch (error) {
        console.error("âŒ Ø®Ø·Ø§ Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ:", error);
        return null;
    }
}

// ØªØ§Ø¨Ø¹ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
function joinJackpot(userId, amount) {
    const userData = getUser(userId);

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ
    if (userData.balance < amount) {
        return { success: false, reason: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù…ÙˆØ¬ÙˆØ¯ÛŒ: ${userData.balance} ${COIN_NAME})` };
    }

    // Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
    if (amount < 10) {
        return { success: false, reason: `âŒ Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª 10 ${COIN_NAME} Ø§Ø³Øª!` };
    }

    // Ú©Ù… Ú©Ø±Ø¯Ù† Ù…Ø¨Ù„Øº Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±
    userData.balance -= amount;

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¬Ú©Ù¾Ø§Øª
    jackpotPool += amount;

    // Ø«Ø¨Øª Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø§ ÙˆØ²Ù† Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ù…Ø¨Ù„Øº
    userData.jackpotContribution += amount;

    // Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¬Ú©Ù¾Ø§Øª
    const existingPlayerIndex = jackpotPlayers.findIndex(player => player.userId === userId);

    if (existingPlayerIndex !== -1) {
        // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ú©Ø±Ø¯Ù‡ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ Ø¨Ù‡ Ø±ÙˆØ² Ú©Ù†
        jackpotPlayers[existingPlayerIndex].amount += amount;
    } else {
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¬Ø¯ÛŒØ¯
        jackpotPlayers.push({
            userId: userId,
            amount: amount
        });
    }

    return { 
        success: true, 
        amount: amount, 
        totalPool: jackpotPool,
        chance: ((userData.jackpotContribution / jackpotPool) * 100).toFixed(2)
    };
}

// ØªØ§Ø¨Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯Ù‡ Ø¬Ú©Ù¾Ø§Øª
function drawJackpotWinner() {
    if (jackpotPlayers.length === 0) {
        return null; // Ù‡ÛŒÚ† Ø¨Ø§Ø²ÛŒÚ©Ù†ÛŒ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ù†Ú©Ø±Ø¯Ù‡
    }

    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¨Ø§Ù„Øº Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†
    const totalAmount = jackpotPlayers.reduce((sum, player) => sum + player.amount, 0);

    // Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù…Ø¨Ù„Øº Ø´Ø±Ú©Øª (Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ Ù…Ø¨Ù„Øº Ø¨ÛŒØ´ØªØ±)
    let random = Math.random() * totalAmount;
    let winner = null;

    for (const player of jackpotPlayers) {
        random -= player.amount;
        if (random <= 0) {
            winner = player;
            break;
        }
    }

    if (!winner) {
        // Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ø§Ù†ØªØ®Ø§Ø¨ (Ø¨Ù‡ Ù†Ø¯Ø±Øª Ø§ØªÙØ§Ù‚ Ù…ÛŒâ€ŒØ§ÙØªØ¯)ØŒ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†
        winner = jackpotPlayers[0];
    }

    // Ù¾Ø±Ø¯Ø§Ø®Øª Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ù‡ Ø¨Ø±Ù†Ø¯Ù‡
    const userData = getUser(winner.userId);
    userData.balance += jackpotPool;

    // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡
    const winnerInfo = {
        userId: winner.userId,
        prize: jackpotPool,
        chance: ((winner.amount / totalAmount) * 100).toFixed(2)
    };

    // Ø±ÛŒØ³Øª Ø³ÛŒØ³ØªÙ… Ø¬Ú©Ù¾Ø§Øª
    jackpotPool = 1000; // Ù…Ø®Ø²Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¬Ø¯ÛŒØ¯
    jackpotPlayers = [];

    // Ø±ÛŒØ³Øª Ù…Ø´Ø§Ø±Ú©Øª Ø¬Ú©Ù¾Ø§Øª Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
    for (const userId in users) {
        if (users[userId].jackpotContribution) {
            users[userId].jackpotContribution = 0;
        }
    }

    return winnerInfo;
}

// Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
function checkStealWindow() {
    const now = Date.now();

    // Ø§Ú¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ ÛŒØ§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯Ù‡ Ø¨Ø§Ø´Ø¯
    if (!stealWindowStart || now > stealWindowStart + STEAL_WINDOW_DURATION) {
        // ØªÙ†Ø¸ÛŒÙ… ÛŒÚ© Ø²Ù…Ø§Ù† ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ø·ÙˆÙ„ 24 Ø³Ø§Ø¹Øª Ø¢ÛŒÙ†Ø¯Ù‡
        const oneDayMs = 24 * 60 * 60 * 1000; // 24 Ø³Ø§Ø¹Øª Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
        const randomOffset = Math.floor(Math.random() * (oneDayMs - STEAL_WINDOW_DURATION));
        stealWindowStart = now + randomOffset;

        console.log(`ğŸ•’ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¬Ø¯ÛŒØ¯ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯: ${new Date(stealWindowStart).toLocaleString()}`);
        return false;
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù‡Ø³ØªÛŒÙ…
    return now >= stealWindowStart && now < (stealWindowStart + STEAL_WINDOW_DURATION);
}

// Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
function canSteal(stealerId, targetId) {
    const now = Date.now();
    const stealer = getUser(stealerId);
    const target = getUser(targetId);

    // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
    const isStealWindowActive = checkStealWindow();
    if (!isStealWindowActive) {
        return { allowed: false, reason: 'âŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø§Ø² Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø§Ù„Ø§Ù† Ø²Ù…Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†ÛŒØ³Øª.' };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ (5 Ø±ÙˆØ²)
    const fiveDaysMs = NEW_USER_PROTECTION_DAYS * 24 * 60 * 60 * 1000;
    if (now - target.joinTime < fiveDaysMs) {
        return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± ØªØ§Ø²Ù‡ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù¾ÛŒÙˆØ³ØªÙ‡ Ùˆ ÙØ¹Ù„Ø§Ù‹ Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡ Ø§Ø³Øª!' };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
    const oneDayMs = 24 * 60 * 60 * 1000;
    if (now - stealer.dailyStealsReset > oneDayMs) {
        stealer.dailySteals = 0;
        stealer.dailyStealsReset = now;
        stealer.stolenFrom = {}; // Ø±ÛŒØ³Øª Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡
    }

    if (stealer.dailySteals >= MAX_DAILY_STEALS) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ù‚Ù Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ (${MAX_DAILY_STEALS} Ø¨Ø§Ø±) Ø±Ø³ÛŒØ¯Ù‡â€ŒØ§ÛŒØ¯! ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Øµ Ø¨ÛŒØ´ Ø§Ø² 1 Ø¨Ø§Ø± Ø¯Ø± Ø±ÙˆØ²
    if (stealer.stolenFrom[targetId] && (now - stealer.stolenFrom[targetId]) < oneDayMs) {
        return { allowed: false, reason: 'âŒ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø¯Ø²Ø¯ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.' };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù (Ø§Ú¯Ø± Ø¯Ø± 24 Ø³Ø§Ø¹Øª Ø§Ø®ÛŒØ± Ø§Ø² Ø§Ùˆ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
    if (target.lastTimeStolen && (now - target.lastTimeStolen) < oneDayMs) {
        // Ø´Ø§Ù†Ø³ 50-50 Ø¨Ø±Ø§ÛŒ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø²Ø¯ÛŒ
        if (Math.random() < 0.5) {
            return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø®ÛŒØ±Ø§Ù‹ Ù…ÙˆØ±Ø¯ Ø¯Ø²Ø¯ÛŒ Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ùˆ Ù‡ÙˆØ´ÛŒØ§Ø± Ø§Ø³Øª! Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯.' };
        }
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
    if (target.balance <= 0) {
        return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø¬ÛŒØ¨ Ø®ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!' };
    }

    return { allowed: true };
}

// Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ù„ÙˆÙ„ Ø¢Ù¾
function addXP(userId, amount) {
    const userData = getUser(userId);
    userData.xp += amount;

    // Ø¨Ø±Ø±Ø³ÛŒ Ù„ÙˆÙ„ Ø¢Ù¾ - Ù‡Ø± 100 XP ÛŒÚ© Ù„ÙˆÙ„ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯
    const newLevel = Math.floor(userData.xp / 100);
    if (newLevel > userData.level) {
        userData.level = newLevel;
        return true; // Ù„ÙˆÙ„ Ø¢Ù¾ Ø´Ø¯
    }
    return false; // Ù„ÙˆÙ„ Ø¢Ù¾ Ù†Ø´Ø¯
}

// Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡Ø¯
function canTransferCoins(userId, targetId, amount) {
    const userData = getUser(userId);
    const now = Date.now();

    // Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø·Ø­ Ú©Ø§Ø±Ø¨Ø± - Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Ù„ÙˆÙ„ 5 Ø¨Ø§Ø´Ø¯
    if (userData.level < 5) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Ù„ÙˆÙ„ 5 Ø¨Ø§Ø´ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡ÛŒØ¯ (Ù„ÙˆÙ„ ÙØ¹Ù„ÛŒ: ${userData.level})` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù‚Ù Ø±ÙˆØ²Ø§Ù†Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ (500 Ø³Ú©Ù‡)
    const MAX_DAILY_TRANSFER = 500;

    // Ø§Ú¯Ø± Ø±ÙˆØ² Ø¬Ø¯ÛŒØ¯ÛŒ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø±Ø§ Ø±ÛŒØ³Øª Ú©Ù†ÛŒÙ…
    const oneDayMs = 86400000;
    if (now - userData.dailyTransferReset > oneDayMs) {
        userData.dailyTransferTotal = 0;
        userData.dailyTransferReset = now;
    }

    if (userData.dailyTransferTotal + amount > MAX_DAILY_TRANSFER) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² ${MAX_DAILY_TRANSFER} ${COIN_NAME} Ø¯Ø± Ø±ÙˆØ² Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡ÛŒØ¯ (${userData.dailyTransferTotal} Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡)` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ø§Ù†ØªÙ‚Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…ØªÙˆØ§Ù„ÛŒ Ø¨Ù‡ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Øµ
    // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† 3 Ø§Ù†ØªÙ‚Ø§Ù„ Ø¢Ø®Ø±
    const recentTransfers = userData.transferHistory
        .filter(t => t.targetId === targetId)
        .slice(-3);

    // Ø§Ú¯Ø± 3 Ø§Ù†ØªÙ‚Ø§Ù„ Ù…ØªÙˆØ§Ù„ÛŒ Ø¨Ù‡ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ù„Ø§Ú© Ù…ÛŒâ€ŒØ´ÙˆØ¯
    if (recentTransfers.length >= 3) {
        const lastTransferTime = recentTransfers[recentTransfers.length - 1].time;
        // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ 24 Ø³Ø§Ø¹Øª Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ù†ØªÙ‚Ø§Ù„ Ú¯Ø°Ø´ØªÙ‡ Ø§Ø³Øª
        if (now - lastTransferTime < oneDayMs) {
            return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ù…Ø¬Ø§Ø² Ø¨Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ù„Ø·ÙØ§Ù‹ 24 Ø³Ø§Ø¹Øª ØµØ¨Ø± Ú©Ù†ÛŒØ¯.` };
        }
    }

    return { allowed: true };
}

// Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
function recordTransfer(userId, targetId, amount) {
    const userData = getUser(userId);
    const now = Date.now();

    // Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
    userData.transferHistory.push({
        targetId: targetId,
        amount: amount,
        time: now
    });

    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡
    userData.dailyTransferTotal += amount;

    // Ø§Ú¯Ø± Ø§ÛŒÙ† Ø§ÙˆÙ„ÛŒÙ† Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ² Ø§Ø³ØªØŒ Ø²Ù…Ø§Ù† Ø±ÛŒØ³Øª Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ…
    if (userData.dailyTransferReset === 0) {
        userData.dailyTransferReset = now;
    }

    saveData();
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø¨Ù‡ Ø§ÛŒÙ…ÙˆØ¬ÛŒ
function getDiceEmoji(roll) {
    switch (roll) {
        case 1: return ':one:';
        case 2: return ':two:';
        case 3: return ':three:';
        case 4: return ':four:';
        case 5: return ':five:';
        case 6: return ':six:';
        default: return '';
    }
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ± Ø¨Ø§ Ø­ÙØ§Ø¸Øª Ø¨ÛŒØ´ØªØ±
function hasAdminRole(member) {
    try {
        // Ø¨Ø±Ø±Ø³ÛŒ Ø±ÙˆÙ„ Ù…Ø¯ÛŒØ± Ø§Ø®ØªØµØ§ØµÛŒ
        if (member.roles && member.roles.cache && member.roles.cache.has(ADMIN_ROLE_ID)) {
            return true;
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Administrator
        if (member.permissions && member.permissions.has(PermissionFlagsBits.Administrator)) {
            return true;
        }

        // Ø¨Ø±Ø±Ø³ÛŒ ØµØ§Ø­Ø¨ Ø³Ø±ÙˆØ± Ø¨ÙˆØ¯Ù†
        if (member.guild && member.guild.ownerId === member.id) {
            return true;
        }

        return false;
    } catch (error) {
        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±:', error);
        return false; // Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±ÙˆØ² Ø®Ø·Ø§ØŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    }
}


// ØªØ¹Ø±ÛŒÙ Ø³ÛŒØ³ØªÙ… Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ùˆ Ø§ÙØªØ®Ø§Ø±Ø§Øª
const ACHIEVEMENTS = [
    { id: 'first_win', name: 'Ø¨Ø±Ù†Ø¯Ù‡ Ø§ÙˆÙ„', description: 'Ø¨Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø± Ø¯Ø± ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯', condition: user => user.stats.gamesWon >= 1, reward: 50 },
    { id: 'gold_digger', name: 'Ø¬ÙˆÛŒØ§ÛŒ Ø·Ù„Ø§', description: 'Ø¨ÛŒØ´ Ø§Ø² 1000 Ø³Ú©Ù‡ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú©Ù†ÛŒØ¯', condition: user => (user.balance + user.bank + user.investment) >= 1000, reward: 200 },
    { id: 'quest_master', name: 'Ø§Ø³ØªØ§Ø¯ Ù…Ø£Ù…ÙˆØ±ÛŒØª', description: '10 Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯', condition: user => user.questsCompleted >= 10, reward: 300 },
    { id: 'social_butterfly', name: 'Ù¾Ø±ÙˆØ§Ù†Ù‡ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ', description: '5 Ø¯ÙˆØ³Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯', condition: user => user.friends.length >= 5, reward: 100 },
    { id: 'team_player', name: 'Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÛŒÙ…ÛŒ', description: 'Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯', condition: user => user.team !== null, reward: 150 },
    { id: 'investor', name: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±', description: 'Ø­Ø¯Ø§Ù‚Ù„ 500 Ø³Ú©Ù‡ Ø¯Ø± Ø¨Ø§Ù†Ú© Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯', condition: user => user.investment >= 500, reward: 250 },
    { id: 'gambler', name: 'Ù‚Ù…Ø§Ø±Ø¨Ø§Ø²', description: '50 Ø¨Ø§Ø²ÛŒ Ø´Ø§Ù†Ø³ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯', condition: user => user.stats.gamesPlayed >= 50, reward: 500 },
    { id: 'jackpot_winner', name: 'Ø¨Ø±Ù†Ø¯Ù‡ Ø¬Ú©Ù¾Ø§Øª', description: 'ÛŒÚ© Ø¨Ø§Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø¬Ú©Ù¾Ø§Øª Ø´ÙˆÛŒØ¯', condition: user => user.stats.jackpotWins >= 1, reward: 1000 },
    { id: 'daily_streak', name: 'ØªØ¯Ø§ÙˆÙ… Ø±ÙˆØ²Ø§Ù†Ù‡', description: '7 Ø±ÙˆØ² Ù…ØªÙˆØ§Ù„ÛŒ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯', condition: user => user.stats.dailyStreak >= 7, reward: 300 },
    { id: 'high_level', name: 'Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§', description: 'Ø¨Ù‡ Ø³Ø·Ø­ 10 Ø¨Ø±Ø³ÛŒØ¯', condition: user => user.level >= 10, reward: 500 }
];

// Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…
function createTeam(userId, teamName) {
    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± ØªÛŒÙ…ÛŒ Ù†Ø¨Ø§Ø´Ø¯
    const userData = getUser(userId);
    if (userData.team !== null) {
        return { success: false, reason: 'Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± ÛŒÚ© ØªÛŒÙ… Ù‡Ø³ØªÛŒØ¯!' };
    }

    // Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ©ØªØ§ Ø¨Ø±Ø§ÛŒ ØªÛŒÙ…
    const teamId = `team_${Date.now()}`;

    // Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯
    if (!global.teams) global.teams = {};

    global.teams[teamId] = {
        id: teamId,
        name: teamName,
        leader: userId,
        members: [userId],
        createdAt: Date.now(),
        score: 0,
        wins: 0,
        losses: 0
    };

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ ØªÛŒÙ…
    userData.team = teamId;
    saveData();

    return { success: true, teamId: teamId };
}

function joinTeam(userId, teamId) {
    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÛŒÙ…
    if (!global.teams || !global.teams[teamId]) {
        return { success: false, reason: 'ØªÛŒÙ… Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!' };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± ØªÛŒÙ…ÛŒ Ù†Ø¨Ø§Ø´Ø¯
    const userData = getUser(userId);
    if (userData.team !== null) {
        return { success: false, reason: 'Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± ÛŒÚ© ØªÛŒÙ… Ù‡Ø³ØªÛŒØ¯!' };
    }

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ ØªÛŒÙ…
    global.teams[teamId].members.push(userId);
    userData.team = teamId;
    saveData();

    return { success: true, teamName: global.teams[teamId].name };
}

function leaveTeam(userId) {
    const userData = getUser(userId);

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØªÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯
    if (userData.team === null) {
        return { success: false, reason: 'Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯!' };
    }

    const teamId = userData.team;

    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÛŒÙ…
    if (!global.teams || !global.teams[teamId]) {
        userData.team = null;
        saveData();
        return { success: true, message: 'Ø´Ù…Ø§ Ø§Ø² ØªÛŒÙ… Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯ (ØªÛŒÙ… ÛŒØ§ÙØª Ù†Ø´Ø¯).' };
    }

    // Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø± Ø§Ø² ØªÛŒÙ…
    const teamData = global.teams[teamId];
    const memberIndex = teamData.members.indexOf(userId);

    if (memberIndex !== -1) {
        teamData.members.splice(memberIndex, 1);
    }

    // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø¨ÙˆØ¯ Ùˆ Ù‡Ù†ÙˆØ² Ø§Ø¹Ø¶Ø§ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ø¯Ø± ØªÛŒÙ… Ù‡Ø³ØªÙ†Ø¯ØŒ Ø±Ù‡Ø¨Ø±ÛŒ Ø±Ø§ ÙˆØ§Ú¯Ø°Ø§Ø± Ú©Ù†ÛŒÙ…
    if (teamData.leader === userId && teamData.members.length > 0) {
        teamData.leader = teamData.members[0];
    }

    // Ø§Ú¯Ø± ØªÛŒÙ… Ø®Ø§Ù„ÛŒ Ø´Ø¯ØŒ Ø¢Ù† Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒÙ…
    if (teamData.members.length === 0) {
        delete global.teams[teamId];
    }

    // Ø­Ø°Ù ØªÛŒÙ… Ø§Ø² Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±
    userData.team = null;
    saveData();

    return { success: true, message: 'Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² ØªÛŒÙ… Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯.' };
}

// Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ³ØªÛŒ
function sendFriendRequest(senderId, targetId) {
    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø®ÙˆØ¯Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†Ø¯Ù‡Ø¯
    if (senderId === targetId) {
        return { success: false, reason: 'Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø¨ÙØ±Ø³ØªÛŒØ¯!' };
    }

    const senderData = getUser(senderId);
    const targetData = getUser(targetId);

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯ÙˆØ³Øª Ù†Ø¨Ø§Ø´Ù†Ø¯
    if (senderData.friends.includes(targetId)) {
        return { success: false, reason: 'Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù† Ø´Ù…Ø§ Ø§Ø³Øª!' };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
    if (targetData.friendRequests.includes(senderId)) {
        return { success: false, reason: 'Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!' };
    }

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    targetData.friendRequests.push(senderId);
    saveData();

    return { success: true };
}

function acceptFriendRequest(userId, requesterId) {
    const userData = getUser(userId);

    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    const requestIndex = userData.friendRequests.indexOf(requesterId);
    if (requestIndex === -1) {
        return { success: false, reason: 'Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!' };
    }

    // Ø­Ø°Ù Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù†
    userData.friendRequests.splice(requestIndex, 1);
    userData.friends.push(requesterId);

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…ØªÙ‚Ø§Ø¨Ù„
    const requesterData = getUser(requesterId);
    requesterData.friends.push(userId);
    saveData();

    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ù¾Ø±ÙˆØ§Ù†Ù‡ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ
    checkAchievement(userId, 'social_butterfly');
    checkAchievement(requesterId, 'social_butterfly');

    return { success: true };
}

function removeFriend(userId, friendId) {
    const userData = getUser(userId);
    const friendData = getUser(friendId);

    // Ø­Ø°Ù Ø¯ÙˆØ³Øª Ø§Ø² Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±
    const userFriendIndex = userData.friends.indexOf(friendId);
    if (userFriendIndex !== -1) {
        userData.friends.splice(userFriendIndex, 1);
    }

    // Ø­Ø°Ù Ù…ØªÙ‚Ø§Ø¨Ù„
    const friendUserIndex = friendData.friends.indexOf(userId);
    if (friendUserIndex !== -1) {
        friendData.friends.splice(friendUserIndex, 1);
    }

    saveData();
    return { success: true };
}

// Ø³ÛŒØ³ØªÙ… Ø§ÙØªØ®Ø§Ø±Ø§Øª
function checkAchievement(userId, achievementId = null) {
    const userData = getUser(userId);
    let newAchievements = [];

    // Ø¨Ø±Ø±Ø³ÛŒ ÛŒÚ© Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø®Ø§Øµ ÛŒØ§ Ù‡Ù…Ù‡ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
    const achievementsToCheck = achievementId ? ACHIEVEMENTS.filter(a => a.id === achievementId) : ACHIEVEMENTS;

    for (const achievement of achievementsToCheck) {
        // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ù‚Ø¨Ù„Ø§Ù‹ Ú©Ø³Ø¨ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
        if (!userData.achievements.some(a => a.id === achievement.id)) {
            // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø±Ø· Ø¯Ø³ØªØ§ÙˆØ±Ø¯
            if (achievement.condition(userData)) {
                // Ø§Ø¹Ø·Ø§ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ùˆ Ù¾Ø§Ø¯Ø§Ø´
                userData.achievements.push({
                    id: achievement.id,
                    name: achievement.name,
                    description: achievement.description,
                    acquiredAt: Date.now()
                });

                // Ø§Ø¹Ø·Ø§ÛŒ Ù¾Ø§Ø¯Ø§Ø´
                userData.balance += achievement.reward;
                newAchievements.push({
                    name: achievement.name,
                    reward: achievement.reward
                });
            }
        }
    }

    if (newAchievements.length > 0) {
        saveData();
    }

    return newAchievements;
}

// ØªØ¹Ø±ÛŒÙ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´
const commands = [
    new SlashCommandBuilder().setName('balance').setDescription('Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§'),
    new SlashCommandBuilder().setName('spin').setDescription('Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡'),
    new SlashCommandBuilder().setName('leaderboard').setDescription('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†'),
    new SlashCommandBuilder().setName('ping').setDescription('Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨ÙˆØ¯Ù† Ø±Ø¨Ø§Øª'),
    new SlashCommandBuilder().setName('claim').setDescription('Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ (ÙÙ‚Ø· ÛŒÚ©Ø¨Ø§Ø±)'),
    new SlashCommandBuilder().setName('level').setDescription('Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ø´Ù…Ø§'),

    // Ø¯Ø³ØªÙˆØ± Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡
    new SlashCommandBuilder().setName('quest').setDescription('Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡'),

    // Ø¯Ø³ØªÙˆØ± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
      new SlashCommandBuilder()
            .setName('steal')
            .setDescription('Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true)),

        // Ø¯Ø³ØªÙˆØ± Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
        new SlashCommandBuilder()
            .setName('lottery')
            .setDescription('Ø´Ø±Ú©Øª Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ù‡ÙØªÚ¯ÛŒ Ø³Ø±ÙˆØ±'),

        // Ø¯Ø³ØªÙˆØ± Ø¬Ú©Ù¾Ø§Øª
        new SlashCommandBuilder()
            .setName('jackpot')
            .setDescription('Ø´Ø±Ú©Øª Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø¬Ú©Ù¾Ø§Øª Ø¨Ø§ Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ú©Ù„ Ø¬Ø§ÛŒØ²Ù‡')
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª').setRequired(true)),

        // Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¬Ø¯ÛŒØ¯
        new SlashCommandBuilder()
            .setName('transfer')
            .setDescription('Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

        new SlashCommandBuilder()
            .setName('daily')
            .setDescription('Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡'),

        new SlashCommandBuilder()
            .setName('bankdeposit')
            .setDescription('ÙˆØ§Ø±ÛŒØ² Ø³Ú©Ù‡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

        new SlashCommandBuilder()
            .setName('bankwithdraw')
            .setDescription('Ø¨Ø±Ø¯Ø§Ø´Øª Ø³Ú©Ù‡ Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

        new SlashCommandBuilder()
            .setName('invest')
            .setDescription('Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ Ø¨Ø§ Ù†Ø±Ø® Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡')
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

        new SlashCommandBuilder()
            .setName('profile')
            .setDescription('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø®ÙˆØ¯ ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(false)),

        new SlashCommandBuilder()
            .setName('menu')
            .setDescription('Ù†Ù…Ø§ÛŒØ´ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ø±Ø¨Ø§Øª'),

        // Ø¯Ø³ØªÙˆØ±Ø§Øª Ø³ÛŒØ³ØªÙ… Ø¯ÙˆØ³ØªÛŒ Ùˆ ØªÛŒÙ…â€ŒÙ‡Ø§
        new SlashCommandBuilder()
            .setName('friend')
            .setDescription('Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù†')
            .addSubcommand(subcommand => 
                subcommand
                    .setName('add')
                    .setDescription('Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ')
                    .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('accept')
                    .setDescription('Ù¾Ø°ÛŒØ±Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ')
                    .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('list')
                    .setDescription('Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù†')
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('remove')
                    .setDescription('Ø­Ø°Ù ÛŒÚ© Ø¯ÙˆØ³Øª')
                    .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            ),

        new SlashCommandBuilder()
            .setName('team')
            .setDescription('Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…')
            .addSubcommand(subcommand => 
                subcommand
                    .setName('create')
                    .setDescription('Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯')
                    .addStringOption(option => option.setName('name').setDescription('Ù†Ø§Ù… ØªÛŒÙ…').setRequired(true))
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('join')
                    .setDescription('Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ…')
                    .addStringOption(option => option.setName('id').setDescription('Ø´Ù†Ø§Ø³Ù‡ ØªÛŒÙ…').setRequired(true))
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('leave')
                    .setDescription('Ø®Ø±ÙˆØ¬ Ø§Ø² ØªÛŒÙ…')
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('info')
                    .setDescription('Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ…')
            )
            .addSubcommand(subcommand => 
                subcommand
                    .setName('invite')
                    .setDescription('Ø¯Ø¹ÙˆØª Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ ØªÛŒÙ…')
                    .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            ),

        // Ø¯Ø³ØªÙˆØ± Ø§ÙØªØ®Ø§Ø±Ø§Øª
        new SlashCommandBuilder()
            .setName('achievements')
            .setDescription('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ùˆ Ø§ÙØªØ®Ø§Ø±Ø§Øª'),

        // Ø¯Ø³ØªÙˆØ± Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ
        new SlashCommandBuilder()
            .setName('teamchallenge')
            .setDescription('Ø´Ø±Ú©Øª Ø¯Ø± Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ')
            .addStringOption(option => option.setName('team_id').setDescription('Ø´Ù†Ø§Ø³Ù‡ ØªÛŒÙ… Ø­Ø±ÛŒÙ').setRequired(true))
            .addIntegerOption(option => option.setName('bet').setDescription('Ù…ÛŒØ²Ø§Ù† Ø´Ø±Ø· (Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ø¶Ùˆ)').setRequired(true)),

        // Ø¯Ø³ØªÙˆØ± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù†)
        new SlashCommandBuilder()
            .setName('restart')
            .setDescription('Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        // Ø¯Ø³ØªÙˆØ± Ù…Ø®ØµÙˆØµ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§
        new SlashCommandBuilder()
            .setName('setchannel')
            .setDescription('ØªÙ†Ø¸ÛŒÙ… Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†)')
            .addChannelOption(option => option.setName('channel').setDescription('Ú©Ø§Ù†Ø§Ù„ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        new SlashCommandBuilder()
            .setName('addcoins')
            .setDescription('Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†)')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        new SlashCommandBuilder()
            .setName('shop')
            .setDescription('ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ùˆ Ø®Ø±ÛŒØ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª'),

        new SlashCommandBuilder()
            .setName('dice')
            .setDescription('Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
            .addIntegerOption(option => option.setName('bet').setDescription('Ù…Ø¨Ù„Øº Ø´Ø±Ø·').setRequired(true)),

        // Ø¯Ø³ØªÙˆØ± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
        new SlashCommandBuilder()
            .setName('adminpanel')
            .setDescription('Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        // Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ø¬Ø¯ÛŒØ¯
        new SlashCommandBuilder()
            .setName('setcoin')
            .setDescription('ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø³Ú©Ù‡').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        new SlashCommandBuilder()
            .setName('additem')
            .setDescription('Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .addStringOption(option => option.setName('name').setDescription('Ù†Ø§Ù… Ø¢ÛŒØªÙ…').setRequired(true))
            .addIntegerOption(option => option.setName('price').setDescription('Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ…').setRequired(true))
            .addStringOption(option => option.setName('description').setDescription('ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¢ÛŒØªÙ…').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        new SlashCommandBuilder()
            .setName('removeitem')
            .setDescription('Ø­Ø°Ù Ø¢ÛŒØªÙ… Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .addStringOption(option => option.setName('id').setDescription('Ø´Ù†Ø§Ø³Ù‡ Ø¢ÛŒØªÙ…').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

        new SlashCommandBuilder()
            .setName('resetdata')
            .setDescription('Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
            .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
            .setDefaultMemberPermissions(PermissionFlagsBits.Administrator)
    ];

    // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù…Ø¹ØªØ¨Ø± Ø¨ÙˆØ¯Ù† ØªÙˆÚ©Ù† Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡
    console.log('ØªÙˆÚ©Ù† Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡:', TOKEN ? `${TOKEN.substring(0, 5)}...` : 'undefined');
    if (!TOKEN || TOKEN === 'undefined') {
        console.error('âŒ Ø®Ø·Ø§: ØªÙˆÚ©Ù† Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª! Ù„Ø·ÙØ§Ù‹ Ø¢Ù† Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.');
        process.exit(1);
    }
    const rest = new REST({ version: '10' }).setToken(TOKEN);

    // Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ù‡Ø§Ù†ÛŒ
    (async () => {
        try {
            console.log('ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´...');
            await rest.put(Routes.applicationCommands(CLIENT_ID), { body: commands });
            console.log('âœ… Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯Ù†Ø¯!');
        } catch (error) {
            console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª:', error);
        }
    })();

    // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª - Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§Ø³Ù¾Ù…
    const userCooldowns = new Map();
    const COOLDOWN_DURATION = 1000; // 1 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¨ÛŒÙ† Ø¯Ø³ØªÙˆØ±Ø§Øª

    // Ø³ÛŒØ³ØªÙ… Ù†ÙˆØ³Ø§Ù†Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ - Ø¨Ø§Ø²Ø§Ø± Ù¾ÙˆÛŒØ§
    const MARKET_UPDATE_INTERVAL = 12 * 60 * 60 * 1000; // Ù‡Ø± 12 Ø³Ø§Ø¹Øª
    let lastMarketUpdate = Date.now();

    // Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²Ø§Ø± Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
    if (!global.market) {
        global.market = {
            priceModifiers: {},  // Ø¶Ø±Ø§ÛŒØ¨ Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
            lastUpdated: Date.now(),
            history: []  // ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù‚ÛŒÙ…Øª
        };
    }

    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±
    function updateMarketPrices() {
        if (!global.market) {
            global.market = {
                priceModifiers: {},  // Ø¶Ø±Ø§ÛŒØ¨ Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
                lastUpdated: Date.now(),
                history: []  // ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù‚ÛŒÙ…Øª
            };
        }

        const market = global.market;
        const now = Date.now();

        // Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª Ù‚Ø¨Ù„ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ§Ø±ÛŒØ®Ú†Ù‡
        const previousState = { ...market.priceModifiers };

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
        for (const item of shopItems) {
            // Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª ØªØµØ§Ø¯ÙÛŒ Ø¨ÛŒÙ† -30% ØªØ§ +30%
            const priceChange = (Math.random() * 0.6) - 0.3;

            // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¶Ø±ÛŒØ¨ Ù‚ÛŒÙ…Øª Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¢ÛŒØªÙ… ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ØŒ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ 1 ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ…
            if (!market.priceModifiers[item.id]) {
                market.priceModifiers[item.id] = 1.0;
            }

            // Ø§Ø¹Ù…Ø§Ù„ ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª Ø¨Ø§ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¨Ø§Ø²Ù‡ 0.5 ØªØ§ 2 (Ù†ØµÙ Ù‚ÛŒÙ…Øª Ø§ØµÙ„ÛŒ ØªØ§ Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø±)
            market.priceModifiers[item.id] += priceChange;
            market.priceModifiers[item.id] = Math.max(0.5, Math.min(2.0, market.priceModifiers[item.id]));
        }

        // Ø«Ø¨Øª ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
        market.history.push({
            timestamp: now,
            changes: {
                before: previousState,
                after: { ...market.priceModifiers }
            }
        });

        // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¨Ù‡ 10 Ù…ÙˆØ±Ø¯ Ø¢Ø®Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù…ØµØ±Ù Ø­Ø§ÙØ¸Ù‡
        if (market.history.length > 10) {
            market.history = market.history.slice(-10);
        }

        market.lastUpdated = now;
        lastMarketUpdate = now;
        saveData();

        return market.priceModifiers;
    }

    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø¢ÛŒØªÙ… Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù†ÙˆØ³Ø§Ù†Ø§Øª Ø¨Ø§Ø²Ø§Ø±
    function getActualItemPrice(itemId) {
        const item = shopItems.find(i => i.id === itemId);
        if (!item) return 0;

        const basePrice = item.price;
        const priceModifier = global.market?.priceModifiers?.[itemId] || 1.0;

        return Math.round(basePrice * priceModifier);
    }

    // Ø¨Ø§Ø²ÛŒ Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ
    async function startTeamChallenge(teamId1, teamId2, betAmount, interaction) {
        // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÛŒÙ…â€ŒÙ‡Ø§
        if (!global.teams || !global.teams[teamId1] || !global.teams[teamId2]) {
            return { success: false, reason: 'ÛŒÚ©ÛŒ Ø§Ø² ØªÛŒÙ…â€ŒÙ‡Ø§ ÛŒØ§ÙØª Ù†Ø´Ø¯!' };
        }

        const team1 = global.teams[teamId1];
        const team2 = global.teams[teamId2];

        // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø±Ø· Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø§Ø¹Ø¶Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ ØªÛŒÙ…
        for (const memberId of team1.members) {
            const memberData = getUser(memberId);
            if (memberData.balance < betAmount) {
                return { success: false, reason: `ÛŒÚ©ÛŒ Ø§Ø² Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ… Ø´Ù…Ø§ (${memberId}) Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±Ø¯!` };
            }
        }

        for (const memberId of team2.members) {
            const memberData = getUser(memberId);
            if (memberData.balance < betAmount) {
                return { success: false, reason: `ÛŒÚ©ÛŒ Ø§Ø² Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ… Ø­Ø±ÛŒÙ (${memberId}) Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±Ø¯!` };
            }
        }

        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
        const challengeEmbed = new EmbedBuilder()
            .setTitle('ğŸŒªï¸ Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ')
            .setColor('#FF5733')
            .setDescription(`**${team1.name}** vs **${team2.name}**\n\nÚ†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø¢ØºØ§Ø² Ø§Ø³Øª...`)
            .addFields(
                { name: 'ØªÛŒÙ… 1', value: `${team1.name} - ${team1.members.length} Ø¹Ø¶Ùˆ`, inline: true },
                { name: 'ØªÛŒÙ… 2', value: `${team2.name} - ${team2.members.length} Ø¹Ø¶Ùˆ`, inline: true },
                { name: 'Ø´Ø±Ø·', value: `${betAmount} Ø³Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ø¶Ùˆ`, inline: true }
            )
            .setImage('https://media.giphy.com/media/l0HlKghz8IWXFt7Fu/giphy.gif');

        await interaction.reply({ embeds: [challengeEmbed] });

        // Ø§Ù†ØªØ¸Ø§Ø± Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø«Ø± Ø¯Ø±Ø§Ù…Ø§ØªÛŒÚ©
        await new Promise(resolve => setTimeout(resolve, 5000));

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² ØªÛŒÙ…â€ŒÙ‡Ø§
        let team1Score = 0;
        let team2Score = 0;

        // Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø¶Ø§
        team1Score += team1.members.length * 10;
        team2Score += team2.members.length * 10;

        // Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø§Ø¨Ù‚Ù‡ Ù¾ÛŒØ±ÙˆØ²ÛŒ
        team1Score += team1.wins * 5;
        team2Score += team2.wins * 5;

        // Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø¬Ù…ÙˆØ¹ Ø³Ø·Ø­ Ø§Ø¹Ø¶Ø§
        let team1LevelSum = 0;
        let team2LevelSum = 0;

        for (const memberId of team1.members) {
            team1LevelSum += getUser(memberId).level;
        }

        for (const memberId of team2.members) {
            team2LevelSum += getUser(memberId).level;
        }

        team1Score += team1LevelSum * 2;
        team2Score += team2LevelSum * 2;

        // ÙØ§Ú©ØªÙˆØ± Ø´Ø§Ù†Ø³ (Ø¨ÛŒÙ† 0.8 ØªØ§ 1.2)
        const team1Luck = 0.8 + (Math.random() * 0.4);
        const team2Luck = 0.8 + (Math.random() * 0.4);

        team1Score = Math.round(team1Score * team1Luck);
        team2Score = Math.round(team2Score * team2Luck);

        // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
        let winnerTeam, loserTeam;

        if (team1Score > team2Score) {
            winnerTeam = team1;
            loserTeam = team2;
        } else {
            winnerTeam = team2;
            loserTeam = team1;
        }

        // Ø§Ø¹Ù…Ø§Ù„ Ù†ØªÛŒØ¬Ù‡
        // Ù¾Ø±Ø¯Ø§Ø®Øª Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ù‡ Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ… Ø¨Ø±Ù†Ø¯Ù‡
        for (const memberId of winnerTeam.members) {
            const memberData = getUser(memberId);
            memberData.balance += betAmount;

            // Ø§ÙØ²Ø§ÛŒØ´ Ø¢Ù…Ø§Ø±
            if (!memberData.stats) memberData.stats = {};
            memberData.stats.gamesWon = (memberData.stats.gamesWon || 0) + 1;
            memberData.stats.gamesPlayed = (memberData.stats.gamesPlayed || 0) + 1;
        }

        // Ú©Ø³Ø± Ù…Ø¨Ù„Øº Ø§Ø² Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ… Ø¨Ø§Ø²Ù†Ø¯Ù‡
        for (const memberId of loserTeam.members) {
            const memberData = getUser(memberId);
            memberData.balance -= betAmount;

            // Ø§ÙØ²Ø§ÛŒØ´ Ø¢Ù…Ø§Ø±
            if (!memberData.stats) memberData.stats = {};
            memberData.stats.gamesPlayed = (memberData.stats.gamesPlayed || 0) + 1;
        }

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± ØªÛŒÙ…â€ŒÙ‡Ø§
        winnerTeam.wins += 1;
        winnerTeam.score += 10;
        loserTeam.losses += 1;

        saveData();

        // Ø§Ø¹Ù„Ø§Ù… Ù†ØªÛŒØ¬Ù‡
        const resultEmbed = new EmbedBuilder()
            .setTitle('ğŸ† Ù†ØªÛŒØ¬Ù‡ Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ')
            .setColor('#00FF00')
            .setDescription(`**${winnerTeam.name}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${team1Score === team2Score ? team1Score : (winnerTeam === team1 ? team1Score : team2Score)}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!\n\n**${loserTeam.name}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${loserTeam === team1 ? team1Score : team2Score}** Ø¨Ø§Ø®Øª!`)
            .addFields(
                { name: 'ğŸ’° Ø¬Ø§ÛŒØ²Ù‡', value: `Ù‡Ø± Ø¹Ø¶Ùˆ ØªÛŒÙ… Ø¨Ø±Ù†Ø¯Ù‡ ${betAmount} Ø³Ú©Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯`, inline: false },
                { name: 'ğŸ”¢ Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ù…ØªÛŒØ§Ø²Ø§Øª', value: 
                  `**${team1.name}**: Ù¾Ø§ÛŒÙ‡: ${team1.members.length * 10} + Ø³Ø§Ø¨Ù‚Ù‡: ${team1.wins * 5} + Ø³Ø·Ø­: ${team1LevelSum * 2} Ã— Ø´Ø§Ù†Ø³: ${team1Luck.toFixed(2)} = ${team1Score}\n` + 
                  `**${team2.name}**: Ù¾Ø§ÛŒÙ‡: ${team2.members.length * 10} + Ø³Ø§Ø¨Ù‚Ù‡: ${team2.wins * 5} + Ø³Ø·Ø­: ${team2LevelSum * 2} Ã— Ø´Ø§Ù†Ø³: ${team2Luck.toFixed(2)} = ${team2Score}`, 
                  inline: false }
            )
            .setFooter({ text: 'Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

        await interaction.editReply({ embeds: [resultEmbed] });

        return { success: true };
    }

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙØ¹Ø§Ù„ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
    function addUserActivity(userId) {
        const userData = getUser(userId);
        if (!userData) return; // Ù…Ø­Ø§ÙØ¸Øª Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±

        const now = Date.now();

        // Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø§Ø®ØªØ§Ø± ÙØ¹Ø§Ù„ÛŒØª Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
        if (!userData.activity) {
            userData.activity = {
                daily: 0,
                weekly: 0,
                monthly: 0,
                lastActivityReset: now,
                streak: 0,
                lastStreakUpdate: 0
            };
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ø±ÛŒØ³Øª ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§
        const oneDayMs = 24 * 60 * 60 * 1000;
        const oneWeekMs = 7 * oneDayMs;
        const oneMonthMs = 30 * oneDayMs;

        // Ø±ÛŒØ³Øª ÙØ¹Ø§Ù„ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡
        if (now - userData.activity.lastActivityReset > oneDayMs) {
            userData.activity.daily = 0;

            // Ø±ÛŒØ³Øª ÙØ¹Ø§Ù„ÛŒØª Ù‡ÙØªÚ¯ÛŒ
            if (now - userData.activity.lastActivityReset > oneWeekMs) {
                userData.activity.weekly = 0;

                // Ø±ÛŒØ³Øª ÙØ¹Ø§Ù„ÛŒØª Ù…Ø§Ù‡Ø§Ù†Ù‡
                if (now - userData.activity.lastActivityReset > oneMonthMs) {
                    userData.activity.monthly = 0;
                }
            }

            userData.activity.lastActivityReset = now;
        }

        // Ø§ÙØ²Ø§ÛŒØ´ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§
        userData.activity.daily += 1;
        userData.activity.weekly += 1;
        userData.activity.monthly += 1;

        // Ø¨Ø±Ø±Ø³ÛŒ ØªØ¯Ø§ÙˆÙ… Ø±ÙˆØ²Ø§Ù†Ù‡ (streak)
        const lastStreakDate = new Date(userData.activity.lastStreakUpdate);
        const today = new Date();

        // ØªÙ†Ø¸ÛŒÙ… Ø³Ø§Ø¹ØªØŒ Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ù‡ ØµÙØ± Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§
        lastStreakDate.setHours(0, 0, 0, 0);
        today.setHours(0, 0, 0, 0);

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙØ§ÙˆØª Ø¯Ø± Ø±ÙˆØ²Ù‡Ø§
        const dayDifference = Math.floor((today - lastStreakDate) / oneDayMs);

        if (userData.activity.lastStreakUpdate === 0) {
            // Ø§ÙˆÙ„ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª Ú©Ø§Ø±Ø¨Ø±
            userData.activity.streak = 1;
        } else if (dayDifference === 1) {
            // Ø±ÙˆØ² Ù…ØªÙˆØ§Ù„ÛŒ - Ø§ÙØ²Ø§ÛŒØ´ ØªØ¯Ø§ÙˆÙ…
            userData.activity.streak += 1;
        } else if (dayDifference > 1) {
            // ØªØ¯Ø§ÙˆÙ… Ø´Ú©Ø³ØªÙ‡ Ø´Ø¯Ù‡ - Ø±ÛŒØ³Øª
            userData.activity.streak = 1;
        }

        userData.activity.lastStreakUpdate = now;

        // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ ÙØ¹Ø§Ù„ÛŒØª
        if (userData.activity.streak >= 7) {
            checkAchievement(userId, 'daily_streak');
        }

        if (userData.level >= 10) {
            checkAchievement(userId, 'high_level');
        }

        saveData();
    }

    client.on('interactionCreate', async (interaction) => {
        if (!interaction.isCommand() && !interaction.isButton()) return;

        const userId = interaction.user.id;
        const now = Date.now();

        // Ø¨Ø±Ø±Ø³ÛŒ Ù†ÙˆØ¹ ØªØ¹Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´â€ŒØ¯Ù‡ÛŒ Ø¨Ù‡ØªØ±
        const interactionType = interaction.isCommand() ? 
            `command: ${interaction.commandName}` : 
            `button: ${interaction.customId}`;

        // Ù„Ø§Ú¯ Ú©Ù…ØªØ± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ø­Ø¬Ù… Ù„Ø§Ú¯ Ø¯Ø± Ù…Ø­ÛŒØ· ØªÙˆÙ„ÛŒØ¯
        if (process.env.NODE_ENV !== 'production') {
            console.log(`ğŸ‘¤ ØªØ¹Ø§Ù…Ù„ Ø¬Ø¯ÛŒØ¯ Ø§Ø² Ú©Ø§Ø±Ø¨Ø± ${interaction.user.tag} (${interaction.user.id}) - ${interactionType}`);
        }

        // Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø´Ú©Ù„Ø§Øª ØªØ¹Ø§Ù…Ù„ØŒ ÛŒÚ© Ù…Ú©Ø§Ù†ÛŒØ²Ù… try-catch Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        try {
            // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ø¨Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±ØªØ± Ùˆ Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§
            const isExemptFromCooldown = interaction.member && 
                                         interaction.member.permissions && 
                                         interaction.member.permissions.has(PermissionFlagsBits.Administrator);

            // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø¯Ø§Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù†ÛŒØ³ØªØŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø® Ø±Ø§ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†
            if (!isExemptFromCooldown && userCooldowns.has(userId)) {
                const cooldownExpiration = userCooldowns.get(userId) + COOLDOWN_DURATION;

                if (now < cooldownExpiration) {
                    const timeLeft = (cooldownExpiration - now) / 1000;

                    // Ø¨Ù‡Ø¨ÙˆØ¯ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø®
                    const cooldownMessage = `â±ï¸ Ù„Ø·ÙØ§Ù‹ ${timeLeft.toFixed(1)} Ø«Ø§Ù†ÛŒÙ‡ ØµØ¨Ø± Ú©Ù†ÛŒØ¯!`;

                    try {
                        if (interaction.deferred || interaction.replied) {
                            return await interaction.followUp({ 
                                content: cooldownMessage, 
                                ephemeral: true 
                            });
                        } else {
                            return await interaction.reply({ 
                                content: cooldownMessage, 
                                ephemeral: true 
                            });
                        }
                    } catch (replyError) {
                        console.error(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø®: ${replyError.message}`);
                        return; // Ø®Ø±ÙˆØ¬ Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø®
                    }
                }
            }

            // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ù†Ø§Ù„ (Ø§Ú¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
            if (allowedChannels.length > 0 && !allowedChannels.includes(interaction.channelId) && interaction.isCommand()) {
                const channelMessage = 'âŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÙÙ‚Ø· Ø¯Ø± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª!';

                try {
                    if (interaction.deferred || interaction.replied) {
                        return await interaction.followUp({ content: channelMessage, ephemeral: true });
                    } else {
                        return await interaction.reply({ content: channelMessage, ephemeral: true });
                    }
                } catch (channelError) {
                    console.error(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ù†Ø§Ù„: ${channelError.message}`);
                    return; // Ø®Ø±ÙˆØ¬ Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§
                }
            }

            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†Ø±Ø®
            userCooldowns.set(userId, now);

            // Ø§ÙØ²Ø§ÛŒØ´ ÙØ¹Ø§Ù„ÛŒØª Ú©Ø§Ø±Ø¨Ø±
            addUserActivity(userId);

            // Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø§Ø²Ø§Ø±
            if (now - lastMarketUpdate >= MARKET_UPDATE_INTERVAL) {
                const newPrices = updateMarketPrices();
                console.log('ğŸ”„ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯');
            }

        // ØªØ¹Ø±ÛŒÙ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
        const backButton = new ActionRowBuilder()
            .addComponents(
                new ButtonBuilder()
                    .setCustomId('back_to_menu')
                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                    .setStyle(ButtonStyle.Secondary)
            );

        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø³ØªÙˆØ±Ø§Øª
        if (interaction.isCommand()) {
            const { commandName, user } = interaction;
            const userData = getUser(user.id);

            try {
                switch(commandName) {
                    case 'balance':
                        await interaction.reply(`ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§:
                        **Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${userData.balance} ${COIN_NAME}
                        **Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${userData.bank || 0} ${COIN_NAME}
                        **Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ**: ${userData.investment || 0} ${COIN_NAME}`);
                        break;

                    case 'spin':
                        let lastSpin = userData.lastSpin || 0;
                        let currentTime = Date.now();

                        if (currentTime - lastSpin < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
                            const remainingTime = 86400000 - (currentTime - lastSpin);
                            const hours = Math.floor(remainingTime / 3600000);
                            const minutes = Math.floor((remainingTime % 3600000) / 60000);
                            const seconds = Math.floor((remainingTime % 60000) / 1000);

                            return await interaction.reply(`â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡**`);
                        }

                        let reward = spinWheel();
                        userData.balance += reward;
                        userData.lastSpin = currentTime;

                        // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡
                        const spinLeveledUp = addXP(user.id, 5);
                        let spinLevelUpMessage = '';
                        if (spinLeveledUp) {
                            spinLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                        }

                        saveData();

                        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ù†ØªÛŒØ¬Ù‡
                        const spinEmbed = new EmbedBuilder()
                            .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                            .setColor(reward > 0 ? '#00FF00' : '#FF0000')
                            .setDescription(reward > 0 
                                ? `ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${reward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!${spinLevelUpMessage}` 
                                : `Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯! ğŸ˜¢${spinLevelUpMessage}`)
                            .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                        await interaction.reply({ embeds: [spinEmbed] });
                        break;

                    case 'leaderboard':
                        let sortedUsers = Object.entries(users).sort((a, b) => 
                            (b[1].balance + (b[1].bank || 0) + (b[1].investment || 0)) - 
                            (a[1].balance + (a[1].bank || 0) + (a[1].investment || 0))
                        );
                        let leaderboard = sortedUsers.slice(0, 10).map((u, i) => {
                            const total = u[1].balance + (u[1].bank || 0) + (u[1].investment || 0);
                            return `${i + 1}. <@${u[0]}> - ${total} ${COIN_NAME}`;
                        }).join('\n');

                        await interaction.reply({ 
                            embeds: [
                                new EmbedBuilder()
                                    .setTitle('ğŸ† Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†')
                                    .setDescription(leaderboard)
                                    .setColor('#FFD700')
                            ] 
                        });
                        break;

                    case 'ping':
                        const ping = client.ws.ping;
                        await interaction.reply(`ğŸ“ Ù¾ÛŒÙ†Ú¯! ØªØ§Ø®ÛŒØ±: ${ping}ms`);
                        break;

                    case 'claim':
                        // Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                        const claimUserData = getUser(interaction.user.id);

                        // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª
                        if (claimUserData.initialClaimed) {
                            return await interaction.reply(`âŒ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!`);
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª - Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ú¯Ø°Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                        // Ø§Ú¯Ø± Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ØŒ Ø¢Ù† Ø±Ø§ Ø§Ù„Ø§Ù† Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                        if (!claimUserData.joinTime) {
                            claimUserData.joinTime = Date.now();
                            saveData();
                            return await interaction.reply(`â³ Ø´Ù…Ø§ ØªØ§Ø²Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ ØµØ¨Ø± Ú©Ù†ÛŒØ¯.`);
                        }

                        const joinTime = claimUserData.joinTime;
                        const now = Date.now();
                        const tenMinutesMs = 600000; // 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡

                        if (now - joinTime < tenMinutesMs) {
                            const remainingTime = tenMinutesMs - (now - joinTime);
                            const minutes = Math.floor(remainingTime / 60000);
                            const seconds = Math.floor((remainingTime % 60000) / 1000);

                            return await interaction.reply(`â³ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø² Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª Ø´Ù…Ø§ Ú¯Ø°Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡ Ø¯ÛŒÚ¯Ø± ØµØ¨Ø± Ú©Ù†ÛŒØ¯.`);
                        }

                        // Ø§Ø¹Ø·Ø§ÛŒ Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                        claimUserData.balance += 100;
                        claimUserData.initialClaimed = true;
                        saveData();

                        await interaction.reply({
                            embeds: [
                                new EmbedBuilder()
                                    .setTitle('ğŸ‰ Ù¾Ø§Ø¯Ø§Ø´ Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯!')
                                    .setColor('#00FF00')
                                    .setDescription(`Ø´Ù…Ø§ 100 ${COIN_NAME} Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø¯Ø§Ø´ Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`)
                                    .setFooter({ text: 'Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!' })
                            ]
                        });
                        break;

                    case 'level':
                        // Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
                        const levelUserData = getUser(interaction.user.id);
                        const nextLevelXP = (levelUserData.level + 1) * 100;

                        const levelEmbed = new EmbedBuilder()
                            .setTitle(`ğŸ† Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø³Ø·Ø­ ${interaction.user.username}`)
                            .setColor('#00FFFF')
                            .setThumbnail(interaction.user.displayAvatarURL())
                            .addFields(
                                { name: 'ğŸ“Š Ø³Ø·Ø­ ÙØ¹Ù„ÛŒ', value: `${levelUserData.level}`, inline: true },
                                { name: 'âœ¨ ØªØ¬Ø±Ø¨Ù‡', value: `${levelUserData.xp}/${nextLevelXP} XP`, inline: true },
                                { name: 'ğŸ’¡ Ù†Ú©ØªÙ‡', value: `Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø³Ø·Ø­ Ø¨Ø¹Ø¯ÛŒ Ø¨Ù‡ ${nextLevelXP - levelUserData.xp} XP Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.` }
                            )
                            .setFooter({ text: 'Ø¨Ø§ ÙØ¹Ø§Ù„ÛŒØª Ø¯Ø± Ø³Ø±ÙˆØ±ØŒ ØªØ¬Ø±Ø¨Ù‡ Ùˆ Ø³Ø·Ø­ Ø´Ù…Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯.' });

                        await interaction.reply({ embeds: [levelEmbed] });
                        break;

                    case 'lottery':
                        // Ø³ÛŒØ³ØªÙ… Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
                        const lotteryUserData = getUser(interaction.user.id);

                        // ØªØ¹ÛŒÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø¹Ø¯ÛŒ
                        const timeToNextDraw = nextLotteryDraw - Date.now();
                        const daysToNext = Math.floor(timeToNextDraw / (24 * 60 * 60 * 1000));
                        const hoursToNext = Math.floor((timeToNextDraw % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));

                        // Ø³Ø§Ø®Øª Ø§Ù…Ø¨Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
                        const lotteryInfoEmbed = new EmbedBuilder()
                            .setTitle('ğŸŸï¸ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ø³Ø±ÙˆØ±')
                            .setColor('#FF9900')
                            .setDescription('Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø²Ø±Ú¯ Ø´ÙˆÛŒØ¯!')
                            .addFields(
                                { name: 'ğŸ’° Ø¬Ø§ÛŒØ²Ù‡ ÙØ¹Ù„ÛŒ', value: `${lotteryPool} ${COIN_NAME}`, inline: true },
                                { name: 'ğŸ« Ù‚ÛŒÙ…Øª Ù‡Ø± Ø¨Ù„ÛŒØ·', value: `${LOTTERY_TICKET_PRICE} ${COIN_NAME}`, inline: true },
                                { name: 'ğŸ“Š ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§', value: `${lotteryUserData.lotteryTickets || 0}/${MAX_TICKETS_PER_WEEK}`, inline: true },
                                { name: 'â±ï¸ Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ', value: `${daysToNext} Ø±ÙˆØ² Ùˆ ${hoursToNext} Ø³Ø§Ø¹Øª`, inline: false },
                                { name: 'ğŸ“œ Ù‚ÙˆØ§Ù†ÛŒÙ†', value: 'Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¨Ù„ÛŒØ· Ø¯Ø± Ù‡ÙØªÙ‡ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†Ø¯.\nØ¬Ø§ÛŒØ²Ù‡ Ø¨Ù‡ ÛŒÚ© Ø¨Ø±Ù†Ø¯Ù‡ ØªØµØ§Ø¯ÙÛŒ Ø§Ù‡Ø¯Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', inline: false }
                            )
                            .setFooter({ text: 'Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± = Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù†!' });

                        // Ø¯Ú©Ù…Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
                        const buyTicketButton = new ActionRowBuilder()
                            .addComponents(
                                new ButtonBuilder()
                                    .setCustomId('buy_lottery_ticket')
                                    .setLabel(`Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· (${LOTTERY_TICKET_PRICE} Ø³Ú©Ù‡)`)
                                    .setStyle(ButtonStyle.Success)
                                    .setEmoji('ğŸŸï¸')
                            );

                        await interaction.reply({ embeds: [lotteryInfoEmbed], components: [buyTicketButton] });
                        break;

                    case 'jackpot':
                        // Ø³ÛŒØ³ØªÙ… Ø¬Ú©Ù¾Ø§Øª
                        const jackpotAmount = interaction.options.getInteger('amount');
                        const jackpotUserData = getUser(interaction.user.id);

                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ù‚Ø¯Ø§Ø± ÙˆØ±ÙˆØ¯ÛŒ
                        if (jackpotAmount < 10) {
                            return await interaction.reply('âŒ Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª 10 Ø³Ú©Ù‡ Ø§Ø³Øª!');
                        }

                        if (jackpotUserData.balance < jackpotAmount) {
                            return await interaction.reply(`âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù…ÙˆØ¬ÙˆØ¯ÛŒ: ${jackpotUserData.balance} ${COIN_NAME})`);
                        }

                        // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯
                        const confirmJackpotRow = new ActionRowBuilder()
                            .addComponents(
                                new ButtonBuilder()
                                    .setCustomId(`confirm_jackpot_${jackpotAmount}`)
                                    .setLabel('ØªØ£ÛŒÛŒØ¯ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª')
                                    .setStyle(ButtonStyle.Success),
                                new ButtonBuilder()
                                    .setCustomId('cancel_jackpot')
                                    .setLabel('Ø§Ù†ØµØ±Ø§Ù')
                                    .setStyle(ButtonStyle.Danger)
                            );

                        // Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† ÙØ¹Ù„ÛŒ Ùˆ Ø´Ø§Ù†Ø³ Ø¢Ù†Ù‡Ø§
                        let participantsList = '';
                        if (jackpotPlayers.length > 0) {
                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¨Ø§Ù„Øº
                            const totalJackpot = jackpotPlayers.reduce((sum, player) => sum + player.amount, 0);

                            // Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†
                            participantsList = jackpotPlayers.map((player, index) => {
                                const chance = ((player.amount / totalJackpot) * 100).toFixed(2);
                                return `${index + 1}. <@${player.userId}> - ${player.amount} ${COIN_NAME} (Ø´Ø§Ù†Ø³: ${chance}%)`;
                            }).join('\n');
                        } else {
                            participantsList = 'Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯ÙˆØ±Ù‡ Ø§Ø² Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ù†Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!';
                        }

                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø§Ù†Ø³ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØµÙˆØ±Øª Ø´Ø±Ú©Øª
                        const newTotalPool = jackpotPool + jackpotAmount;
                        const userCurrentContribution = jackpotUserData.jackpotContribution || 0;
                        const userNewContribution = userCurrentContribution + jackpotAmount;
                        const userChance = ((userNewContribution / newTotalPool) * 100).toFixed(2);

                        const jackpotEmbed = new EmbedBuilder()
                            .setTitle('ğŸ’ Ø¬Ú©Ù¾Ø§Øª Ø³Ø±ÙˆØ±')
                            .setColor('#9B59B6')
                            .setDescription(`Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ ${jackpotAmount} Ø³Ú©Ù‡ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯ØŸ\nÙ‡Ø± Ú†Ù‡ Ø¨ÛŒØ´ØªØ± Ø³Ú©Ù‡ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ØŒ Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ø´Ù…Ø§ Ø¨ÛŒØ´ØªØ± Ø§Ø³Øª!`)
                            .addFields(
                                { name: 'ğŸ’° Ù…Ø¬Ù…ÙˆØ¹ Ø¬Ú©Ù¾Ø§Øª ÙØ¹Ù„ÛŒ', value: `${jackpotPool} ${COIN_NAME}`, inline: true },
                                { name: 'ğŸ² Ø´Ø§Ù†Ø³ Ø´Ù…Ø§ Ø¯Ø± ØµÙˆØ±Øª Ø´Ø±Ú©Øª', value: `${userChance}%`, inline: true },
                                { name: 'ğŸ‘¥ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† ÙØ¹Ù„ÛŒ', value: participantsList, inline: false },
                                { name: 'ğŸ“ Ù‚ÙˆØ§Ù†ÛŒÙ†', value: 'Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ù‡Ø± Ø¯ÙˆØ±Ù‡ØŒ ÛŒÚ© Ù†ÙØ± Ø¨Ø±Ù†Ø¯Ù‡ Ú©Ù„ Ø¬Ø§ÛŒØ²Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.\nØ´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ù…Ø¨Ù„Øº Ø´Ø±Ú©Øª Ø´Ù…Ø§Ø³Øª.', inline: false }
                            )
                            .setFooter({ text: 'Ù‡Ø± Ú†Ù‡ Ø¨ÛŒØ´ØªØ± Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯ØŒ Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±ÛŒØ¯!' });

                        await interaction.reply({ embeds: [jackpotEmbed], components: [confirmJackpotRow] });
                        break;

                    case 'quest':
                        // Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ®ØµÛŒØµ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡
                        const questResult = checkAndAssignDailyQuest(interaction.user.id);
                        const questUserData = getUser(interaction.user.id);

                        // Ø³Ø§Ø®Øª Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ø£Ù…ÙˆØ±ÛŒØª
                        const questEmbed = new EmbedBuilder()
                            .setTitle('ğŸ¯ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡')
                            .setColor('#FFD700')
                            .setDescription(questResult.isNew ? 'ğŸ†• ÛŒÚ© Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ØªØ¹ÛŒÛŒÙ† Ø´Ø¯!' : 'Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ Ø´Ù…Ø§:')
                            .addFields(
                                { name: 'ğŸ“ Ø´Ø±Ø­ Ù…Ø£Ù…ÙˆØ±ÛŒØª', value: questUserData.dailyQuest.description, inline: false },
                                { name: 'ğŸ Ù¾Ø§Ø¯Ø§Ø´', value: `${questUserData.dailyQuest.reward} ${COIN_NAME}`, inline: true },
                                { name: 'ğŸ“Š Ù¾ÛŒØ´Ø±ÙØª', value: `${questUserData.dailyQuestProgress}/${questUserData.dailyQuest.goal}`, inline: true },
                                { name: 'ğŸ“ˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡', value: `${questUserData.questsCompleted}`, inline: false }
                            )
                            .setFooter({ text: 'Ø¨Ø§ ØªÚ©Ù…ÛŒÙ„ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ Ù¾Ø§Ø¯Ø§Ø´ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯!' });

                        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
                        const progressPercentage = Math.floor((userData.dailyQuestProgress / userData.dailyQuest.goal) * 100);
                        const progressBar = createProgressBar(progressPercentage);

                        questEmbed.addFields({ name: 'ğŸ”„ Ù¾ÛŒØ´Ø±ÙØª', value: progressBar, inline: false });

                        await interaction.reply({ embeds: [questEmbed] });
                        break;

                    case 'steal':
                        // Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±
                        const targetUserSteal = interaction.options.getUser('user');

                        // Ø¨Ø±Ø±Ø³ÛŒ Ø®ÙˆØ¯Ú©Ø´ÛŒ!
                        if (targetUserSteal.id === interaction.user.id) {
                            return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø®ÙˆØ¯ØªØ§Ù† Ø¯Ø²Ø¯ÛŒ Ú©Ù†ÛŒØ¯!');
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø±Ø¨Ø§Øª
                        if (targetUserSteal.bot) {
                            return await interaction.reply('âŒ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒØ¯Ù‡ Ø´Ø¯Ù† Ù†Ø¯Ø§Ø±Ù†Ø¯!');
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¯Ø²Ø¯ÛŒ
                        const stealCheck = canSteal(interaction.user.id, targetUserSteal.id);
                        if (!stealCheck.allowed) {
                            return await interaction.reply(stealCheck.reason);
                        }

                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ
                        const stealerData = getUser(interaction.user.id);
                        const targetData = getUser(targetUserSteal.id);

                        // Ø­Ø¯Ø§Ú©Ø«Ø± 20% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                        const maxStealAmount = Math.floor(targetData.balance * MAX_STEAL_PERCENTAGE);
                        let stolenAmount = Math.floor(Math.random() * maxStealAmount) + 1;

                        // Ú©Ø§Ø±Ø¨Ø± Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù…ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                        stolenAmount = Math.min(stolenAmount, targetData.balance);

                        // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø§Ù†Ø³ Ù…ÙˆÙÙ‚ÛŒØª (70% Ù…ÙˆÙÙ‚ÛŒØª)
                        const stealSuccess = Math.random() < 0.7;

                        if (stealSuccess) {
                            // Ø¯Ø²Ø¯ÛŒ Ù…ÙˆÙÙ‚
                            stealerData.balance += stolenAmount;
                            targetData.balance -= stolenAmount;

                            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¯Ø²Ø¯ÛŒ
                            stealerData.dailySteals++;
                            stealerData.stolenFrom[targetUserSteal.id] = Date.now();
                            targetData.lastTimeStolen = Date.now();

                            // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ù…ÙˆÙÙ‚
                            const stealLeveledUp = addXP(interaction.user.id, 5);
                            let stealLevelUpMessage = '';
                            if (stealLeveledUp) {
                                stealLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${stealerData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                            }

                            saveData();

                            const stealEmbed = new EmbedBuilder()
                                .setTitle('ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù…ÙˆÙÙ‚!')
                                .setColor('#00FF00')
                                .setDescription(`Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª **${stolenAmount} ${COIN_NAME}** Ø§Ø² Ø¬ÛŒØ¨ ${targetUserSteal.username} Ø¯Ø²Ø¯ÛŒØ¯ÛŒØ¯!${stealLevelUpMessage}`)
                                .setFooter({ text: `Ù‡ÙˆØ´ÛŒØ§Ø± Ø¨Ø§Ø´ÛŒØ¯! Ù…Ù…Ú©Ù† Ø§Ø³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ù‡Ù… Ø§Ø² Ø´Ù…Ø§ Ø¯Ø²Ø¯ÛŒ Ú©Ù†Ù†Ø¯!` });

                            await interaction.reply({ embeds: [stealEmbed] });
                        } else {
                            // Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚
                            // Ø¬Ø±ÛŒÙ…Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ (10% Ø§Ø² Ù…Ø¨Ù„ØºÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø³ØªÛŒØ¯ Ø¨Ø¯Ø²Ø¯ÛŒØ¯)
                            const penalty = Math.floor(stolenAmount * 0.1);
                            stealerData.balance -= penalty;

                            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¯Ø²Ø¯ÛŒ
                            stealerData.dailySteals++;
                            stealerData.stolenFrom[targetUserSteal.id] = Date.now();

                            saveData();

                            const failEmbed = new EmbedBuilder()
                                .setTitle('ğŸš« Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚!')
                                .setColor('#FF0000')
                                .setDescription(`Ù…Ú† Ø´Ù…Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø¯Ø²Ø¯ÛŒ Ø§Ø² ${targetUserSteal.username} Ú¯Ø±ÙØªÙ‡ Ø´Ø¯! Ø´Ù…Ø§ **${penalty} ${COIN_NAME}** Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¬Ø±ÛŒÙ…Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ø±Ø¯ÛŒØ¯.`)
                                .setFooter({ text: `Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø¯Ø²Ø¯ÛŒ Ù†Ú©Ù†ÛŒØ¯!` });

                            await interaction.reply({ embeds: [failEmbed] });
                        }
                        break;

                    case 'transfer':
                        const targetUser = interaction.options.getUser('user');
                        const amount = interaction.options.getInteger('amount');

                        // Ø¨Ø±Ø±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                        if (targetUser.id === user.id) {
                            return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø³Ú©Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!');
                        }

                        if (targetUser.bot) {
                            return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø³Ú©Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!');
                        }

                        if (amount <= 0) {
                            return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                        }

                        if (userData.balance < amount) {
                            return await interaction.reply(`âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: ${userData.balance} ${COIN_NAME})`);
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„
                        const transferCheck = canTransferCoins(user.id, targetUser.id, amount);
                        if (!transferCheck.allowed) {
                            return await interaction.reply(transferCheck.reason);
                        }

                        // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡ ØªØ£ÛŒÛŒØ¯
                        const confirmRow = new ActionRowBuilder()
                            .addComponents(
                                new ButtonBuilder()
                                    .setCustomId(`confirm_transfer_${targetUser.id}_${amount}`)
                                    .setLabel('ØªØ£ÛŒÛŒØ¯ Ø§Ù†ØªÙ‚Ø§Ù„')
                                    .setStyle(ButtonStyle.Success),
                                new ButtonBuilder()
                                    .setCustomId('cancel_transfer')
                                    .setLabel('Ù„ØºÙˆ')
                                    .setStyle(ButtonStyle.Danger)
                            );

                        await interaction.reply({
                            content: `Ø¢ÛŒØ§ Ø§Ø² Ø§Ù†ØªÙ‚Ø§Ù„ ${amount} ${COIN_NAME} Ø¨Ù‡ ${targetUser.username} Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ`,
                            components: [confirmRow],
                            ephemeral: true
                        });
                        break;

                    case 'daily':
                        let lastDaily = userData.lastDaily || 0;
                        const dailyCurrentTime = Date.now();

                        if (dailyCurrentTime - lastDaily < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                            const remainingTime = 86400000 - (dailyCurrentTime - lastDaily);
                            const hours = Math.floor(remainingTime / 3600000);
                            const minutes = Math.floor((remainingTime % 3600000) / 60000);
                            return await interaction.reply(`â³ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`);
                        }

                                            const dailyReward = 50;
                                            userData.balance += dailyReward;
                                            userData.lastDaily = dailyCurrentTime;

                                            // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡
                                            const dailyLeveledUp = addXP(user.id, 10);
                                            let dailyLevelUpMessage = '';
                                            if (dailyLeveledUp) {
                                                dailyLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                                            }

                                            saveData();

                                            await interaction.reply(`âœ… Ø´Ù…Ø§ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯: ${dailyReward} ${COIN_NAME}!${dailyLevelUpMessage}`);
                                            break;

                                        case 'bankdeposit':
                                            const depositAmount = interaction.options.getInteger('amount');

                                            if (depositAmount <= 0) {
                                                return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                                            }

                                            if (userData.balance < depositAmount) {
                                                return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                                            }

                                            userData.balance -= depositAmount;
                                            userData.bank = (userData.bank || 0) + depositAmount;
                                            saveData();

                                            await interaction.reply(`âœ… Ù…Ø¨Ù„Øº ${depositAmount} ${COIN_NAME} Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ ÙˆØ§Ø±ÛŒØ² Ø´Ø¯.`);
                                            break;

                                        case 'bankwithdraw':
                                            const withdrawAmount = interaction.options.getInteger('amount');

                                            if (withdrawAmount <= 0) {
                                                return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                                            }

                                            if (!userData.bank || userData.bank < withdrawAmount) {
                                                return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                                            }

                                            userData.bank -= withdrawAmount;
                                            userData.balance += withdrawAmount;
                                            saveData();

                                            await interaction.reply(`âœ… Ù…Ø¨Ù„Øº ${withdrawAmount} ${COIN_NAME} Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ø¯.`);
                                            break;

                                        case 'invest':
                                            const investAmount = interaction.options.getInteger('amount');

                                            if (investAmount <= 0) {
                                                return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                                            }

                                            if (userData.balance < investAmount) {
                                                return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                                            }

                                            userData.balance -= investAmount;
                                            userData.investment = (userData.investment || 0) + investAmount;
                                            saveData();

                                            await interaction.reply(`âœ… Ø´Ù…Ø§ ${investAmount} ${COIN_NAME} Ø±Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯! Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.`);
                                            break;

                                        case 'profile':
                                            const targetUserProfile = interaction.options.getUser('user') || user;
                                            const targetUserData = getUser(targetUserProfile.id);
                                            const totalBalance = targetUserData.balance + (targetUserData.bank || 0) + (targetUserData.investment || 0);

                                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù„ÙˆÙ„
                                            const profileNextLevelXP = (targetUserData.level + 1) * 100;
                                            const levelProgress = Math.floor((targetUserData.xp / profileNextLevelXP) * 100);

                                            // Ø§ÛŒØ¬Ø§Ø¯ Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª Ù„ÙˆÙ„
                                            const levelProgressBar = createProgressBar(levelProgress);

                                            // Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ…
                                            let teamInfo = 'Ø¨Ø¯ÙˆÙ† ØªÛŒÙ…';
                                            if (targetUserData.team && global.teams && global.teams[targetUserData.team]) {
                                                const teamData = global.teams[targetUserData.team];
                                                const isLeader = teamData.leader === targetUserProfile.id;
                                                teamInfo = `${teamData.name} ${isLeader ? 'ğŸ‘‘' : 'ğŸ‘¤'} (${teamData.members.length} Ø¹Ø¶Ùˆ)`;
                                            }

                                            // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
                                            const achievements = targetUserData.achievements || [];
                                            let achievementsInfo = `${achievements.length}/${ACHIEVEMENTS.length} Ø¯Ø³ØªØ§ÙˆØ±Ø¯`;

                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
                                            const stats = targetUserData.stats || { gamesPlayed: 0, gamesWon: 0, questsCompleted: 0 };

                                            // Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù†
                                            const friendsCount = targetUserData.friends?.length || 0;

                                            const profileEmbed = new EmbedBuilder()
                                                .setTitle(`Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ${targetUserProfile.username}`)
                                                .setThumbnail(targetUserProfile.displayAvatarURL())
                                                .addFields(
                                                    { name: 'ğŸ’° Ú©ÛŒÙ Ù¾ÙˆÙ„', value: `${targetUserData.balance} ${COIN_NAME}`, inline: true },
                                                    { name: 'ğŸ¦ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', value: `${targetUserData.bank || 0} ${COIN_NAME}`, inline: true },
                                                    { name: 'ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ', value: `${targetUserData.investment || 0} ${COIN_NAME}`, inline: true },
                                                    { name: 'ğŸ“Š Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø§Ø±Ø§ÛŒÛŒ', value: `${totalBalance} ${COIN_NAME}`, inline: false },
                                                    { name: 'ğŸ† Ø³Ø·Ø­', value: `${targetUserData.level} (${targetUserData.xp}/${profileNextLevelXP} XP)`, inline: true },
                                                    { name: 'ğŸ® ØªÛŒÙ…', value: teamInfo, inline: true },
                                                    { name: 'ğŸ“ˆ Ù¾ÛŒØ´Ø±ÙØª Ù„ÙˆÙ„', value: levelProgressBar, inline: false },
                                                    { name: 'ğŸ—‚ï¸ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ', value: `**Ø¯ÙˆØ³ØªØ§Ù†**: ${friendsCount}\n**Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§**: ${achievementsInfo}`, inline: true },
                                                    { name: 'ğŸ“Š Ø¢Ù…Ø§Ø±', value: `**Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§**: ${stats.gamesPlayed || 0}\n**Ù¾ÛŒØ±ÙˆØ²ÛŒâ€ŒÙ‡Ø§**: ${stats.gamesWon || 0}\n**Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§**: ${targetUserData.questsCompleted || 0}`, inline: true }
                                                )
                                                .setColor('#00FFFF')
                                                .setFooter({ text: `Ø¹Ø¶Ùˆ Ø´Ø¯Ù‡ Ø¯Ø±: ${new Date(targetUserData.joinTime).toLocaleDateString()}`, iconURL: client.user.displayAvatarURL() });

                                            // Ø§Ú¯Ø± Ø¯Ø³ØªØ§ÙˆØ±Ø¯ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…
                                            if (achievements.length > 0) {
                                                const latestAchievement = achievements[achievements.length - 1];
                                                profileEmbed.addFields({ 
                                                    name: 'ğŸ… Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯', 
                                                    value: `**${latestAchievement.name}**\n${latestAchievement.description}`, 
                                                    inline: false 
                                                });
                                            }

                                            await interaction.reply({ embeds: [profileEmbed] });
                                            break;

                                        case 'menu':
                                            const menuEmbed = new EmbedBuilder()
                                                .setColor('#0099ff')
                                                .setTitle('ğŸ® Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                .setDescription('Ù„Ø·ÙØ§ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                                                .setThumbnail(client.user.displayAvatarURL())
                                                .setFooter({ text: 'Ø§ÛŒÙ† Ù…Ù†Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª', iconURL: interaction.user.displayAvatarURL() });

                                            const row1 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('economy')
                                                        .setLabel('ğŸ’° Ø§Ù‚ØªØµØ§Ø¯')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('games')
                                                        .setLabel('ğŸ² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('shop')
                                                        .setLabel('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                        .setStyle(ButtonStyle.Danger)
                                                );

                                            const row2 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('quests')
                                                        .setLabel('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Secondary),
                                                    new ButtonBuilder()
                                                        .setCustomId('inventory')
                                                        .setLabel('ğŸ’ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ')
                                                        .setStyle(ButtonStyle.Secondary),
                                                    new ButtonBuilder()
                                                        .setCustomId('help')
                                                        .setLabel('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.reply({ embeds: [menuEmbed], components: [row1, row2], ephemeral: true });
                                            break;

                                        case 'setchannel':
                                            const channel = interaction.options.getChannel('channel');
                                            if (!allowedChannels.includes(channel.id)) {
                                                allowedChannels.push(channel.id);
                                            }
                                            await interaction.reply(`âœ… Ú©Ø§Ù†Ø§Ù„ ${channel} Ø¨Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
                                            break;

                                        case 'addcoins':
                                            const userToAddCoins = interaction.options.getUser('user');
                                            const coinsAmount = interaction.options.getInteger('amount');

                                            if (coinsAmount <= 0) {
                                                return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                                            }

                                            const userDataToAddCoins = getUser(userToAddCoins.id);
                                            userDataToAddCoins.balance += coinsAmount;
                                            saveData();

                                            await interaction.reply(`âœ… Ù…Ù‚Ø¯Ø§Ø± ${coinsAmount} ${COIN_NAME} Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± ${userToAddCoins.username} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
                                            break;

                                        case 'shop':
                                            const shopEmbed = new EmbedBuilder()
                                                .setTitle('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                .setColor('#FF00FF')
                                                .setDescription('Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø± Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:');

                                            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§Ù…Ø¨Ø¯
                                            shopItems.forEach(item => {
                                                shopEmbed.addFields({ 
                                                    name: `${item.name} - ${item.price} ${COIN_NAME}`, 
                                                    value: item.description,
                                                    inline: true 
                                                });
                                            });

                                            // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡ Ø¯Ø± Ù‡Ø± Ø±Ø¯ÛŒÙ)
                                            const shopRow = new ActionRowBuilder();

                                            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡)
                                            const maxButtonsToShow = Math.min(shopItems.length, 5);
                                            for (let i = 0; i < maxButtonsToShow; i++) {
                                                shopRow.addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId(`buy_${shopItems[i].id}`)
                                                        .setLabel(`Ø®Ø±ÛŒØ¯ ${shopItems[i].name}`)
                                                        .setStyle(ButtonStyle.Primary)
                                                );
                                            }

                                            await interaction.reply({ embeds: [shopEmbed], components: [shopRow] });
                                            break;
                                        case 'dice':
                                            const betAmount = interaction.options.getInteger('bet');
                                            const userData = getUser(interaction.user.id);

                                            if (userData.balance < betAmount) {
                                                return await interaction.reply({
                                                    content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmount} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                    ephemeral: true
                                                });
                                            }

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ø±Ø·
                                            const diceBetOptions = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId(`dice_bet_higher_${betAmount}`)
                                                        .setLabel('Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯ØªØ± (Ø´Ù…Ø§ > Ø±Ø¨Ø§Øª)')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId(`dice_bet_lower_${betAmount}`)
                                                        .setLabel('Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ± (Ø´Ù…Ø§ < Ø±Ø¨Ø§Øª)')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId(`dice_bet_equal_${betAmount}`)
                                                        .setLabel('Ù…Ø³Ø§ÙˆÛŒ (Ø´Ù…Ø§ = Ø±Ø¨Ø§Øª)')
                                                        .setStyle(ButtonStyle.Primary)
                                                );

                                            // Ø§Ù…Ø¨Ø¯ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø´Ø±Ø·
                                            const diceBetEmbed = new EmbedBuilder()
                                                .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³ Ù¾ÛŒØ´Ø±ÙØªÙ‡')
                                                .setColor('#9B59B6')
                                                .setDescription(`Ø´Ù…Ø§ ${betAmount} ${COIN_NAME} Ø´Ø±Ø· Ø¨Ø³ØªÙ‡â€ŒØ§ÛŒØ¯. Ù„Ø·ÙØ§Ù‹ Ù†ÙˆØ¹ Ø´Ø±Ø· Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:`)
                                                .addFields(
                                                    { name: 'ğŸ“ˆ Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯ØªØ±', value: 'Ø´Ø±Ø· Ù…ÛŒâ€ŒØ¨Ù†Ø¯ÛŒØ¯ Ú©Ù‡ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø´Ù…Ø§ Ø¨Ø²Ø±Ú¯ØªØ± Ø§Ø² Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø±Ø¨Ø§Øª Ø¨Ø§Ø´Ø¯.\n**Ø¶Ø±ÛŒØ¨ Ø¨Ø±Ø¯**: 1.5x', inline: true },
                                                    { name: 'ğŸ“‰ Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ±', value: 'Ø´Ø±Ø· Ù…ÛŒâ€ŒØ¨Ù†Ø¯ÛŒØ¯ Ú©Ù‡ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø´Ù…Ø§ Ú©ÙˆÚ†Ú©ØªØ± Ø§Ø² Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø±Ø¨Ø§Øª Ø¨Ø§Ø´Ø¯.\n**Ø¶Ø±ÛŒØ¨ Ø¨Ø±Ø¯**: 1.5x', inline: true },
                                                    { name: 'ğŸ”„ Ù…Ø³Ø§ÙˆÛŒ', value: 'Ø´Ø±Ø· Ù…ÛŒâ€ŒØ¨Ù†Ø¯ÛŒØ¯ Ú©Ù‡ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø´Ù…Ø§ Ø¨Ø§ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø±Ø¨Ø§Øª Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§Ø´Ø¯.\n**Ø¶Ø±ÛŒØ¨ Ø¨Ø±Ø¯**: 5x', inline: true }
                                                )
                                                .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif')
                                                .setFooter({ text: 'Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø´Ø±Ø· Ø¨Ù‡ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø´Ù…Ø§ Ø¨Ø³ØªÚ¯ÛŒ Ø¯Ø§Ø±Ø¯!' });

                                            await interaction.reply({ embeds: [diceBetEmbed], components: [diceBetOptions] });
                                            break;

                                        case 'dice_bet_higher_3':
                                        case 'dice_bet_higher_5':
                                        case 'dice_bet_higher_10':
                                        case 'dice_bet_higher_20':
                                        case 'dice_bet_higher_50':
                                        case 'dice_bet_higher_100':
                                        case 'dice_bet_lower_3':
                                        case 'dice_bet_lower_5':
                                        case 'dice_bet_lower_10':
                                        case 'dice_bet_lower_20': 
                                        case 'dice_bet_lower_50':
                                        case 'dice_bet_lower_100':
                                        case 'dice_bet_equal_3':
                                        case 'dice_bet_equal_5':
                                        case 'dice_bet_equal_10':
                                        case 'dice_bet_equal_20':
                                        case 'dice_bet_equal_50':
                                        case 'dice_bet_equal_100':
                                            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†ÙˆØ¹ Ø´Ø±Ø· Ùˆ Ù…Ø¨Ù„Øº Ø§Ø² Ú©Ø§Ø³ØªÙˆÙ… Ø¢ÛŒØ¯ÛŒ
                                            const betParts = interaction.customId.split('_');
                                            const betType = betParts[2]; // higher, lower, equal
                                            const betValue = parseInt(betParts[3]);

                                            const betUserData = getUser(interaction.user.id);

                                            // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ
                                            if (betUserData.balance < betValue) {
                                                await interaction.update({
                                                    content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betValue} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                    embeds: [],
                                                    components: []
                                                });
                                                return;
                                            }

                                            // Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªØ§Ø³
                                            const rollingDiceBetEmbed = new EmbedBuilder()
                                                .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§...')
                                                .setColor('#9B59B6')
                                                .setDescription('ØªØ§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ù‡Ø³ØªÙ†Ø¯...')
                                                .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                                            await interaction.update({ embeds: [rollingDiceBetEmbed], components: [] });

                                            // ØªØ§Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                                            setTimeout(async () => {
                                                // ØªØ§Ø³ Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ú©Ø§Ø±Ø¨Ø±
                                                const userRollBet = Math.floor(Math.random() * 6) + 1;
                                                // ØªØ§Ø³ Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ø±Ø¨Ø§Øª
                                                const botRollBet = Math.floor(Math.random() * 6) + 1;

                                                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§
                                                updateQuestProgress(interaction.user.id, 'play_games');

                                                // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø´Ø±Ø·
                                                let resultBet = '';
                                                let winMultiplier = 0;
                                                let won = false;

                                                if (betType === 'higher') {
                                                    // Ø´Ø±Ø· Ø±ÙˆÛŒ Ø¨Ø²Ø±Ú¯ØªØ± Ø¨ÙˆØ¯Ù† Ø¹Ø¯Ø¯ Ú©Ø§Ø±Ø¨Ø±
                                                    if (userRollBet > botRollBet) {
                                                        winMultiplier = 1.5;
                                                        won = true;
                                                        resultBet = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø¹Ø¯Ø¯ Ø´Ù…Ø§ Ø¨Ø²Ø±Ú¯ØªØ± Ø¨ÙˆØ¯ Ùˆ ${Math.floor(betValue * winMultiplier)} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                    } else {
                                                        resultBet = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯! Ø¹Ø¯Ø¯ Ø´Ù…Ø§ Ø¨Ø²Ø±Ú¯ØªØ± Ù†Ø¨ÙˆØ¯ Ùˆ ${betValue} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯.`;
                                                    }
                                                } else if (betType === 'lower') {
                                                    // Ø´Ø±Ø· Ø±ÙˆÛŒ Ú©ÙˆÚ†Ú©ØªØ± Ø¨ÙˆØ¯Ù† Ø¹Ø¯Ø¯ Ú©Ø§Ø±Ø¨Ø±
                                                    if (userRollBet < botRollBet) {
                                                        winMultiplier = 1.5;
                                                        won = true;
                                                        resultBet = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø¹Ø¯Ø¯ Ø´Ù…Ø§ Ú©ÙˆÚ†Ú©ØªØ± Ø¨ÙˆØ¯ Ùˆ ${Math.floor(betValue * winMultiplier)} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                    } else {
                                                        resultBet = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯! Ø¹Ø¯Ø¯ Ø´Ù…Ø§ Ú©ÙˆÚ†Ú©ØªØ± Ù†Ø¨ÙˆØ¯ Ùˆ ${betValue} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯.`;
                                                    }
                                                } else if (betType === 'equal') {
                                                    // Ø´Ø±Ø· Ø±ÙˆÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø¨ÙˆØ¯Ù† Ø§Ø¹Ø¯Ø§Ø¯
                                                    if (userRollBet === botRollBet) {
                                                        winMultiplier = 5;
                                                        won = true;
                                                        resultBet = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø§Ø¹Ø¯Ø§Ø¯ Ù…Ø³Ø§ÙˆÛŒ Ø¨ÙˆØ¯Ù†Ø¯ Ùˆ ${Math.floor(betValue * winMultiplier)} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                    } else {
                                                        resultBet = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯! Ø§Ø¹Ø¯Ø§Ø¯ Ù…Ø³Ø§ÙˆÛŒ Ù†Ø¨ÙˆØ¯Ù†Ø¯ Ùˆ ${betValue} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯.`;
                                                    }
                                                }

                                                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±
                                                if (won) {
                                                    betUserData.balance += Math.floor(betValue * winMultiplier) - betValue; // Ú©Ù… Ú©Ø±Ø¯Ù† Ø§ØµÙ„ Ø´Ø±Ø· Ø§Ø² Ø¬Ø§ÛŒØ²Ù‡
                                                } else {
                                                    betUserData.balance -= betValue;
                                                }

                                                saveData();

                                                // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
                                                const diceBetResultEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ² Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                    .setColor(won ? '#00FF00' : '#FF0000')
                                                    .setDescription(`
                        **Ù†ÙˆØ¹ Ø´Ø±Ø·**: ${betType === 'higher' ? 'Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯ØªØ±' : (betType === 'lower' ? 'Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ±' : 'Ù…Ø³Ø§ÙˆÛŒ')}
                        **ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRollBet)} (${userRollBet})
                        **ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRollBet)} (${botRollBet})

                        ${resultBet}

                        Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${betUserData.balance} ${COIN_NAME}**`)
                                                    .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                const diceBetButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId(`dice_again_${betValue}`)
                                                            .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${betValue} Ø³Ú©Ù‡)`)
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId(`dice_again_${betValue * 2}`)
                                                            .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${betValue * 2} Ø³Ú©Ù‡)`)
                                                            .setStyle(ButtonStyle.Danger),
                                                        new ButtonBuilder()
                                                            .setCustomId('games')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.editReply({ embeds: [diceBetResultEmbed], components: [diceBetButtons] });
                                            }, 3000);
                                            break;
                                    }
                                } catch (error) {
                                    console.error(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø³ØªÙˆØ± ${interaction.isCommand() ? interaction.commandName : 'ØªØ¹Ø§Ù…Ù„ Ø¯Ú©Ù…Ù‡'}:`, error);

                                    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø¢ÛŒØ§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ ØªØ¹Ø§Ù…Ù„ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ø®ÛŒØ±
                                    try {
                                        if (interaction.deferred || interaction.replied) {
                                            await interaction.followUp({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
                                        } else {
                                            await interaction.reply({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
                                        }
                                    } catch (followupError) {
                                        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§:', followupError);
                                    }
                                }


                            // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
                            if (interaction.isButton()) {
                                try {
                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø§Ù†ØªÙ‚Ø§Ù„
                                    if (interaction.customId.startsWith('confirm_transfer_')) {
                                        const parts = interaction.customId.split('_');
                                        const targetId = parts[2];
                                        const amount = parseInt(parts[3]);

                                        const userData = getUser(interaction.user.id);

                                        // Ø¨Ø±Ø±Ø³ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ (Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¯Ø± Ø²Ù…Ø§Ù† ØªØ£ÛŒÛŒØ¯ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
                                        if (userData.balance < amount) {
                                            return await interaction.update({
                                                content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                                components: []
                                            });
                                        }

                                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¬Ø¯Ø¯ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„
                                        const transferCheck = canTransferCoins(interaction.user.id, targetId, amount);
                                        if (!transferCheck.allowed) {
                                            return await interaction.update({
                                                content: transferCheck.reason,
                                                components: []
                                            });
                                        }

                                        const targetData = getUser(targetId);
                                        userData.balance -= amount;
                                        targetData.balance += amount;

                                        // Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
                                        recordTransfer(interaction.user.id, targetId, amount);

                                        // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø§Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
                                        const leveledUp = addXP(interaction.user.id, 5);
                                        let levelUpMessage = '';
                                        if (leveledUp) {
                                            levelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                                        }

                                        saveData();

                                        await interaction.update({
                                            content: `âœ… Ø§Ù†ØªÙ‚Ø§Ù„ ${amount} ${COIN_NAME} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!${levelUpMessage}`,
                                            components: []
                                        });

                                        return;
                                    }

                                    if (interaction.customId === 'cancel_transfer') {
                                        await interaction.update({
                                            content: 'âŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØºÙˆ Ø´Ø¯.',
                                            components: []
                                        });
                                        return;
                                    }

                                    switch(interaction.customId) {
                                        case 'economy':
                                            const economyEmbed = new EmbedBuilder()
                                                .setColor('#0099ff')
                                                .setTitle('ğŸ’° Ø³ÛŒØ³ØªÙ… Ø§Ù‚ØªØµØ§Ø¯ÛŒ')
                                                .setDescription('Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ:')
                                                .addFields(
                                                    { name: '/balance', value: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§', inline: true },
                                                    { name: '/spin', value: 'Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡', inline: true },
                                                    { name: '/daily', value: 'Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡', inline: true },
                                                    { name: '/transfer', value: 'Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±', inline: true },
                                                    { name: '/bankdeposit', value: 'ÙˆØ§Ø±ÛŒØ² Ø³Ú©Ù‡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', inline: true },
                                                    { name: '/bankwithdraw', value: 'Ø¨Ø±Ø¯Ø§Ø´Øª Ø³Ú©Ù‡ Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', inline: true },
                                                    { name: '/invest', value: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ Ø¨Ø§ Ù†Ø±Ø® Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡', inline: true },
                                                    { name: '/leaderboard', value: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                                                );

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø§ÙˆÙ„)
                                            const economyButtons1 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_balance')
                                                        .setLabel('ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_daily')
                                                        .setLabel('ğŸŒ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_spin')
                                                        .setLabel('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                                        .setStyle(ButtonStyle.Primary)
                                                );

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø¯ÙˆÙ…)
                                            const economyButtons2 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_bankdeposit')
                                                        .setLabel('ğŸ’³ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©')
                                                        .setStyle(ButtonStyle.Secondary),
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_bankwithdraw')
                                                        .setLabel('ğŸ’µ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©')
                                                        .setStyle(ButtonStyle.Secondary),
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_leaderboard')
                                                        .setLabel('ğŸ† Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø³ÙˆÙ…)
                                            const economyButtons3 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_transfer')
                                                        .setLabel('ğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('quick_invest')
                                                        .setLabel('ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('back_to_menu')
                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.update({ embeds: [economyEmbed], components: [economyButtons1, economyButtons2, economyButtons3] });
                                            break;

                                        case 'games':
                                            const gamesEmbed = new EmbedBuilder()
                                                .setColor('#00ff00')
                                                .setTitle('ğŸ® Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³Ø±ÙˆØ±')
                                                .setDescription('Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ùˆ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø°Ø§Ø¨ Ùˆ Ù…ØªÙ†ÙˆØ¹ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø³Ú©Ù‡ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±ÛŒØ¯!')
                                                .addFields(
                                                    { name: 'ğŸ° Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø§Ù†Ø³ÛŒ', value: 'Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³ØŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·ØŒ ØªØ§Ø³ØŒ Ø¬Ú©Ù¾Ø§Øª Ùˆ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ', inline: true },
                                                    { name: 'ğŸ¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ø§Ø±ØªÛŒ', value: 'Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒØŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ØŒ Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø³Ø±ÛŒØ¹â€ŒØ§Ù„Ù†Ú¯Ø´Øª', inline: true },
                                                    { name: 'âš”ï¸ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ', value: 'Ø¯ÙˆØ¦Ù„ØŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒØŒ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡', inline: true }
                                                )
                                                .setImage('https://media.giphy.com/media/hpXdHPfFI5wTABdDx9/giphy.gif');

                                            const gameButtonsShort = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('games_chance')
                                                        .setLabel('ğŸ° Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø§Ù†Ø³ÛŒ')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('games_skill')
                                                        .setLabel('ğŸ¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ø§Ø±ØªÛŒ')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('games_competitive')
                                                        .setLabel('âš”ï¸ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ')
                                                        .setStyle(ButtonStyle.Danger)
                                                );

                                            const gameButtonsFooter = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_jackpot')
                                                        .setEmoji('ğŸ’')
                                                        .setLabel('Ø¬Ú©Ù¾Ø§Øª')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_lottery')
                                                        .setEmoji('ğŸŸï¸')
                                                        .setLabel('Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('back_to_menu')
                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.update({ embeds: [gamesEmbed], components: [gameButtonsShort, gameButtonsFooter] });
                                            break;

                                        case 'games_chance':
                                            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø§Ù†Ø³ÛŒ
                                            const chanceGamesEmbed = new EmbedBuilder()
                                                .setColor('#FF9900')
                                                .setTitle('ğŸ° Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ø§Ù†Ø³ÛŒ')
                                                .setDescription('Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø¬ÙˆØ§ÛŒØ² Ø¨Ø²Ø±Ú¯ Ø´ÙˆÛŒØ¯!')
                                                .addFields(
                                                    { name: 'ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³', value: 'Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡ ØªØµØ§Ø¯ÙÛŒ (Ø±ÙˆØ²Ø§Ù†Ù‡)', inline: true },
                                                    { name: 'ğŸ¯ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·', value: 'Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ù¾Ø±ØªØ§Ø¨ Ø³Ú©Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ (Ø´Ø§Ù†Ø³ 50/50)', inline: true },
                                                    { name: 'ğŸ² ØªØ§Ø³', value: 'ØªØ§Ø³ Ø¨ÛŒÙ†Ø¯Ø§Ø²ÛŒØ¯ Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯', inline: true },
                                                    { name: 'ğŸ’ Ø¬Ú©Ù¾Ø§Øª', value: 'Ø´Ø±Ú©Øª Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¬Ú©Ù¾Ø§Øª Ø¨Ø§ Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ú©Ù„ Ù…Ø®Ø²Ù†', inline: true },
                                                    { name: 'ğŸŸï¸ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ', value: 'Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ùˆ Ø´Ø±Ú©Øª Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ù‡ÙØªÚ¯ÛŒ', inline: true },
                                                    { name: 'ğŸ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³', value: 'Ú¯Ø´Ø§ÛŒØ´ Ø¬Ø¹Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ø§Ù†Ø³ Ø¨Ø§ Ø¬ÙˆØ§ÛŒØ² Ù…ØªÙ†ÙˆØ¹', inline: true }
                                                );

                                            const chanceGameButtons1 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_wheel')
                                                        .setEmoji('ğŸ¡')
                                                        .setLabel('Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_coinflip')
                                                        .setEmoji('ğŸ¯')
                                                        .setLabel('Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_dice')
                                                        .setEmoji('ğŸ²')
                                                        .setLabel('ØªØ§Ø³')
                                                        .setStyle(ButtonStyle.Primary)
                                                );

                                            const chanceGameButtons2 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_jackpot')
                                                        .setEmoji('ğŸ’')
                                                        .setLabel('Ø¬Ú©Ù¾Ø§Øª')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_lottery')
                                                        .setEmoji('ğŸŸï¸')
                                                        .setLabel('Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('buy_lootbox')
                                                        .setEmoji('ğŸ')
                                                        .setLabel('Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ (100 Ø³Ú©Ù‡)')
                                                        .setStyle(ButtonStyle.Success)
                                                );

                                            const chanceGameButtons3 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('games')
                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.update({ embeds: [chanceGamesEmbed], components: [chanceGameButtons1, chanceGameButtons2, chanceGameButtons3] });
                                            break;

                                        case 'games_skill':
                                            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ø§Ø±ØªÛŒ
                                            const skillGamesEmbed = new EmbedBuilder()
                                                .setColor('#00FFCC')
                                                .setTitle('ğŸ¯ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ø§Ø±ØªÛŒ')
                                                .setDescription('Ù…Ù‡Ø§Ø±Øª Ùˆ Ø¯Ù‚Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ú©Ø´ÛŒØ¯!')
                                                .addFields(
                                                    { name: 'âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ', value: 'Ø¨Ø§Ø²ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© Ø¨Ø§ Ø±Ø¨Ø§Øª ÛŒØ§ Ø¯ÙˆØ³ØªØ§Ù†', inline: true },
                                                    { name: 'ğŸ”¢ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯', value: 'Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯', inline: true },
                                                    { name: 'âŒ¨ï¸ Ø³Ø±ÛŒØ¹â€ŒØ§Ù„Ù†Ú¯Ø´Øª', value: 'Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ú©Ø³ÛŒ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ú©Ù„Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø±Ø§ ØªØ§ÛŒÙ¾ Ù…ÛŒâ€ŒÚ©Ù†Ø¯', inline: true },
                                                    { name: 'ğŸ§  Ú†ÛŒØ³ØªØ§Ù†', value: 'Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ùˆ Ù…Ø¹Ù…Ø§Ù‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯', inline: true },
                                                    { name: 'ğŸ¯ Ú©Ù„ÛŒÚ© Ø³Ø±ÛŒØ¹', value: 'Ø¯Ø± Ø²Ù…Ø§Ù† Ù…Ø­Ø¯ÙˆØ¯ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯', inline: true }
                                                );

                                            const skillGameButtons1 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_rps')
                                                        .setEmoji('âš”ï¸')
                                                        .setLabel('Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_numguess')
                                                        .setEmoji('ğŸ”¢')
                                                        .setLabel('Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_fasttyping')
                                                        .setEmoji('âŒ¨ï¸')
                                                        .setLabel('Ø³Ø±ÛŒØ¹â€ŒØ§Ù„Ù†Ú¯Ø´Øª')
                                                        .setStyle(ButtonStyle.Primary)
                                                );

                                            const skillGameButtons2 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_riddle')
                                                        .setEmoji('ğŸ§ ')
                                                        .setLabel('Ú†ÛŒØ³ØªØ§Ù†')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_fastclick')
                                                        .setEmoji('ğŸ¯')
                                                        .setLabel('Ú©Ù„ÛŒÚ© Ø³Ø±ÛŒØ¹')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('games')
                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.update({ embeds: [skillGamesEmbed], components: [skillGameButtons1, skillGameButtons2] });
                                            break;

                                        case 'games_competitive':
                                            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ
                                            const competitiveGamesEmbed = new EmbedBuilder()
                                                .setColor('#FF5555')
                                                .setTitle('âš”ï¸ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ')
                                                .setDescription('Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø±Ù‚Ø§Ø¨Øª Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯!')
                                                .addFields(
                                                    { name: 'ğŸ† Ø¯ÙˆØ¦Ù„', value: 'Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯', inline: true },
                                                    { name: 'ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ', value: 'Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø®Ø§Øµ', inline: true },
                                                    { name: 'ğŸ… Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ù‡ÙØªÚ¯ÛŒ', value: 'Ø±Ù‚Ø§Ø¨Øª Ø¨Ø§ Ø³Ø§ÛŒØ± Ø§Ø¹Ø¶Ø§ Ø¯Ø± Ù„ÛŒØ¯Ø±Ø¨ÙˆØ±Ø¯ Ù‡ÙØªÚ¯ÛŒ', inline: true },
                                                    { name: 'ğŸ‘‘ Ø³Ù„Ø·Ø§Ù† Ø³Ø±ÙˆØ±', value: 'Ø±Ù‚Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø¯Ø´Ø§Ù‡ Ø³Ø±ÙˆØ±', inline: true },
                                                    { name: 'ğŸŒªï¸ Ù…Ø¨Ø§Ø±Ø²Ù‡ Ú¯Ø±ÙˆÙ‡ÛŒ', value: 'Ù…Ø¨Ø§Ø±Ø²Ù‡ Ù‡Ù…Ø²Ù…Ø§Ù† Ú†Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù‡Ù…', inline: true }
                                                );

                                            const competitiveGameButtons1 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('play_duel')
                                                        .setEmoji('ğŸ†')
                                                        .setLabel('Ø¯ÙˆØ¦Ù„')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('play_steal')
                                                        .setEmoji('ğŸ¥·')
                                                        .setLabel('Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                                        .setStyle(ButtonStyle.Danger),
                                                    new ButtonBuilder()
                                                        .setCustomId('weekly_competition')
                                                        .setEmoji('ğŸ…')
                                                        .setLabel('Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ù‡ÙØªÚ¯ÛŒ')
                                                        .setStyle(ButtonStyle.Primary)
                                                );

                                            const competitiveGameButtons2 = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('server_king')
                                                        .setEmoji('ğŸ‘‘')
                                                        .setLabel('Ø³Ù„Ø·Ø§Ù† Ø³Ø±ÙˆØ±')
                                                        .setStyle(ButtonStyle.Success),
                                                    new ButtonBuilder()
                                                        .setCustomId('steal_info')
                                                        .setEmoji('â„¹ï¸')
                                                        .setLabel('Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                                        .setStyle(ButtonStyle.Secondary),
                                                    new ButtonBuilder()
                                                        .setCustomId('games')
                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                        .setStyle(ButtonStyle.Secondary)
                                                );

                                            await interaction.update({ embeds: [competitiveGamesEmbed], components: [competitiveGameButtons1, competitiveGameButtons2] });
                                            break;

                                        // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹
                                        case 'quick_balance':
                                            // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±
                                            const userDataBalance = getUser(interaction.user.id);

                                            await interaction.reply({
                                                content: `ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§:
                                                **Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${userDataBalance.balance} ${COIN_NAME}
                                                **Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${userDataBalance.bank || 0} ${COIN_NAME}
                                                **Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ**: ${userDataBalance.investment || 0} ${COIN_NAME}`,
                                                ephemeral: true
                                            });
                                            break;

                                        case 'quick_daily':
                                            // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ú©Ø¯ Ø¯Ø³ØªÙˆØ± daily
                                            const userDailyData = getUser(interaction.user.id);
                                            const userLastDaily = userDailyData.lastDaily || 0;
                                            let nowDaily = Date.now();

                                            if (nowDaily - userLastDaily < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                                                const remainingTime = 86400000 - (nowDaily - userLastDaily);
                                                const hours = Math.floor(remainingTime / 3600000);
                                                const minutes = Math.floor((remainingTime % 3600000) / 60000);

                                                return await interaction.reply({
                                                    content: `â³ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`,
                                                    ephemeral: true
                                                });
                                            }

                                            const quickDailyReward = 50;
                                            userDailyData.balance += quickDailyReward;
                                            userDailyData.lastDaily = nowDaily;
                                            saveData();

                                            await interaction.reply({
                                                content: `âœ… Ø´Ù…Ø§ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯: ${quickDailyReward} ${COIN_NAME}!`,
                                                ephemeral: true
                                            });
                                            break;

                                        case 'quick_spin':
                                            // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ú©Ø¯ Ø¯Ø³ØªÙˆØ± spin
                                            const userSpinData = getUser(interaction.user.id);
                                            const userLastSpin = userSpinData.lastSpin || 0;
                                            let nowSpin = Date.now();

                                            if (nowSpin - userLastSpin < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                                                const remainingTime = 86400000 - (nowSpin - userLastSpin);
                                                const hours = Math.floor(remainingTime / 3600000);
                                                const minutes = Math.floor((remainingTime % 3600000) / 60000);

                                                return await interaction.reply({
                                                    content: `â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡**`,
                                                    ephemeral: true
                                                });
                                            }

                                            let spinReward = spinWheel();
                                            userSpinData.balance += spinReward;
                                            userSpinData.lastSpin = nowSpin;
                                            saveData();

                                            // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ù†ØªÛŒØ¬Ù‡
                                            const quickSpinEmbed = new EmbedBuilder()
                                                .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                                .setColor(spinReward > 0 ? '#00FF00' : '#FF0000')
                                                .setDescription(spinReward > 0 
                                                    ? `ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${spinReward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` 
                                                    : 'Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯! ğŸ˜¢')
                                                .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                            await interaction.reply({ embeds: [quickSpinEmbed], ephemeral: true });
                                            break;

                                        case 'quick_bankdeposit':
                                            // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©
                                            const bankDepositEmbed = new EmbedBuilder()
                                                .setColor('#0099ff')
                                                .setTitle('ğŸ’³ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
                                                .setDescription('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                                                .addFields(
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true },
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).bank || 0} ${COIN_NAME}`, inline: true }
                                                );

                                            const depositButtons = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('deposit_10')
                                                        .setLabel('10 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('deposit_50')
                                                        .setLabel('50 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('deposit_100')
                                                        .setLabel('100 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('deposit_all')
                                                        .setLabel('Ù‡Ù…Ù‡ Ø³Ú©Ù‡â€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Danger)
                                                );

                                            await interaction.reply({ embeds: [bankDepositEmbed], components: [depositButtons], ephemeral: true });
                                            break;

                                        case 'quick_bankwithdraw':
                                            // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©
                                            const bankWithdrawEmbed = new EmbedBuilder()
                                                .setColor('#0099ff')
                                                .setTitle('ğŸ’µ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
                                                .setDescription('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                                                .addFields(
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).bank || 0} ${COIN_NAME}`, inline: true },
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true }
                                                );

                                            const withdrawButtons = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('withdraw_10')
                                                        .setLabel('10 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('withdraw_50')
                                                        .setLabel('50 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('withdraw_100')
                                                        .setLabel('100 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('withdraw_all')
                                                        .setLabel('Ù‡Ù…Ù‡ Ø³Ú©Ù‡â€ŒÙ‡Ø§')
                                                        .setStyle(ButtonStyle.Danger)
                                                );

                                            await interaction.reply({ embeds: [bankWithdrawEmbed], components: [withdrawButtons], ephemeral: true });
                                            break;

                                        case 'quick_leaderboard':
                                            // Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                                            let quickSortedUsers = Object.entries(users).sort((a, b) => 
                                                (b[1].balance + (b[1].bank || 0) + (b[1].investment || 0)) - 
                                                (a[1].balance + (a[1].bank || 0) + (a[1].investment || 0))
                                            );
                                            let quickLeaderboard = quickSortedUsers.slice(0, 10).map((u, i) => {
                                                const total = u[1].balance + (u[1].bank || 0) + (u[1].investment || 0);
                                                return `${i + 1}. <@${u[0]}> - ${total} ${COIN_NAME}`;
                                            }).join('\n');

                                            await interaction.reply({ 
                                                embeds: [
                                                    new EmbedBuilder()
                                                        .setTitle('ğŸ† Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†')
                                                        .setDescription(quickLeaderboard)
                                                        .setColor('#FFD700')
                                                ],
                                                ephemeral: true
                                            });
                                            break;

                                        case 'quick_transfer':
                                            // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
                                            const transferEmbed = new EmbedBuilder()
                                                .setColor('#FF5733')
                                                .setTitle('ğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
                                                .setDescription('Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±ØŒ Ù„Ø·ÙØ§Ù‹ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/transfer` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\nÙ…Ø«Ø§Ù„: `/transfer user:@username amount:100`')
                                                .addFields(
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true }
                                                );

                                            await interaction.reply({ embeds: [transferEmbed], ephemeral: true });
                                            break;

                                        case 'quick_invest':
                                            // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                                            const investEmbed = new EmbedBuilder()
                                                .setColor('#00FF00')
                                                .setTitle('ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡')
                                                .setDescription(`Ø¨Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ØŒ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø³ÙˆØ¯ Ø¯Ø±ÛŒØ§ÙØª Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø±Ø¯! Ù…Ø¨Ù„Øº Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:`)
                                                .addFields(
                                                    { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true },
                                                    { name: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ ÙØ¹Ù„ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).investment || 0} ${COIN_NAME}`, inline: true }
                                                );

                                            const investButtons = new ActionRowBuilder()
                                                .addComponents(
                                                    new ButtonBuilder()
                                                        .setCustomId('invest_100')
                                                        .setLabel('100 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('invest_500')
                                                        .setLabel('500 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Primary),
                                                    new ButtonBuilder()
                                                        .setCustomId('invest_1000')
                                                        .setLabel('1000 Ø³Ú©Ù‡')
                                                        .setStyle(ButtonStyle.Danger)
                                                );

                                            await interaction.reply({ embeds: [investEmbed], components: [investButtons], ephemeral: true });
                                            break;

                                        case 'play_wheel':
                                            // Ù…Ø´Ø§Ø¨Ù‡ quick_spin Ø§Ù…Ø§ Ø¨Ø§ Ù¾ÛŒØ§Ù… Ù…ØªÙØ§ÙˆØª
                                            const playWheelUserData = getUser(interaction.user.id);
                                            const playWheelLastSpin = playWheelUserData.lastSpin || 0;
                                            const playWheelNowSpin = Date.now();

                                            if (playWheelNowSpin - playWheelLastSpin < 86400000) {
                                                const remainingTime = 86400000 - (playWheelNowSpin - playWheelLastSpin);
                                                const hours = Math.floor(remainingTime / 3600000);
                                                const minutes = Math.floor((remainingTime % 3600000) / 60000);

                                                return await interaction.reply({
                                                    content: `â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡**`,
                                                    ephemeral: true
                                                });
                                            }

                                            const playWheelReward = spinWheel();
                                            playWheelUserData.balance += playWheelReward;
                                            playWheelUserData.lastSpin = playWheelNowSpin;
                                            saveData();

                                                const wheelEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                                    .setColor(playWheelReward > 0 ? '#00FF00' : '#FF0000')
                                                    .setDescription(playWheelReward > 0 
                                                        ? `Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒÚ†Ø±Ø®Ø¯... Ùˆ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯!\n\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${playWheelReward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` 
                                                        : 'Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒÚ†Ø±Ø®Ø¯... Ùˆ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯!\n\nğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯!')
                                                    .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                                const backToGamesButton = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('games')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.reply({ embeds: [wheelEmbed], components: [backToGamesButton], ephemeral: true });
                                                break;

                                            case 'play_coinflip':
                                                // Ø¨Ø§Ø²ÛŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·
                                                const coinflipEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ¯ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                                                    .setColor('#1ABC9C')
                                                    .setDescription('Ø´ÛŒØ± ÛŒØ§ Ø®Ø·ØŸ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø´Ø±Ø· Ø¨Ø¨Ù†Ø¯ÛŒØ¯!\n\nØ¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø· Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯:');

                                                const coinflipButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('coinflip_heads_10')
                                                            .setLabel('Ø´ÛŒØ± - 10 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('coinflip_tails_10')
                                                            .setLabel('Ø®Ø· - 10 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('games')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                const coinflipButtons2 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('coinflip_heads_50')
                                                            .setLabel('Ø´ÛŒØ± - 50 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Danger),
                                                        new ButtonBuilder()
                                                            .setCustomId('coinflip_tails_50')
                                                            .setLabel('Ø®Ø· - 50 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Danger)
                                                    );

                                                await interaction.reply({ embeds: [coinflipEmbed], components: [coinflipButtons, coinflipButtons2], ephemeral: true });
                                                break;

                                            case 'play_dice':
                                                // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³
                                                const diceGameEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                    .setColor('#6642A9')
                                                    .setDescription('Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ù†Ø­ÙˆÙ‡ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯:');

                                                const diceBetButtons1 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('dice_game_10_bot')
                                                            .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (10 Ø³Ú©Ù‡)')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('dice_game_50_bot')
                                                            .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (50 Ø³Ú©Ù‡)')
                                                            .setStyle(ButtonStyle.Danger)
                                                    );

                                                const diceBetButtons2 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('dice_game_10_player')
                                                            .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (10 Ø³Ú©Ù‡)')
                                                            .setStyle(ButtonStyle.Success),
                                                        new ButtonBuilder()
                                                            .setCustomId('dice_game_50_player')
                                                            .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (50 Ø³Ú©Ù‡)')
                                                            .setStyle(ButtonStyle.Success)
                                                    );

                                                const diceBetButtons3 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('games')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.reply({ embeds: [diceGameEmbed], components: [diceBetButtons1, diceBetButtons2, diceBetButtons3], ephemeral: true });
                                                break;

                                            case 'help':
                                                const helpEmbed = new EmbedBuilder()
                                                    .setColor('#ffff00')
                                                    .setTitle('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                                                    .setDescription('Ù„ÛŒØ³Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø¨Ø§Øª:')
                                                    .addFields(
                                                        { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ', value: '/balance, /spin, /daily, /transfer, /bankdeposit, /bankwithdraw, /invest, /leaderboard, /steal', inline: false },
                                                        { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ', value: '/ping, /profile, /menu', inline: false },
                                                        { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ', value: '/setchannel, /addcoins (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§)', inline: false }
                                                    );

                                                // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                                                const backButton = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [helpEmbed], components: [backButton] });
                                                break;

                                            case 'quests':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ®ØµÛŒØµ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡
                                                const questInfoResult = checkAndAssignDailyQuest(interaction.user.id);
                                                const questUserData = getUser(interaction.user.id);

                                                // Ø³Ø§Ø®Øª Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§
                                                const questsEmbed = new EmbedBuilder()
                                                    .setColor('#9B59B6')
                                                    .setTitle('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                                    .setDescription('Ø³ÛŒØ³ØªÙ… Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø¨Ø§ Ø§Ù†Ø¬Ø§Ù… Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙØŒ Ø³Ú©Ù‡ Ùˆ Ø¬ÙˆØ§ÛŒØ² Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±ÛŒØ¯!')
                                                    .addFields(
                                                        { name: 'ğŸ¯ Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡', value: questUserData.dailyQuest ? `${questUserData.dailyQuest.description} - Ù¾ÛŒØ´Ø±ÙØª: ${questUserData.dailyQuestProgress}/${questUserData.dailyQuest.goal}` : 'Ù…Ø£Ù…ÙˆØ±ÛŒØªÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡! Ø§Ø² Ø¯Ø³ØªÙˆØ± /quest Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.', inline: false },
                                                        { name: 'ğŸ Ù¾Ø§Ø¯Ø§Ø´ Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ', value: questUserData.dailyQuest ? `${questUserData.dailyQuest.reward} ${COIN_NAME}` : '0', inline: true },
                                                        { name: 'ğŸ† Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡', value: `${questUserData.questsCompleted || 0}`, inline: true },
                                                        { name: 'ğŸ“Š Ø¢Ù…Ø§Ø± ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§', value: `Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§: ${questUserData.questStats.chat_messages || 0}\nØ¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§: ${questUserData.questStats.play_games || 0}\nØ¬ÛŒØ¨â€ŒØ²Ù†ÛŒâ€ŒÙ‡Ø§: ${questUserData.questStats.steal_attempt || 0}`, inline: false }
                                                    );

                                                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø±Ø§ÛŒ Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ
                                                if (questUserData.dailyQuest) {
                                                    const progressPercentage = Math.floor((questUserData.dailyQuestProgress / questUserData.dailyQuest.goal) * 100);
                                                    const progressBar = createProgressBar(progressPercentage);
                                                    questsEmbed.addFields({ name: 'ğŸ”„ Ù¾ÛŒØ´Ø±ÙØª Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ', value: progressBar, inline: false });
                                                }

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ¦Ø³Øª
                                                const questButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('refresh_quest')
                                                            .setLabel('ğŸ”„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø£Ù…ÙˆØ±ÛŒØª')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [questsEmbed], components: [questButtons] });
                                                break;

                                            case 'refresh_quest':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡
                                                const refreshQuestResult = checkAndAssignDailyQuest(interaction.user.id);
                                                const refreshQuestUserData = getUser(interaction.user.id);

                                                // Ø³Ø§Ø®Øª Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡
                                                const refreshQuestEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ¯ Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡')
                                                    .setColor('#FFD700')
                                                    .setDescription(refreshQuestResult.isNew ? 'ğŸ†• ÛŒÚ© Ù…Ø£Ù…ÙˆØ±ÛŒØª Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ØªØ¹ÛŒÛŒÙ† Ø´Ø¯!' : 'Ù…Ø£Ù…ÙˆØ±ÛŒØª ÙØ¹Ù„ÛŒ Ø´Ù…Ø§:')
                                                    .addFields(
                                                        { name: 'ğŸ“ Ø´Ø±Ø­ Ù…Ø£Ù…ÙˆØ±ÛŒØª', value: refreshQuestUserData.dailyQuest.description, inline: false },
                                                        { name: 'ğŸ Ù¾Ø§Ø¯Ø§Ø´', value: `${refreshQuestUserData.dailyQuest.reward} ${COIN_NAME}`, inline: true },
                                                        { name: 'ğŸ“Š Ù¾ÛŒØ´Ø±ÙØª', value: `${refreshQuestUserData.dailyQuestProgress}/${refreshQuestUserData.dailyQuest.goal}`, inline: true },
                                                        { name: 'ğŸ“ˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡', value: `${refreshQuestUserData.questsCompleted || 0}`, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø§ ØªÚ©Ù…ÛŒÙ„ Ù…Ø£Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ Ù¾Ø§Ø¯Ø§Ø´ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯!' });

                                                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
                                                const refreshProgressPercentage = Math.floor((refreshQuestUserData.dailyQuestProgress / refreshQuestUserData.dailyQuest.goal) * 100);
                                                const refreshProgressBar = createProgressBar(refreshProgressPercentage);

                                                refreshQuestEmbed.addFields({ name: 'ğŸ”„ Ù¾ÛŒØ´Ø±ÙØª', value: refreshProgressBar, inline: false });

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø±ÙØ±Ø´
                                                const refreshQuestButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('quests')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [refreshQuestEmbed], components: [refreshQuestButtons] });
                                                break;

                                            case 'buy_lottery_ticket':
                                                // Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
                                                const ticketResult = buyLotteryTicket(interaction.user.id);

                                                if (!ticketResult.success) {
                                                    await interaction.reply({
                                                        content: ticketResult.reason,
                                                        ephemeral: true
                                                    });
                                                    return;
                                                }

                                                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§
                                                updateQuestProgress(interaction.user.id, 'shop_purchase');

                                                // Ø§Ù…Ø¨Ø¯ ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
                                                const ticketSuccessEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸŸï¸ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ')
                                                    .setColor('#00FF00')
                                                    .setDescription(`âœ… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÛŒÚ© Ø¨Ù„ÛŒØ· Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯!`)
                                                    .addFields(
                                                        { name: 'ğŸ« ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§', value: `${ticketResult.ticketNumber}/${MAX_TICKETS_PER_WEEK}`, inline: true },
                                                        { name: 'ğŸ’° Ø¬Ø§ÛŒØ²Ù‡ ÙØ¹Ù„ÛŒ', value: `${lotteryPool} ${COIN_NAME}`, inline: true },
                                                        { name: 'â±ï¸ Ø²Ù…Ø§Ù† Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø¹Ø¯ÛŒ', value: `<t:${Math.floor(nextLotteryDraw / 1000)}:R>`, inline: false },
                                                        { name: 'ğŸ”„ Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù†', value: `${((ticketResult.ticketNumber / lotteryTickets.length) * 100).toFixed(2)}%`, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ù‡Ø± Ù‡ÙØªÙ‡ Ø¨Ù‡ ØµÙˆØ±Øª ØªØµØ§Ø¯ÙÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.' });

                                                // Ø¯Ú©Ù…Ù‡ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¯ÛŒÚ¯Ø±
                                                const ticketButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('buy_lottery_ticket')
                                                            .setLabel(`Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ø¯ÛŒÚ¯Ø± (${LOTTERY_TICKET_PRICE} Ø³Ú©Ù‡)`)
                                                            .setStyle(ButtonStyle.Success)
                                                            .setEmoji('ğŸŸï¸'),
                                                        new ButtonBuilder()
                                                            .setCustomId('lottery_info')
                                                            .setLabel('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                            .setEmoji('â„¹ï¸')
                                                    );

                                                await interaction.update({ embeds: [ticketSuccessEmbed], components: [ticketButtons] });
                                                break;

                                            case 'lottery_info':
                                                // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ
                                                const infoUserData = getUser(interaction.user.id);

                                                // ØªØ¹ÛŒÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø¹Ø¯ÛŒ
                                                const timeToInfoDraw = nextLotteryDraw - Date.now();
                                                const daysToInfoNext = Math.floor(timeToInfoDraw / (24 * 60 * 60 * 1000));
                                                const hoursToInfoNext = Math.floor((timeToInfoDraw % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));

                                                // Ø´Ø§Ù†Ø³ Ú©Ø§Ø±Ø¨Ø±
                                                const userTickets = infoUserData.lotteryTickets || 0;
                                                const userChanceInfo = lotteryTickets.length > 0 ? ((userTickets / lotteryTickets.length) * 100).toFixed(2) : '0.00';

                                                // Ù„ÛŒØ³Øª 5 Ø®Ø±ÛŒØ¯Ø§Ø± Ø§Ø®ÛŒØ± Ø¨Ù„ÛŒØ·
                                                let recentBuyersList = '';
                                                if (lotteryTickets.length > 0) {
                                                    const recentBuyers = lotteryTickets.slice(-5).reverse();
                                                    recentBuyersList = recentBuyers.map((ticket, index) => `${index + 1}. <@${ticket.userId}> - <t:${Math.floor(ticket.purchaseTime / 1000)}:R>`).join('\n');
                                                } else {
                                                    recentBuyersList = 'Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¨Ù„ÛŒØ·ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!';
                                                }

                                                const lotteryInfoDetailEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸŸï¸ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ø³Ø±ÙˆØ±')
                                                    .setColor('#FF9900')
                                                    .setDescription(`Ù‡Ø± Ù‡ÙØªÙ‡ ÛŒÚ© Ù†ÙØ± Ø¨Ø±Ù†Ø¯Ù‡ Ú©Ù„ Ø¬Ø§ÛŒØ²Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù‡Ø± Ú†Ù‡ Ø¨Ù„ÛŒØ· Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±ÛŒØ¯!`)
                                                    .addFields(
                                                        { name: 'ğŸ’° Ø¬Ø§ÛŒØ²Ù‡ ÙØ¹Ù„ÛŒ', value: `${lotteryPool} ${COIN_NAME}`, inline: true },
                                                        { name: 'ğŸ« ØªØ¹Ø¯Ø§Ø¯ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§', value: `${userTickets}/${MAX_TICKETS_PER_WEEK}`, inline: true },
                                                        { name: 'ğŸ”„ Ø´Ø§Ù†Ø³ Ø´Ù…Ø§', value: `${userChanceInfo}%`, inline: true },
                                                        { name: 'ğŸ¯ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§', value: `${lotteryTickets.length} Ø¨Ù„ÛŒØ·`, inline: true },
                                                        { name: 'â±ï¸ Ø²Ù…Ø§Ù† Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø¨Ø¹Ø¯ÛŒ', value: `${daysToInfoNext} Ø±ÙˆØ² Ùˆ ${hoursToInfoNext} Ø³Ø§Ø¹Øª Ø¯ÛŒÚ¯Ø±`, inline: true },
                                                        { name: 'ğŸ›’ Ø®Ø±ÛŒØ¯Ø§Ø±Ø§Ù† Ø§Ø®ÛŒØ±', value: recentBuyersList, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø®Øªâ€ŒØ¢Ø²Ù…Ø§ÛŒÛŒ Ù‡Ø± Ù‡ÙØªÙ‡ Ø¨Ù‡ ØµÙˆØ±Øª ØªØµØ§Ø¯ÙÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.' });

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª
                                                const infoTicketButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('buy_lottery_ticket')
                                                            .setLabel(`Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ· (${LOTTERY_TICKET_PRICE} Ø³Ú©Ù‡)`)
                                                            .setStyle(ButtonStyle.Success)
                                                            .setEmoji('ğŸŸï¸'),
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [lotteryInfoDetailEmbed], components: [infoTicketButtons] });
                                                break;

                                            case 'confirm_jackpot':
                                            case 'confirm_jackpot_10':
                                            case 'confirm_jackpot_20':
                                            case 'confirm_jackpot_50':
                                            case 'confirm_jackpot_100':
                                                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø§Ø±Ú©Øª Ø§Ø² Ú©Ø§Ø³ØªÙˆÙ… Ø¢ÛŒØ¯ÛŒ
                                                const jackpotParts = interaction.customId.split('_');
                                                const jackpotContributionAmount = parseInt(jackpotParts[2] || '0');

                                                // Ø«Ø¨Øª Ù…Ø´Ø§Ø±Ú©Øª Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
                                                const jackpotResult = joinJackpot(interaction.user.id, jackpotContributionAmount);

                                                if (!jackpotResult.success) {
                                                    await interaction.update({
                                                        content: jackpotResult.reason,
                                                        embeds: [],
                                                        components: []
                                                    });
                                                    return;
                                                }

                                                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§
                                                updateQuestProgress(interaction.user.id, 'shop_purchase');

                                                // Ø§Ù…Ø¨Ø¯ ØªØ£ÛŒÛŒØ¯ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
                                                const jackpotSuccessEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ’ Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª')
                                                    .setColor('#00FF00')
                                                    .setDescription(`âœ… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§ ${jackpotResult.amount} ${COIN_NAME} Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ú©Ø±Ø¯ÛŒØ¯!`)
                                                    .addFields(
                                                        { name: 'ğŸ’° Ù…Ø¬Ù…ÙˆØ¹ Ø¬Ú©Ù¾Ø§Øª ÙØ¹Ù„ÛŒ', value: `${jackpotResult.totalPool} ${COIN_NAME}`, inline: true },
                                                        { name: 'ğŸ² Ø´Ø§Ù†Ø³ Ø´Ù…Ø§', value: `${jackpotResult.chance}%`, inline: true },
                                                        { name: 'ğŸ‘¥ ØªØ¹Ø¯Ø§Ø¯ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†', value: `${jackpotPlayers.length} Ù†ÙØ±`, inline: true },
                                                        { name: 'â±ï¸ Ø²Ù…Ø§Ù† Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ', value: 'Ù¾Ø³ Ø§Ø² Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ 10 Ù†ÙØ± Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ ÛŒØ§ 10,000 Ø³Ú©Ù‡', inline: false }
                                                    )
                                                    .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø¨Ø§ Ù…Ø¨Ø§Ù„Øº Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯ ØªØ§ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯.' });

                                                // Ø¯Ú©Ù…Ù‡ Ø´Ø±Ú©Øª Ù…Ø¬Ø¯Ø¯
                                                const jackpotSuccessButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('jackpot_again')
                                                            .setLabel('Ø´Ø±Ú©Øª Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª')
                                                            .setStyle(ButtonStyle.Primary)
                                                            .setEmoji('ğŸ’'),
                                                        new ButtonBuilder()
                                                            .setCustomId('jackpot_info')
                                                            .setLabel('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ú©Ù¾Ø§Øª')
                                                            .setStyle(ButtonStyle.Secondary)
                                                            .setEmoji('â„¹ï¸')
                                                    );

                                                await interaction.update({ embeds: [jackpotSuccessEmbed], components: [jackpotSuccessButtons] });

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø±Ø§ÛŒØ· Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ
                                                if (jackpotPlayers.length >= 10 || jackpotPool >= 10000) {
                                                    // Ø§Ù†Ø¬Ø§Ù… Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ
                                                    const jackpotWinner = drawJackpotWinner();
                                                    if (jackpotWinner) {
                                                        // Ø§Ø¹Ù„Ø§Ù… Ø¨Ø±Ù†Ø¯Ù‡ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„
                                                        const winnerAnnounceEmbed = new EmbedBuilder()
                                                            .setTitle('ğŸ‰ Ø¨Ø±Ù†Ø¯Ù‡ Ø¬Ú©Ù¾Ø§Øª Ù…Ø´Ø®Øµ Ø´Ø¯!')
                                                            .setColor('#FF00FF')
                                                            .setDescription(`ØªØ¨Ø±ÛŒÚ©! <@${jackpotWinner.userId}> Ø¨Ø±Ù†Ø¯Ù‡ **${jackpotWinner.prize} ${COIN_NAME}** Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø´Ø¯!`)
                                                            .addFields(
                                                                { name: 'ğŸ² Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡', value: `${jackpotWinner.chance}%`, inline: true },
                                                                { name: 'ğŸ‘¥ ØªØ¹Ø¯Ø§Ø¯ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†', value: `${jackpotPlayers.length} Ù†ÙØ±`, inline: true },
                                                                { name: 'ğŸ® Ø¬Ú©Ù¾Ø§Øª Ø¨Ø¹Ø¯ÛŒ', value: 'Ø§Ø² Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø¬Ø¯ÛŒØ¯ Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯!', inline: false }
                                                            )
                                                            .setFooter({ text: 'Ø¬Ú©Ù¾Ø§Øª Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ Ù…Ø¨Ù„Øº 1000 Ø³Ú©Ù‡ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯.' });

                                                        await interaction.channel.send({ embeds: [winnerAnnounceEmbed] });
                                                    }
                                                }
                                                break;

                                            case 'cancel_jackpot':
                                                // Ø§Ù†ØµØ±Ø§Ù Ø§Ø² Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
                                                await interaction.update({
                                                    content: 'âŒ Ø´Ù…Ø§ Ø§Ø² Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø§Ù†ØµØ±Ø§Ù Ø¯Ø§Ø¯ÛŒØ¯.',
                                                    embeds: [],
                                                    components: []
                                                });
                                                break;

                                            case 'jackpot_again':
                                                // Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ø±Ú©Øª Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª
                                                const jackpotAgainEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ’ Ø´Ø±Ú©Øª Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª')
                                                    .setColor('#9B59B6')
                                                    .setDescription('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                                                    .addFields(
                                                        { name: 'ğŸ’° Ù…Ø¬Ù…ÙˆØ¹ Ø¬Ú©Ù¾Ø§Øª ÙØ¹Ù„ÛŒ', value: `${jackpotPool} ${COIN_NAME}`, inline: true },
                                                        { name: 'ğŸ‘¤ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true }
                                                    );

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¨Ù„Øº
                                                const jackpotAgainButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('confirm_jackpot_10')
                                                            .setLabel('10 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('confirm_jackpot_50')
                                                            .setLabel('50 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('confirm_jackpot_100')
                                                            .setLabel('100 Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Danger)
                                                    );

                                                await interaction.update({ embeds: [jackpotAgainEmbed], components: [jackpotAgainButtons] });
                                                break;

                                            case 'jackpot_info':
                                                // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ú©Ù¾Ø§Øª
                                                const jackpotInfoUserData = getUser(interaction.user.id);

                                                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø§Ù†Ø³ Ú©Ø§Ø±Ø¨Ø±
                                                const userContribution = jackpotInfoUserData.jackpotContribution || 0;
                                                const userJackpotChance = jackpotPool > 0 ? ((userContribution / jackpotPool) * 100).toFixed(2) : '0.00';

                                                // Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† ÙØ¹Ù„ÛŒ
                                                let participantsInfoList = '';
                                                if (jackpotPlayers.length > 0) {
                                                    // Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø§ Ø´Ø§Ù†Ø³ Ø¢Ù†Ù‡Ø§
                                                    participantsInfoList = jackpotPlayers.map((player, index) => {
                                                        const playerChance = ((player.amount / jackpotPool) * 100).toFixed(2);
                                                        return `${index + 1}. <@${player.userId}> - ${player.amount} ${COIN_NAME} (Ø´Ø§Ù†Ø³: ${playerChance}%)`;
                                                    }).join('\n');
                                                } else {
                                                    participantsInfoList = 'Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯ÙˆØ±Ù‡ Ø§Ø² Ø¬Ú©Ù¾Ø§Øª Ø´Ø±Ú©Øª Ù†Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!';
                                                }

                                                const jackpotInfoEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ’ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ú©Ù¾Ø§Øª Ø³Ø±ÙˆØ±')
                                                    .setColor('#9B59B6')
                                                    .setDescription('Ø¯Ø± Ø¬Ú©Ù¾Ø§ØªØŒ Ù‡Ø± Ú†Ù‡ Ù…Ø¨Ù„Øº Ø¨ÛŒØ´ØªØ±ÛŒ Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯ØŒ Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ø´Ù…Ø§ Ø¨ÛŒØ´ØªØ± Ø§Ø³Øª!')
                                                    .addFields(
                                                        { name: 'ğŸ’° Ù…Ø¬Ù…ÙˆØ¹ Ø¬Ú©Ù¾Ø§Øª ÙØ¹Ù„ÛŒ', value: `${jackpotPool} ${COIN_NAME}`, inline: true },
                                                        { name: 'ğŸ² Ø´Ø§Ù†Ø³ Ø´Ù…Ø§', value: `${userJackpotChance}%`, inline: true },
                                                        { name: 'ğŸ‘¥ ØªØ¹Ø¯Ø§Ø¯ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†', value: `${jackpotPlayers.length} Ù†ÙØ±`, inline: true },
                                                        { name: 'ğŸ§® Ù…Ø´Ø§Ø±Ú©Øª Ø´Ù…Ø§', value: `${userContribution} ${COIN_NAME}`, inline: true },
                                                        { name: 'â±ï¸ Ø²Ù…Ø§Ù† Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ', value: 'Ù¾Ø³ Ø§Ø² Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ 10 Ù†ÙØ± Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡ ÛŒØ§ 10,000 Ø³Ú©Ù‡', inline: true },
                                                        { name: 'ğŸ‘¥ Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† ÙØ¹Ù„ÛŒ', value: participantsInfoList, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø´Ø§Ù†Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ù…Ø¨Ù„Øº Ø´Ø±Ú©Øª Ø´Ù…Ø§Ø³Øª.' });

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ú©Ù¾Ø§Øª
                                                const jackpotInfoButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('jackpot_again')
                                                            .setLabel('Ø´Ø±Ú©Øª Ø¯Ø± Ø¬Ú©Ù¾Ø§Øª')
                                                            .setStyle(ButtonStyle.Primary)
                                                            .setEmoji('ğŸ’'),
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [jackpotInfoEmbed], components: [jackpotInfoButtons] });
                                                break;

                                            case 'inventory':
                                                // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø§Ù… Ù…ØªØºÛŒØ± Ù…ØªÙØ§ÙˆØª Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ØªØ¯Ø§Ø®Ù„ Ø¨Ø§ userData Ø¯Ø± scope Ø¨Ø§Ù„Ø§ØªØ±
                                                const inventoryUserData = getUser(interaction.user.id);

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø¯Ø§Ø±Ø¯ (Ø¨Ø§ Ù…Ø­Ø§ÙØ¸Øª Ø¨ÛŒØ´ØªØ±)
                                                const inventoryItems = Array.isArray(inventoryUserData.inventory) ? 
                                                    inventoryUserData.inventory : [];

                                                const inventoryEmbed = new EmbedBuilder()
                                                    .setColor('#F1C40F')
                                                    .setTitle('ğŸ’ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø´Ù…Ø§')
                                                    .setThumbnail(interaction.user.displayAvatarURL());

                                                if (inventoryItems.length === 0) {
                                                    inventoryEmbed.setDescription('Ø´Ù…Ø§ Ù‡ÛŒÚ† Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø®ÙˆØ¯ Ù†Ø¯Ø§Ø±ÛŒØ¯! Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.');
                                                } else {
                                                    inventoryEmbed.setDescription('Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø´Ù…Ø§:');
                                                    inventoryItems.forEach(item => {
                                                        inventoryEmbed.addFields({ name: item.name, value: item.description, inline: true });
                                                    });
                                                }

                                                // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                                                const inventoryBackButton = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [inventoryEmbed], components: [inventoryBackButton] });
                                                break;

                                            case 'admin_coins':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                if (!hasAdminRole(interaction.member)) {
                                                    return await interaction.reply({
                                                        content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                const coinManagementEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                                                    .setColor('#FFD700')
                                                    .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                                                    .addFields(
                                                        { name: '/setcoin', value: 'ØªÙ†Ø¸ÛŒÙ… Ø¯Ù‚ÛŒÙ‚ Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±', inline: true },
                                                        { name: '/addcoins', value: 'Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±', inline: true }
                                                    );

                                                const backToAdminButton = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_admin')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [coinManagementEmbed], components: [backToAdminButton] });
                                                break;

                                            case 'admin_shop':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                if (!hasAdminRole(interaction.member)) {
                                                    return await interaction.reply({
                                                        content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                // Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                                                let shopItemList = '';
                                                shopItems.forEach(item => {
                                                    shopItemList += `**Ø´Ù†Ø§Ø³Ù‡**: \`${item.id}\`\n**Ù†Ø§Ù…**: ${item.name}\n**Ù‚ÛŒÙ…Øª**: ${item.price} ${COIN_NAME}\n**ØªÙˆØ¶ÛŒØ­Ø§Øª**: ${item.description}\n\n`;
                                                });

                                                const shopManagementEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                    .setColor('#FF00FF')
                                                    .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                                                    .addFields(
                                                        { name: '/additem', value: 'Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                                                        { name: '/removeitem', value: 'Ø­Ø°Ù Ø¢ÛŒØªÙ… Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                                                        { name: 'ğŸ“‹ Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ', value: shopItemList || 'Ù‡ÛŒÚ† Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!', inline: false }
                                                    );

                                                await interaction.update({ embeds: [shopManagementEmbed], components: [backToAdminButton] });
                                                break;

                                            case 'admin_data':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                if (!hasAdminRole(interaction.member)) {
                                                    return await interaction.reply({
                                                        content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                const dataManagementEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                                    .setColor('#1ABC9C')
                                                    .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                                                    .addFields(
                                                        { name: '/resetdata', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±', inline: true },
                                                        { name: 'ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø«Ø¨Øª Ø´Ø¯Ù‡', value: `${Object.keys(users).length} Ú©Ø§Ø±Ø¨Ø±`, inline: true }
                                                    );

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡
                                                const dataManagementButtons = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('export_data')
                                                            .setLabel('ğŸ“¤ Ø¯Ø±ÛŒØ§ÙØª ÙØ§ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Primary),
                                                        backToAdminButton.components[0]
                                                    );

                                                await interaction.update({ embeds: [dataManagementEmbed], components: [dataManagementButtons] });
                                                break;

                                            case 'back_to_admin':
                                                // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                                                const adminPanelEmbedReturn = new EmbedBuilder()
                                                    .setTitle('ğŸ› ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                                                    .setColor('#FF0000')
                                                    .setDescription('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ù…Ø¯ÛŒØ± Ú¯Ø±Ø§Ù…ÛŒ! Ø§Ø² Ø§ÛŒÙ† Ù¾Ù†Ù„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                                                    .addFields(
                                                        { name: 'ğŸ“Š Ø¢Ù…Ø§Ø±', value: `ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: ${Object.keys(users).length}\nØªØ¹Ø¯Ø§Ø¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡: ${shopItems.length}`, inline: false },
                                                        { name: 'ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡', value: 'ØªÙ†Ø¸ÛŒÙ… ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true },
                                                        { name: 'ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡', value: 'Ø§Ø¶Ø§ÙÙ‡ ÛŒØ§ Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                                                        { name: 'ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÛŒØ§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                                                    )
                                                    .setFooter({ text: 'Ø¯Ø³ØªØ±Ø³ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ù…Ø¬Ø§Ø²' });

                                                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                                                const adminPanelRow1Return = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('admin_coins')
                                                            .setLabel('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('admin_shop')
                                                            .setLabel('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('admin_data')
                                                            .setLabel('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Primary)
                                                    );

                                                await interaction.update({ embeds: [adminPanelEmbedReturn], components: [adminPanelRow1Return] });
                                                break;

                                            case 'export_data':
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                if (!hasAdminRole(interaction.member)) {
                                                    return await interaction.reply({
                                                        content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                await interaction.reply({
                                                    content: 'ğŸ“¤ ÙØ§ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª:',
                                                    files: [DATA_FILE],
                                                    ephemeral: true
                                                });
                                                break;

                                            case 'back_to_menu':
                                                // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                                                const mainMenuEmbed = new EmbedBuilder()
                                                    .setColor('#0099ff')
                                                    .setTitle('ğŸ® Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                    .setDescription('Ù„Ø·ÙØ§ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                                                    .setThumbnail(client.user.displayAvatarURL())
                                                    .setFooter({ text: 'Ø§ÛŒÙ† Ù…Ù†Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª', iconURL: interaction.user.displayAvatarURL() });

                                                const mainRow1 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('economy')
                                                            .setLabel('ğŸ’° Ø§Ù‚ØªØµØ§Ø¯')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('games')
                                                            .setLabel('ğŸ² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Success),
                                                        new ButtonBuilder()
                                                            .setCustomId('shop')
                                                            .setLabel('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                            .setStyle(ButtonStyle.Danger)
                                                    );

                                                const mainRow2 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('quests')
                                                            .setLabel('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Secondary),
                                                        new ButtonBuilder()
                                                            .setCustomId('social_menu')
                                                            .setLabel('ğŸ‘¥ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('help')
                                                            .setLabel('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [mainMenuEmbed], components: [mainRow1, mainRow2] });
                                                break;

                                            case 'social_menu':
                                                // Ù…Ù†ÙˆÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ
                                                const socialEmbed = new EmbedBuilder()
                                                    .setColor('#FF00FF')
                                                    .setTitle('ğŸ‘¥ Ø¨Ø®Ø´ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ')
                                                    .setDescription('Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± ØªÛŒÙ…â€ŒÙ‡Ø§ Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯:')
                                                    .setFooter({ text: 'Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø±Ù‚Ø±Ø§Ø± Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ Ø´Ø±Ú©Øª Ú©Ù†ÛŒØ¯!' });

                                                const socialRow1 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('friends_menu')
                                                            .setLabel('ğŸ‘« Ø¯ÙˆØ³ØªØ§Ù†')
                                                            .setStyle(ButtonStyle.Primary),
                                                        new ButtonBuilder()
                                                            .setCustomId('teams_menu')
                                                            .setLabel('ğŸ® ØªÛŒÙ…â€ŒÙ‡Ø§')
                                                            .setStyle(ButtonStyle.Success),
                                                        new ButtonBuilder()
                                                            .setCustomId('achievements_menu')
                                                            .setLabel('ğŸ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§')
                                                            .setStyle(ButtonStyle.Danger)
                                                    );

                                                const socialRow2 = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('back_to_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [socialEmbed], components: [socialRow1, socialRow2] });
                                                break;

                                            case 'friends_menu':
                                                // Ù…Ù†ÙˆÛŒ Ø¯ÙˆØ³ØªØ§Ù†
                                                const friendsUserData = getUser(interaction.user.id);
                                                const friendsList = friendsUserData.friends;
                                                const friendRequestsList = friendsUserData.friendRequests;

                                                let friendsListText = '';
                                                if (friendsList.length > 0) {
                                                    friendsListText = friendsList.map((friendId, index) => `${index + 1}. <@${friendId}>`).join('\n');
                                                } else {
                                                    friendsListText = 'Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ø¯ÙˆØ³ØªÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!';
                                                }

                                                let requestsListText = '';
                                                if (friendRequestsList.length > 0) {
                                                    requestsListText = friendRequestsList.map((requesterId, index) => `${index + 1}. <@${requesterId}>`).join('\n');
                                                } else {
                                                    requestsListText = 'Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!';
                                                }

                                                const friendsMenuEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ‘« Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÙˆØ³ØªØ§Ù†')
                                                    .setColor('#00FFFF')
                                                    .addFields(
                                                        { name: 'ğŸ«‚ Ø¯ÙˆØ³ØªØ§Ù† Ø´Ù…Ø§', value: friendsListText, inline: false },
                                                        { name: 'ğŸ“¨ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ³ØªÛŒ', value: requestsListText, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÙˆØ³ØªØ§Ù† Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª /friend Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                const friendsMenuRow = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('social_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [friendsMenuEmbed], components: [friendsMenuRow] });
                                                break;

                                            case 'teams_menu':
                                                // Ù…Ù†ÙˆÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§
                                                const teamsUserData = getUser(interaction.user.id);

                                                let teamInfoText = '';
                                                if (teamsUserData.team && global.teams && global.teams[teamsUserData.team]) {
                                                    const team = global.teams[teamsUserData.team];
                                                    const isLeader = team.leader === interaction.user.id;

                                                    teamInfoText = `**Ù†Ø§Ù… ØªÛŒÙ…**: ${team.name}\n` +
                                                                   `**ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø¶Ø§**: ${team.members.length}\n` +
                                                                   `**Ù†Ù‚Ø´ Ø´Ù…Ø§**: ${isLeader ? 'ğŸ‘‘ Ø±Ù‡Ø¨Ø± ØªÛŒÙ…' : 'ğŸ‘¤ Ø¹Ø¶Ùˆ ØªÛŒÙ…'}\n` +
                                                                   `**Ø§Ù…ØªÛŒØ§Ø² ØªÛŒÙ…**: ${team.score}\n` +
                                                                   `**Ø¢Ù…Ø§Ø±**: ğŸ† ${team.wins} Ù¾ÛŒØ±ÙˆØ²ÛŒ | ğŸ’” ${team.losses} Ø´Ú©Ø³Øª`;
                                                } else {
                                                    teamInfoText = 'Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯!\n\nØ¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team create` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯.';
                                                }

                                                const teamsMenuEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ® Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…')
                                                    .setColor('#FF00FF')
                                                    .setDescription(teamInfoText)
                                                    .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ… Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª /team Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                const teamsMenuRow = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('team_challenge_menu')
                                                            .setLabel('ğŸŒªï¸ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ')
                                                            .setStyle(ButtonStyle.Danger)
                                                            .setDisabled(teamsUserData.team === null),
                                                        new ButtonBuilder()
                                                            .setCustomId('social_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [teamsMenuEmbed], components: [teamsMenuRow] });
                                                break;

                                            case 'achievements_menu':
                                                // Ù…Ù†ÙˆÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
                                                const achUserData = getUser(interaction.user.id);
                                                const achievements = achUserData.achievements || [];

                                                // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒØ³Øª Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡
                                                let unlockedAchs = '';
                                                if (achievements.length > 0) {
                                                    unlockedAchs = achievements.map((achievement, index) => 
                                                        `${index + 1}. **${achievement.name}** - ${achievement.description}`
                                                    ).join('\n');
                                                } else {
                                                    unlockedAchs = 'Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯ÛŒ Ú©Ø³Ø¨ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!';
                                                }

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ú©Ø³Ø¨ Ù‡Ø³ØªÙ†Ø¯
                                                let nextAchievements = '';
                                                let count = 0;

                                                for (const achievement of ACHIEVEMENTS) {
                                                    if (!achievements.some(a => a.id === achievement.id)) {
                                                        nextAchievements += `ğŸ”’ **${achievement.name}** - ${achievement.description}\n   ğŸ’° Ù¾Ø§Ø¯Ø§Ø´: ${achievement.reward} ${COIN_NAME}\n\n`;
                                                        count++;
                                                        if (count >= 3) break;
                                                    }
                                                }

                                                if (count === 0) {
                                                    nextAchievements = 'Ø´Ù…Ø§ Ù‡Ù…Ù‡ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!';
                                                }

                                                const achMenuEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ùˆ Ø§ÙØªØ®Ø§Ø±Ø§Øª')
                                                    .setColor('#FFD700')
                                                    .setDescription(`Ø´Ù…Ø§ ØªØ§Ú©Ù†ÙˆÙ† ${achievements.length} Ø§Ø² ${ACHIEVEMENTS.length} Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!`)
                                                    .addFields(
                                                        { name: 'ğŸ”“ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø§Ø®ÛŒØ±', value: unlockedAchs, inline: false },
                                                        { name: 'ğŸ‘€ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ', value: nextAchievements, inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ù…Ù„ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ø§Ø² Ø¯Ø³ØªÙˆØ± /achievements Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                const achMenuRow = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('social_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [achMenuEmbed], components: [achMenuRow] });
                                                break;

                                            case 'team_challenge_menu':
                                                // Ù…Ù†ÙˆÛŒ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
                                                const challengeUserData = getUser(interaction.user.id);

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØªÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯
                                                if (challengeUserData.team === null) {
                                                    return await interaction.update({
                                                        content: 'âŒ Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯! Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team create` ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.',
                                                        embeds: [],
                                                        components: []
                                                    });
                                                }

                                                const challengeMenuEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸŒªï¸ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ')
                                                    .setColor('#FF5733')
                                                    .setDescription('Ø¯Ø± Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒØŒ ØªÛŒÙ… Ø´Ù…Ø§ Ø¨Ø§ ÛŒÚ© ØªÛŒÙ… Ø¯ÛŒÚ¯Ø± Ø¨Ù‡ Ø±Ù‚Ø§Ø¨Øª Ù…ÛŒâ€ŒÙ¾Ø±Ø¯Ø§Ø²Ø¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ù…Ø®ØªÙ„Ù ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù‡Ø± Ø¹Ø¶Ùˆ ØªÛŒÙ… Ø¨Ø±Ù†Ø¯Ù‡ØŒ Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.')
                                                    .addFields(
                                                        { name: 'ğŸ“ Ù†Ø­ÙˆÙ‡ Ø§Ù†Ø¬Ø§Ù… Ú†Ø§Ù„Ø´', value: 'Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒØŒ Ø§Ø² Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:\n`/teamchallenge team_id:[Ø´Ù†Ø§Ø³Ù‡ ØªÛŒÙ… Ø­Ø±ÛŒÙ] bet:[Ù…Ø¨Ù„Øº Ø´Ø±Ø·]`', inline: false },
                                                        { name: 'âš ï¸ Ø´Ø±Ø§ÛŒØ·', value: '- Ù‡Ø± Ø¹Ø¶Ùˆ ØªÛŒÙ… Ø¨Ø§ÛŒØ¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ú†Ø§Ù„Ø´ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯\n- ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú†Ø§Ù„Ø´ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯\n- Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø­Ø±ÛŒÙ Ø¨Ø§ÛŒØ¯ Ú†Ø§Ù„Ø´ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯', inline: false }
                                                    )
                                                    .setFooter({ text: 'Ø¨Ø§ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒØŒ Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø§Ø¹ØªØ¨Ø§Ø± ØªÛŒÙ… Ø®ÙˆØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯!' });

                                                const challengeMenuRow = new ActionRowBuilder()
                                                    .addComponents(
                                                        new ButtonBuilder()
                                                            .setCustomId('teams_menu')
                                                            .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ ØªÛŒÙ…')
                                                            .setStyle(ButtonStyle.Secondary)
                                                    );

                                                await interaction.update({ embeds: [challengeMenuEmbed], components: [challengeMenuRow] });
                                                break;

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÙ…
                                            case 'team_accept':
                                                // Ù¾Ø°ÛŒØ±Ø´ Ø¯Ø¹ÙˆØª Ø¨Ù‡ ØªÛŒÙ…
                                                const acceptTeamId = interaction.customId.split('_')[2];

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø± Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡ Ø¨ØªÙˆØ§Ù†Ø¯ Ø¯Ø¹ÙˆØª Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯
                                                if (interaction.message.mentions.users.first().id !== interaction.user.id) {
                                                    return await interaction.reply({
                                                        content: 'âŒ ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø± Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§ÛŒÙ† Ø¯Ø¹ÙˆØª Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                const acceptTeamResult = joinTeam(interaction.user.id, acceptTeamId);

                                                if (!acceptTeamResult.success) {
                                                    return await interaction.update({
                                                        content: acceptTeamResult.reason,
                                                        embeds: [],
                                                        components: []
                                                    });
                                                }

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÛŒÙ…ÛŒ
                                                const acceptTeamAchievements = checkAchievement(interaction.user.id, 'team_player');
                                                let acceptTeamAchievementText = '';

                                                if (acceptTeamAchievements.length > 0) {
                                                    acceptTeamAchievementText = `\n\nğŸ† **${interaction.user.username} Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¬Ø¯ÛŒØ¯ÛŒ Ú©Ø³Ø¨ Ú©Ø±Ø¯!**\n"${acceptTeamAchievements[0].name}" - ${acceptTeamAchievements[0].reward} ${COIN_NAME} Ø¬Ø§ÛŒØ²Ù‡`;
                                                }

                                                await interaction.update({
                                                    content: `âœ… ${interaction.user.username} Ø¨Ù‡ ØªÛŒÙ… "${acceptTeamResult.teamName}" Ù¾ÛŒÙˆØ³Øª!${acceptTeamAchievementText}`,
                                                    embeds: [],
                                                    components: []
                                                });
                                                break;

                                            case 'team_reject':
                                                // Ø±Ø¯ Ø¯Ø¹ÙˆØª Ø¨Ù‡ ØªÛŒÙ…
                                                if (interaction.message.mentions.users.first().id !== interaction.user.id) {
                                                    return await interaction.reply({
                                                        content: 'âŒ ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø± Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§ÛŒÙ† Ø¯Ø¹ÙˆØª Ø±Ø§ Ø±Ø¯ Ú©Ù†Ø¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                await interaction.update({
                                                    content: `âŒ ${interaction.user.username} Ø¯Ø¹ÙˆØª Ø¨Ù‡ ØªÛŒÙ… Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯.`,
                                                    embeds: [],
                                                    components: []
                                                });
                                                break;

                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
                                            case 'challenge_accept':
                                                // Ù¾Ø°ÛŒØ±Ø´ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
                                                const challengeParts = interaction.customId.split('_');
                                                const team1Id = challengeParts[2];
                                                const team2Id = challengeParts[3];
                                                const teamChallengeBet = parseInt(challengeParts[4]);

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø¯ÙˆÙ… Ø¨ØªÙˆØ§Ù†Ø¯ Ú†Ø§Ù„Ø´ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯
                                                if (!global.teams || !global.teams[team2Id] || global.teams[team2Id].leader !== interaction.user.id) {
                                                    return await interaction.reply({
                                                        content: 'âŒ ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø­Ø±ÛŒÙ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                // Ø´Ø±ÙˆØ¹ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
                                                await startTeamChallenge(team1Id, team2Id, teamChallengeBet, interaction);
                                                break;

                                            case 'challenge_reject':
                                                // Ø±Ø¯ Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ
                                                const challengeMessage = interaction.message;

                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø¯ÙˆÙ… Ø¨ØªÙˆØ§Ù†Ø¯ Ú†Ø§Ù„Ø´ Ø±Ø§ Ø±Ø¯ Ú©Ù†Ø¯
                                                const mentionedUser = challengeMessage.mentions.users.first();

                                                if (mentionedUser.id !== interaction.user.id) {
                                                    return await interaction.reply({
                                                        content: 'âŒ ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø­Ø±ÛŒÙ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ Ø±Ø§ Ø±Ø¯ Ú©Ù†Ø¯!',
                                                        ephemeral: true
                                                    });
                                                }

                                                await interaction.update({
                                                    content: `âŒ ${interaction.user.username} Ú†Ø§Ù„Ø´ ØªÛŒÙ…ÛŒ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯.`,
                                                    embeds: [],
                                                    components: []
                                                });
                                                break;

                                            // Ù…Ù†ÙˆÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                                            case 'shop':
                                                const shopEmbed = new EmbedBuilder()
                                                    .setTitle('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                    .setColor('#FF00FF')
                                                    .setDescription('ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¨Ø§ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§ - Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ø±Ø¶Ù‡ Ùˆ ØªÙ‚Ø§Ø¶Ø§ ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:');

                                                // Ø³Ø§Ø¹Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø¹Ø¯ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§
                                                const nextUpdateTime = lastMarketUpdate + MARKET_UPDATE_INTERVAL;
                                                const timeToUpdate = Math.max(0, nextUpdateTime - Date.now());
                                                const hoursToUpdate = Math.floor(timeToUpdate / (60 * 60 * 1000));
                                                const minutesToUpdate = Math.floor((timeToUpdate % (60 * 60 * 1000)) / (60 * 1000));

                                                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§Ù…Ø¨Ø¯ Ø¨Ø§ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§
                                                shopItems.forEach(item => {
                                                    const basePrice = item.price;
                                                    const actualPrice = getActualItemPrice(item.id);

                                                                            // ØªØ¹ÛŒÛŒÙ† ÙˆØ¶Ø¹ÛŒØª Ù‚ÛŒÙ…Øª (Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ Ú©Ø§Ù‡Ø´)
                                                                            let priceStatus = '';
                                                                            if (actualPrice > basePrice) {
                                                                                const increase = Math.round((actualPrice / basePrice - 1) * 100);
                                                                                priceStatus = `ğŸ“ˆ ${increase}%+`;
                                                                            } else if (actualPrice < basePrice) {
                                                                                const decrease = Math.round((1 - actualPrice / basePrice) * 100);
                                                                                priceStatus = `ğŸ“‰ ${decrease}%-`;
                                                                            } else {
                                                                                priceStatus = 'âš–ï¸ Ø«Ø§Ø¨Øª';
                                                                            }

                                                                            shopEmbed.addFields({ 
                                                                                name: `${item.name} - ${actualPrice} ${COIN_NAME} ${priceStatus}`, 
                                                                                value: item.description,
                                                                                inline: true 
                                                                            });
                                                                        });

                                                                        // Ø²Ù…Ø§Ù† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø¹Ø¯ÛŒ
                                                                        shopEmbed.addFields({ 
                                                                            name: 'â±ï¸ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø¹Ø¯ÛŒ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§', 
                                                                            value: `${hoursToUpdate} Ø³Ø§Ø¹Øª Ùˆ ${minutesToUpdate} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø±`, 
                                                                            inline: false 
                                                                        });

                                                                        // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡ Ø¯Ø± Ù‡Ø± Ø±Ø¯ÛŒÙ)
                                                                        const shopRow = new ActionRowBuilder();

                                                                        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡)
                                                                        const maxButtonsToShow = Math.min(shopItems.length, 5);
                                                                        for (let i = 0; i < maxButtonsToShow; i++) {
                                                                            shopRow.addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`buy_${shopItems[i].id}`)
                                                                                    .setLabel(`Ø®Ø±ÛŒØ¯ ${shopItems[i].name}`)
                                                                                    .setStyle(ButtonStyle.Primary)
                                                                            );
                                                                        }

                                                                        // Ø¯Ú©Ù…Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§
                                                                        const marketHistoryRow = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('market_history')
                                                                                    .setLabel('ğŸ“Š ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§')
                                                                                    .setStyle(ButtonStyle.Success),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('back_to_menu')
                                                                                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                                                                    .setStyle(ButtonStyle.Secondary)
                                                                            );

                                                                        await interaction.update({ embeds: [shopEmbed], components: [shopRow, marketHistoryRow] });
                                                                        break;

                                                                    case 'market_history':
                                                                        // Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±
                                                                        const market = global.market || { history: [], lastUpdated: Date.now() };

                                                                        let historyText = '';
                                                                        if (market.history.length > 0) {
                                                                            // Ù†Ù…Ø§ÛŒØ´ 5 ØªØºÛŒÛŒØ± Ø¢Ø®Ø±
                                                                            const recentHistory = market.history.slice(-5).reverse();

                                                                            historyText = recentHistory.map((entry, index) => {
                                                                                const date = new Date(entry.timestamp);
                                                                                const formattedDate = `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`;

                                                                                // Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¢ÛŒØªÙ…ØŒ ØªØºÛŒÛŒØ±Ø§Øª Ù‚ÛŒÙ…Øª Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                                                                                let priceChanges = '';
                                                                                for (const itemId in entry.changes.after) {
                                                                                    const before = entry.changes.before[itemId] || 1.0;
                                                                                    const after = entry.changes.after[itemId];
                                                                                    const changePercent = Math.round((after / before - 1) * 100);

                                                                                    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ø§Ù… Ø¢ÛŒØªÙ…
                                                                                    const item = shopItems.find(i => i.id === itemId);
                                                                                    if (item) {
                                                                                        const icon = changePercent > 0 ? 'ğŸ“ˆ' : (changePercent < 0 ? 'ğŸ“‰' : 'âš–ï¸');
                                                                                        priceChanges += `${item.name}: ${icon} ${changePercent > 0 ? '+' : ''}${changePercent}%\n`;
                                                                                    }
                                                                                }

                                                                                return `**Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ${index + 1}** (${formattedDate}):\n${priceChanges}`;
                                                                            }).join('\n\n');
                                                                        } else {
                                                                            historyText = 'Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† ØªØ§Ø±ÛŒØ®Ú†Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!';
                                                                        }

                                                                        const marketHistoryEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ“Š ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù‚ÛŒÙ…Øª Ø¨Ø§Ø²Ø§Ø±')
                                                                            .setColor('#4CD964')
                                                                            .setDescription('Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ø±Ø¶Ù‡ Ùˆ ØªÙ‚Ø§Ø¶Ø§ Ù‡Ø± 12 Ø³Ø§Ø¹Øª ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:')
                                                                            .addFields(
                                                                                { name: 'ğŸ“ ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø®ÛŒØ±', value: historyText, inline: false },
                                                                                { name: 'ğŸ’¡ Ù†Ú©ØªÙ‡', value: 'Ø§Ø² ØªØºÛŒÛŒØ±Ø§Øª Ù‚ÛŒÙ…Øª Ø¨Ù‡ Ù†ÙØ¹ Ø®ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯! Ù‡Ù†Ú¯Ø§Ù… Ú©Ø§Ù‡Ø´ Ù‚ÛŒÙ…Øª Ø¨Ø®Ø±ÛŒØ¯ Ùˆ Ù‡Ù†Ú¯Ø§Ù… Ø§ÙØ²Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª Ø¨ÙØ±ÙˆØ´ÛŒØ¯.', inline: false }
                                                                            )
                                                                            .setFooter({ text: `Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: ${new Date(market.lastUpdated).toLocaleString()}` });

                                                                        const backToShopRow = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('shop')
                                                                                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                                                    .setStyle(ButtonStyle.Secondary)
                                                                            );

                                                                        await interaction.update({ embeds: [marketHistoryEmbed], components: [backToShopRow] });
                                                                        break;

                                                                    // Ø¨Ø§Ø²ÛŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·
                                                                    case 'coinflip_heads_10':
                                                                    case 'coinflip_tails_10':
                                                                    case 'coinflip_heads_50':
                                                                    case 'coinflip_tails_50':
                                                                        const parts = interaction.customId.split('_');
                                                                        const choice = parts[1]; // heads ÛŒØ§ tails
                                                                        const betAmount = parseInt(parts[2]); // 10 ÛŒØ§ 50

                                                                        if (getUser(interaction.user.id).balance < betAmount) {
                                                                            await interaction.reply({ 
                                                                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${betAmount - getUser(interaction.user.id).balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`, 
                                                                                ephemeral: true 
                                                                            });
                                                                            return;
                                                                        }

                                                                        // ØªØ¹ÛŒÛŒÙ† Ù†ØªÛŒØ¬Ù‡ ØªØµØ§Ø¯ÙÛŒ (Ø´ÛŒØ± ÛŒØ§ Ø®Ø·)
                                                                        const result = Math.random() < 0.5 ? 'heads' : 'tails';
                                                                        const won = choice === result;

                                                                        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
                                                                        if (won) {
                                                                            getUser(interaction.user.id).balance += betAmount;
                                                                        } else {
                                                                            getUser(interaction.user.id).balance -= betAmount;
                                                                        }
                                                                        saveData();

                                                                        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
                                                                        const coinflipResultEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ¯ Ù†ØªÛŒØ¬Ù‡ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                                                                            .setColor(won ? '#00FF00' : '#FF0000')
                                                                            .setDescription(`Ø³Ú©Ù‡ Ø¨Ù‡ Ù‡ÙˆØ§ Ù¾Ø±ØªØ§Ø¨ Ø´Ø¯ Ùˆ Ù†ØªÛŒØ¬Ù‡...

                                                    ${result === 'heads' ? '**Ø´ÛŒØ±** Ø¢Ù…Ø¯!' : '**Ø®Ø·** Ø¢Ù…Ø¯!'}

                                                    ${won ? `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ **${betAmount} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` : `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ **${betAmount} ${COIN_NAME}** Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`}

                                                    Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${getUser(interaction.user.id).balance} ${COIN_NAME}**`);

                                                                        const playAgainRow = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('play_coinflip')
                                                                                    .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡')
                                                                                    .setStyle(ButtonStyle.Primary),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('games')
                                                                                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                    .setStyle(ButtonStyle.Secondary)
                                                                            );

                                                                        await interaction.update({ embeds: [coinflipResultEmbed], components: [playAgainRow] });
                                                                        break;

                                                                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                                                                    case 'buy_lootbox':
                                                                        // Ø³ÛŒØ³ØªÙ… Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                                                                        const lootboxUserData = getUser(interaction.user.id);
                                                                        const lootboxCost = 100;

                                                                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
                                                                        if (lootboxUserData.balance < lootboxCost) {
                                                                            await interaction.reply({
                                                                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù†ÛŒØ§Ø² Ø¨Ù‡ ${lootboxCost} ${COIN_NAME})`,
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        // Ú©Ù… Ú©Ø±Ø¯Ù† Ù‡Ø²ÛŒÙ†Ù‡
                                                                        lootboxUserData.balance -= lootboxCost;

                                                                        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§
                                                                        updateQuestProgress(interaction.user.id, 'shop_purchase');

                                                                        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³
                                                                        const openingLootboxEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³')
                                                                            .setColor('#FF00FF')
                                                                            .setDescription('Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø² Ø´Ø¯Ù† Ø§Ø³Øª...')
                                                                            .setImage('https://media.giphy.com/media/QxPLEnaOQ07qRiOaxW/giphy.gif');

                                                                        await interaction.reply({ embeds: [openingLootboxEmbed] });

                                                                        // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                                                                        setTimeout(async () => {
                                                                            // ØªØ¹ÛŒÛŒÙ† Ø¬ÙˆØ§ÛŒØ² Ù…Ù…Ú©Ù† Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø§Ø­ØªÙ…Ø§Ù„ Ø¢Ù†Ù‡Ø§
                                                                            const lootboxPrizes = [
                                                                                { type: 'coins', amount: 50, chance: 25, name: '50 Ø³Ú©Ù‡', description: 'ÛŒÚ© Ø¬Ø§ÛŒØ²Ù‡ Ù…Ø¹Ù…ÙˆÙ„ÛŒ', rarity: 'common' },
                                                                                { type: 'coins', amount: 100, chance: 20, name: '100 Ø³Ú©Ù‡', description: 'Ø¨Ø§Ø²Ú¯Ø´Øª Ù‡Ø²ÛŒÙ†Ù‡ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³', rarity: 'common' },
                                                                                { type: 'coins', amount: 200, chance: 15, name: '200 Ø³Ú©Ù‡', description: 'Ø³ÙˆØ¯ Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø±!', rarity: 'uncommon' },
                                                                                { type: 'coins', amount: 500, chance: 7, name: '500 Ø³Ú©Ù‡', description: 'Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø²Ø±Ú¯!', rarity: 'rare' },
                                                                                { type: 'coins', amount: 1000, chance: 3, name: '1000 Ø³Ú©Ù‡', description: 'Ú¯Ù†Ø¬ Ø¹Ø¸ÛŒÙ…!', rarity: 'epic' },
                                                                                { type: 'boost', name: 'Ø¨ÙˆØ³ØªØ± XP Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø±', chance: 10, duration: 24, description: 'XP Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ù‡ Ù…Ø¯Øª 24 Ø³Ø§Ø¹Øª', rarity: 'uncommon' },
                                                                                { type: 'boost', name: 'Ø¨ÙˆØ³ØªØ± Ø´Ø§Ù†Ø³ Ø¯Ø²Ø¯ÛŒ', chance: 8, duration: 12, description: 'Ø§ÙØ²Ø§ÛŒØ´ Ø´Ø§Ù†Ø³ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ø¯Ø²Ø¯ÛŒ Ø¨Ù‡ Ù…Ø¯Øª 12 Ø³Ø§Ø¹Øª', rarity: 'rare' },
                                                                                { type: 'item', name: 'Ø·Ù„Ø³Ù… Ù…Ø­Ø§ÙØ¸ Ø¯Ø²Ø¯ÛŒ', chance: 5, description: 'Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø´Ù…Ø§ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡', rarity: 'epic' },
                                                                                { type: 'item', name: 'Ù†Ø´Ø§Ù† VIP Ù…ÙˆÙ‚Øª', chance: 4, description: 'Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ù…Ú©Ø§Ù†Ø§Øª VIP Ø¨Ù‡ Ù…Ø¯Øª 3 Ø±ÙˆØ²', rarity: 'rare' },
                                                                                { type: 'nothing', chance: 3, name: 'Ù‡ÛŒÚ†ÛŒ!', description: 'Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ø´Ø§Ù†Ø³ Ø¨Ø§ Ø´Ù…Ø§ ÛŒØ§Ø± Ù†Ø¨ÙˆØ¯!', rarity: 'common' }
                                                                            ];

                                                                            // Ø§Ù†ØªØ®Ø§Ø¨ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø§Ù†Ø³
                                                                            let totalChance = 0;
                                                                            for (const prize of lootboxPrizes) {
                                                                                totalChance += prize.chance;
                                                                            }

                                                                            const random = Math.random() * totalChance;
                                                                            let cumulativeChance = 0;
                                                                            let selectedPrize = null;

                                                                            for (const prize of lootboxPrizes) {
                                                                                cumulativeChance += prize.chance;
                                                                                if (random < cumulativeChance) {
                                                                                    selectedPrize = prize;
                                                                                    break;
                                                                                }
                                                                            }

                                                                            // Ø§Ø¹Ù…Ø§Ù„ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
                                                                            let resultMessage = '';

                                                                            if (selectedPrize.type === 'coins') {
                                                                                // Ø¬Ø§ÛŒØ²Ù‡ Ø³Ú©Ù‡
                                                                                lootboxUserData.balance += selectedPrize.amount;
                                                                                resultMessage = `Ø´Ù…Ø§ **${selectedPrize.amount} ${COIN_NAME}** Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                                            } else if (selectedPrize.type === 'boost') {
                                                                                // Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÙˆØ³Øª
                                                                                if (!lootboxUserData.boosts) {
                                                                                    lootboxUserData.boosts = [];
                                                                                }

                                                                                const expireTime = Date.now() + (selectedPrize.duration * 60 * 60 * 1000);

                                                                                lootboxUserData.boosts.push({
                                                                                    name: selectedPrize.name,
                                                                                    description: selectedPrize.description,
                                                                                    expireTime: expireTime
                                                                                });

                                                                                resultMessage = `Ø´Ù…Ø§ **${selectedPrize.name}** Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯! (ÙØ¹Ø§Ù„ ØªØ§ ${new Date(expireTime).toLocaleString()})`;
                                                                            } else if (selectedPrize.type === 'item') {
                                                                                // Ø¬Ø§ÛŒØ²Ù‡ Ø¢ÛŒØªÙ…
                                                                                if (!lootboxUserData.inventory) {
                                                                                    lootboxUserData.inventory = [];
                                                                                }

                                                                                lootboxUserData.inventory.push({
                                                                                    name: selectedPrize.name,
                                                                                    description: selectedPrize.description,
                                                                                    rarity: selectedPrize.rarity,
                                                                                    obtainedTime: Date.now()
                                                                                });

                                                                                resultMessage = `Ø´Ù…Ø§ Ø¢ÛŒØªÙ… **${selectedPrize.name}** Ø±Ø§ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒØ¯!`;
                                                                            } else if (selectedPrize.type === 'nothing') {
                                                                                // Ù‡ÛŒÚ†ÛŒ Ù†Ø¨Ø±Ø¯ÛŒØ¯
                                                                                resultMessage = `Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ø´Ø§Ù†Ø³ Ø¨Ø§ Ø´Ù…Ø§ ÛŒØ§Ø± Ù†Ø¨ÙˆØ¯! Ù‡ÛŒÚ† Ø¬Ø§ÛŒØ²Ù‡â€ŒØ§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ú©Ø±Ø¯ÛŒØ¯.`;
                                                                            }

                                                                            saveData();

                                                                            // Ø§ÛŒØ¬Ø§Ø¯ Ø±Ù†Ú¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ø¯Ø± Ø¨ÙˆØ¯Ù† Ø¬Ø§ÛŒØ²Ù‡
                                                                            let rarityColor = '#FFFFFF';
                                                                            switch (selectedPrize.rarity) {
                                                                                case 'common':
                                                                                    rarityColor = '#AAAAAA';
                                                                                    break;
                                                                                case 'uncommon':
                                                                                    rarityColor = '#55FF55';
                                                                                    break;
                                                                                case 'rare':
                                                                                    rarityColor = '#5555FF';
                                                                                    break;
                                                                                case 'epic':
                                                                                    rarityColor = '#AA00AA';
                                                                                    break;
                                                                                case 'legendary':
                                                                                    rarityColor = '#FFAA00';
                                                                                    break;
                                                                            }

                                                                            // Ø§ÛŒØ¬Ø§Ø¯ embeded Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
                                                                            const lootboxResultEmbed = new EmbedBuilder()
                                                                                .setTitle(`ğŸ Ù†ØªÛŒØ¬Ù‡ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ - ${selectedPrize.name}`)
                                                                                .setColor(rarityColor)
                                                                                .setDescription(`${resultMessage}\n\n**ØªÙˆØ¶ÛŒØ­Ø§Øª**: ${selectedPrize.description}`)
                                                                                .addFields(
                                                                                    { name: 'ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬Ø¯ÛŒØ¯', value: `${lootboxUserData.balance} ${COIN_NAME}`, inline: true },
                                                                                    { name: 'ğŸ² Ù†Ø§Ø¯Ø± Ø¨ÙˆØ¯Ù†', value: `${selectedPrize.rarity === 'common' ? 'Ù…Ø¹Ù…ÙˆÙ„ÛŒ' : (selectedPrize.rarity === 'uncommon' ? 'ØºÛŒØ±Ù…Ø¹Ù…ÙˆÙ„' : (selectedPrize.rarity === 'rare' ? 'Ù†Ø§Ø¯Ø±' : (selectedPrize.rarity === 'epic' ? 'Ø­Ù…Ø§Ø³ÛŒ' : 'Ø§ÙØ³Ø§Ù†Ù‡â€ŒØ§ÛŒ')))}`, inline: true }
                                                                                )
                                                                                .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø®Ø±ÛŒØ¯ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                                                            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù…Ø¬Ø¯Ø¯ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª
                                                                            const lootboxResultButtons = new ActionRowBuilder()
                                                                                .addComponents(
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId('buy_lootbox')
                                                                                        .setLabel(`Ø®Ø±ÛŒØ¯ Ù„ÙˆØªâ€ŒØ¨Ø§Ú©Ø³ Ø¯ÛŒÚ¯Ø± (${lootboxCost} Ø³Ú©Ù‡)`)
                                                                                        .setStyle(ButtonStyle.Primary)
                                                                                        .setEmoji('ğŸ'),
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId('inventory')
                                                                                        .setLabel('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ')
                                                                                        .setStyle(ButtonStyle.Success),
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId('games')
                                                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                        .setStyle(ButtonStyle.Secondary)
                                                                                );

                                                                            await interaction.editReply({ embeds: [lootboxResultEmbed], components: [lootboxResultButtons] });
                                                                        }, 3000);
                                                                        break;

                                                                    case 'buy_role_vip':
                                                                    case 'buy_custom_color':
                                                                    default:
                                                                        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©
                                                                        if (interaction.customId.startsWith('deposit_')) {
                                                                            const option = interaction.customId.split('_')[1];
                                                                            const depositUserData = getUser(interaction.user.id);
                                                                            let depositAmount = 0;

                                                                            if (option === 'all') {
                                                                                // ÙˆØ§Ø±ÛŒØ² ØªÙ…Ø§Ù… Ø³Ú©Ù‡â€ŒÙ‡Ø§
                                                                                depositAmount = depositUserData.balance;
                                                                            } else {
                                                                                // ÙˆØ§Ø±ÛŒØ² Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø®Øµ
                                                                                depositAmount = parseInt(option);
                                                                            }

                                                                            if (depositAmount <= 0) {
                                                                                await interaction.update({
                                                                                    content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!',
                                                                                    embeds: [],
                                                                                    components: [],
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            if (depositUserData.balance < depositAmount) {
                                                                                await interaction.update({
                                                                                    content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                                                                    embeds: [],
                                                                                    components: [],
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            depositUserData.balance -= depositAmount;
                                                                            depositUserData.bank = (depositUserData.bank || 0) + depositAmount;
                                                                            saveData();

                                                                            await interaction.update({
                                                                                content: `âœ… Ù…Ø¨Ù„Øº ${depositAmount} ${COIN_NAME} Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ ÙˆØ§Ø±ÛŒØ² Ø´Ø¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${depositUserData.balance} ${COIN_NAME}\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${depositUserData.bank} ${COIN_NAME}`,
                                                                                embeds: [],
                                                                                components: [],
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©
                                                                        if (interaction.customId.startsWith('withdraw_')) {
                                                                            const option = interaction.customId.split('_')[1];
                                                                            const withdrawUserData = getUser(interaction.user.id);
                                                                            let withdrawAmount = 0;

                                                                            if (option === 'all') {
                                                                                // Ø¨Ø±Ø¯Ø§Ø´Øª ØªÙ…Ø§Ù… Ø³Ú©Ù‡â€ŒÙ‡Ø§
                                                                                withdrawAmount = withdrawUserData.bank || 0;
                                                                            } else {
                                                                                // Ø¨Ø±Ø¯Ø§Ø´Øª Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø®Øµ
                                                                                withdrawAmount = parseInt(option);
                                                                            }

                                                                            if (withdrawAmount <= 0) {
                                                                                await interaction.update({
                                                                                    content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!',
                                                                                    embeds: [],
                                                                                    components: [],
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            if (!withdrawUserData.bank || withdrawUserData.bank < withdrawAmount) {
                                                                                await interaction.update({
                                                                                    content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                                                                    embeds: [],
                                                                                    components: [],
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            withdrawUserData.bank -= withdrawAmount;
                                                                            withdrawUserData.balance += withdrawAmount;
                                                                            saveData();

                                                                            await interaction.update({
                                                                                content: `âœ… Ù…Ø¨Ù„Øº ${withdrawAmount} ${COIN_NAME} Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ø¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${withdrawUserData.balance} ${COIN_NAME}\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${withdrawUserData.bank} ${COIN_NAME}`,
                                                                                embeds: [],
                                                                                components: [],
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                                                                        if (interaction.customId.startsWith('invest_')) {
                                                                            const investAmount = parseInt(interaction.customId.split('_')[1]);
                                                                            const investUserData = getUser(interaction.user.id);

                                                                            if (investUserData.balance < investAmount) {
                                                                                await interaction.update({
                                                                                    content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                                                                    embeds: [],
                                                                                    components: [],
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            investUserData.balance -= investAmount;
                                                                            investUserData.investment = (investUserData.investment || 0) + investAmount;
                                                                            saveData();

                                                                            await interaction.update({
                                                                                content: `âœ… Ø´Ù…Ø§ ${investAmount} ${COIN_NAME} Ø±Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯! Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${investUserData.balance} ${COIN_NAME}\n**Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ ÙØ¹Ù„ÛŒ**: ${investUserData.investment} ${COIN_NAME}`,
                                                                                embeds: [],
                                                                                components: [],
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        // Ø§Ú¯Ø± Ø¯Ú©Ù…Ù‡ Ø®Ø±ÛŒØ¯ Ø¢ÛŒØªÙ… Ø¨Ø§Ø´Ø¯
                                                                        if (interaction.customId.startsWith('buy_')) {
                                                                            const itemId = interaction.customId.replace('buy_', '');
                                                                            const item = shopItems.find(i => i.id === itemId);

                                                                            if (!item) {
                                                                                await interaction.reply({ 
                                                                                    content: 'âŒ Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª!', 
                                                                                    ephemeral: true 
                                                                                });
                                                                                return;
                                                                            }

                                                                            const buyerData = getUser(interaction.user.id);

                                                                            if (buyerData.balance < item.price) {
                                                                                await interaction.reply({ 
                                                                                    content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${item.price - buyerData.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`, 
                                                                                    ephemeral: true 
                                                                                });
                                                                                return;
                                                                            }

                                                                            buyerData.balance -= item.price;

                                                                            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¨Ù‡ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ú©Ø§Ø±Ø¨Ø±
                                                                            if (!buyerData.inventory) {
                                                                                buyerData.inventory = [];
                                                                            }

                                                                            buyerData.inventory.push({
                                                                                id: item.id,
                                                                                name: item.name,
                                                                                description: item.description,
                                                                                purchaseDate: Date.now()
                                                                            });

                                                                            saveData();

                                                                            // Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
                                                                            if (item.id === 'role_vip') {
                                                                                // Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„ VIP (Ø§Ú¯Ø± Ø¯Ø± Ù…Ø­ÛŒØ· Ø³Ø±ÙˆØ± Ø¨Ø§Ø´ÛŒÙ…)
                                                                                try {
                                                                                    // Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ú©Ø¯ Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯
                                                                                    // await interaction.member.roles.add('ROLE_ID_FOR_VIP');
                                                                                } catch (error) {
                                                                                    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„:', error);
                                                                                }
                                                                            } else if (item.id === 'lootbox') {
                                                                                // Ø¬ÙˆØ§ÛŒØ² ØªØµØ§Ø¯ÙÛŒ Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³
                                                                                const prizes = [
                                                                                    { type: 'coins', amount: 100, chance: 40 },
                                                                                    { type: 'coins', amount: 500, chance: 20 },
                                                                                    { type: 'coins', amount: 1000, chance: 5 },
                                                                                    { type: 'nothing', chance: 35 }
                                                                                ];

                                                                                // Ø§Ù†ØªØ®Ø§Ø¨ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø§Ù†Ø³
                                                                                let totalChance = 0;
                                                                                const roll = Math.random() * 100;
                                                                                let prize = null;

                                                                                for (const p of prizes) {
                                                                                    totalChance += p.chance;
                                                                                    if (roll <= totalChance) {
                                                                                        prize = p;
                                                                                        break;
                                                                                    }
                                                                                }

                                                                                // Ø§Ø¹Ù…Ø§Ù„ Ø¬Ø§ÛŒØ²Ù‡
                                                                                if (prize.type === 'coins') {
                                                                                    buyerData.balance += prize.amount;
                                                                                    saveData();
                                                                                    await interaction.reply({ 
                                                                                        content: `âœ… Ø´Ù…Ø§ ${item.name} Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØ¯ Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯ÛŒØ¯!\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø§Ø² Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³ **${prize.amount} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!`, 
                                                                                        ephemeral: true 
                                                                                    });
                                                                                    return;
                                                                                } else {
                                                                                    await interaction.reply({ 
                                                                                        content: `âœ… Ø´Ù…Ø§ ${item.name} Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØ¯ Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯ÛŒØ¯!\nğŸ˜” Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ø´Ø§Ù†Ø³ Ø¨Ø§ Ø´Ù…Ø§ ÛŒØ§Ø± Ù†Ø¨ÙˆØ¯ Ùˆ Ú†ÛŒØ²ÛŒ Ø§Ø² Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³ Ø¨Ø¯Ø³Øª Ù†ÛŒØ§ÙˆØ±Ø¯ÛŒØ¯.`, 
                                                                                        ephemeral: true 
                                                                                    });
                                                                                    return;
                                                                                }
                                                                            }

                                                                            await interaction.reply({ 
                                                                                content: `âœ… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ${item.name} Ø±Ø§ Ø¨Ù‡ Ù‚ÛŒÙ…Øª ${item.price} ${COIN_NAME} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯!`, 
                                                                                ephemeral: true 
                                                                            });
                                                                            return;
                                                                        }
                                                                        break;


                                                                    case 'dice_again_10':
                                                                    case 'dice_again_20':
                                                                    case 'dice_again_50':
                                                                    case 'dice_again_100':
                                                                        const bet = parseInt(interaction.customId.split('_')[2]);
                                                                        const userDataDiceAgain = getUser(interaction.user.id);
                                                                        // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±
                                                                        saveData();
                                                                        if (userDataDiceAgain.balance < bet) {
                                                                            await interaction.reply({
                                                                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${bet} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }
                                                                        const userRollAgain = Math.floor(Math.random() * 6) + 1;
                                                                        const botRollAgain = Math.floor(Math.random() * 6) + 1;

                                                                        let resultAgain = '';
                                                                        if (userRollAgain > botRollAgain) {
                                                                            userDataDiceAgain.balance += bet;
                                                                            resultAgain = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${bet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                                        } else if (userRollAgain < botRollAgain) {
                                                                            userDataDiceAgain.balance -= bet;
                                                                            resultAgain = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${bet} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                                                                        } else {
                                                                            resultAgain = `ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                                                        }
                                                                        saveData();
                                                                        const diceEmbedAgain = new EmbedBuilder()
                                                                            .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                                            .setColor(userRollAgain > botRollAgain ? '#00FF00' : (userRollAgain < botRollAgain ? '#FF0000' : '#FFFF00'))
                                                                            .setDescription(`
                                                    **ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRollAgain)} (${userRollAgain})
                                                    **ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRollAgain)} (${botRollAgain})

                                                    ${resultAgain}

                                                    Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${userDataDiceAgain.balance} ${COIN_NAME}**`)
                                                                            .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                                                        const diceButtonsAgain = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`dice_again_${bet}`)
                                                                                    .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${bet} Ø³Ú©Ù‡)`)
                                                                                    .setStyle(ButtonStyle.Primary),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`dice_again_${bet * 2}`)
                                                                                    .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${bet * 2} Ø³Ú©Ù‡)`)
                                                                                    .setStyle(ButtonStyle.Danger),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('games')
                                                                                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                    .setStyle(ButtonStyle.Secondary)
                                                                            );
                                                                        await interaction.update({ embeds: [diceEmbedAgain], components: [diceButtonsAgain] });
                                                                        break;

                                                                    case 'dice_game_10_bot':
                                                                    case 'dice_game_50_bot':
                                                                        const betAmountDice = interaction.customId === 'dice_game_10_bot' ? 10 : 50;
                                                                        const userDataDice = getUser(interaction.user.id);

                                                                        if (userDataDice.balance < betAmountDice) {
                                                                            await interaction.reply({
                                                                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmountDice} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªØ§Ø³
                                                                        const rollingDiceEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                                            .setColor('#6642A9')
                                                                            .setDescription('ØªØ§Ø³ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ø§Ø³Øª...')
                                                                            .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                                                                        // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                                                                        const diceMessage = await interaction.reply({ 
                                                                            embeds: [rollingDiceEmbed], 
                                                                            fetchReply: true 
                                                                        });

                                                                        // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                                                                        setTimeout(async () => {
                                                                            const userRollDice = Math.floor(Math.random() * 6) + 1;
                                                                            const botRollDice = Math.floor(Math.random() * 6) + 1;

                                                                            let resultDice = '';
                                                                            if (userRollDice > botRollDice) {
                                                                                userDataDice.balance += betAmountDice;
                                                                                resultDice = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${betAmountDice} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                                            } else if (userRollDice < botRollDice) {
                                                                                userDataDice.balance -= betAmountDice;
                                                                                resultDice = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${betAmountDice} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                                                                            } else {
                                                                                resultDice = `ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                                                            }

                                                                            saveData();

                                                                            const diceResultEmbed = new EmbedBuilder()
                                                                                .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                                                .setColor(userRollDice > botRollDice ? '#00FF00' : (userRollDice < botRollDice ? '#FF0000' : '#FFFF00'))
                                                                                .setDescription(`
                                                    **ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRollDice)} (${userRollDice})
                                                    **ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRollDice)} (${botRollDice})

                                                    ${resultDice}

                                                    Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${userDataDice.balance} ${COIN_NAME}**`)
                                                                                .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                                                                            const diceGameButtons = new ActionRowBuilder()
                                                                                .addComponents(
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId(`dice_again_${betAmountDice}`)
                                                                                        .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${betAmountDice} Ø³Ú©Ù‡)`)
                                                                                        .setStyle(ButtonStyle.Primary),
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId(`dice_again_${betAmountDice * 2}`)
                                                                                        .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${betAmountDice * 2} Ø³Ú©Ù‡)`)
                                                                                        .setStyle(ButtonStyle.Danger),
                                                                                    new ButtonBuilder()
                                                                                        .setCustomId('games')
                                                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                        .setStyle(ButtonStyle.Secondary)
                                                                                );

                                                                            await interaction.editReply({ embeds: [diceResultEmbed], components: [diceGameButtons] });
                                                                        }, 3000);
                                                                        break;

                                                                    case 'dice_game_10_player':
                                                                    case 'dice_game_50_player':
                                                                        const betAmountMulti = interaction.customId === 'dice_game_10_player' ? 10 : 50;
                                                                        const userDataMulti = getUser(interaction.user.id);

                                                                        if (userDataMulti.balance < betAmountMulti) {
                                                                            await interaction.reply({
                                                                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmountMulti} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        const challengeEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ² Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                                                            .setColor('#6642A9')
                                                                            .setDescription(`${interaction.user} Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø¯ÙˆØ¦Ù„ ØªØ§Ø³ Ø¨Ø§ Ø´Ø±Ø· ${betAmountMulti} ${COIN_NAME} Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!\n\nØ¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ØŒ Ø¯Ú©Ù…Ù‡ Ù‚Ø¨ÙˆÙ„ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯.`)
                                                                            .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 60 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                                                                        const challengeButtons = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`dice_accept_${interaction.user.id}_${betAmountMulti}`)
                                                                                    .setLabel('âœ… Ù‚Ø¨ÙˆÙ„ Ú†Ø§Ù„Ø´')
                                                                                    .setStyle(ButtonStyle.Success),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('dice_reject')
                                                                                    .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                                                                    .setStyle(ButtonStyle.Danger)
                                                                            );

                                                                        await interaction.reply({ 
                                                                            content: 'Ù„Ø·ÙØ§Ù‹ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ Ø§Ùˆ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯ Ø±Ø§ Ù…Ù†Ø´Ù† Ú©Ù†ÛŒØ¯:',
                                                                            ephemeral: true 
                                                                        });

                                                                        // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø´Ù† Ú©Ø±Ø¯Ù† Ø±Ù‚ÛŒØ¨
                                                                        const filter = m => m.author.id === interaction.user.id && m.mentions.users.size > 0;
                                                                        const channel = interaction.channel;

                                                                        try {
                                                                            const collected = await channel.awaitMessages({ filter, max: 1, time: 30000, errors: ['time'] });
                                                                            const targetUser = collected.first().mentions.users.first();

                                                                            // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù…Ù†Ø´Ù†
                                                                            await collected.first().delete().catch(console.error);

                                                                            if (targetUser.id === interaction.user.id) {
                                                                                await interaction.followUp({
                                                                                    content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø®ÙˆØ¯ØªØ§Ù† Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯!',
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                                                                            const targetUserData = getUser(targetUser.id);
                                                                            if (targetUserData.balance < betAmountMulti) {
                                                                                await interaction.followUp({
                                                                                    content: `âŒ Ú©Ø§Ø±Ø¨Ø± ${targetUser.username} Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù†Ø¯Ø§Ø±Ø¯!`,
                                                                                    ephemeral: true
                                                                                });
                                                                                return;
                                                                            }

                                                                            const challengeMessage = await interaction.followUp({ 
                                                                                content: `${targetUser}`,
                                                                                embeds: [challengeEmbed], 
                                                                                components: [challengeButtons] 
                                                                            });

                                                                            // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                                                                            const buttonFilter = i => 
                                                                                (i.customId === `dice_accept_${interaction.user.id}_${betAmountMulti}` || 
                                                                                 i.customId === 'dice_reject') && 
                                                                                i.user.id === targetUser.id;

                                                                            const buttonCollector = interaction.channel.createMessageComponentCollector({ 
                                                                                filter: buttonFilter, 
                                                                                time: 60000 
                                                                            });

                                                                            buttonCollector.on('collect', async i => {
                                                                                if (i.customId === 'dice_reject') {
                                                                                    await i.update({ 
                                                                                        content: `${targetUser.username} Ú†Ø§Ù„Ø´ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                                                                        embeds: [], 
                                                                                        components: [] 
                                                                                    });
                                                                                    buttonCollector.stop();
                                                                                    return;
                                                                                }

                                                                                // Ú©Ø§Ø±Ø¨Ø± Ú†Ø§Ù„Ø´ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª - Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
                                                                                await i.update({ 
                                                                                    content: `${targetUser.username} Ú†Ø§Ù„Ø´ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                                                                                    embeds: [],
                                                                                    components: []
                                                                                });

                                                                                // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªØ§Ø³
                                                                                const multiRollingEmbed = new EmbedBuilder()
                                                                                    .setTitle('ğŸ² Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                                                                    .setColor('#6642A9')
                                                                                    .setDescription(`**${interaction.user.username}** vs **${targetUser.username}**\n\nØªØ§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ù‡Ø³ØªÙ†Ø¯...`)
                                                                                    .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                                                                                await i.editReply({ 
                                                                                    content: '',
                                                                                    embeds: [multiRollingEmbed], 
                                                                                    components: [] 
                                                                                });

                                                                                // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                                                                                setTimeout(async () => {
                                                                                    const player1Roll = Math.floor(Math.random() * 6) + 1;
                                                                                    const player2Roll = Math.floor(Math.random() * 6) + 1;

                                                                                    let resultText = '';
                                                                                    if (player1Roll > player2Roll) {
                                                                                        // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                        userDataMulti.balance += betAmountMulti;
                                                                                        targetUserData.balance -= betAmountMulti;
                                                                                        resultText = `ğŸ‰ **${interaction.user.username}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${betAmountMulti} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                                    } else if (player1Roll < player2Roll) {
                                                                                        // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                        userDataMulti.balance -= betAmountMulti;
                                                                                        targetUserData.balance += betAmountMulti;
                                                                                        resultText = `ğŸ‰ **${targetUser.username}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${betAmountMulti} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                                    } else {
                                                                                        // Ù…Ø³Ø§ÙˆÛŒ
                                                                                        resultText = `ğŸ˜ Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                                                                    }

                                                                                    saveData();

                                                                                    const duelResultEmbed = new EmbedBuilder()
                                                                                        .setTitle('ğŸ² Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                                                                        .setColor(player1Roll > player2Roll ? '#00FF00' : (player1Roll < player2Roll ? '#FF0000' : '#FFFF00'))
                                                                                        .setDescription(`
                                                    **${interaction.user.username}**: ${getDiceEmoji(player1Roll)} (${player1Roll})
                                                    **${targetUser.username}**: ${getDiceEmoji(player2Roll)} (${player2Roll})

                                                    ${resultText}`)
                                                                                        .setFooter({ text: 'Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                                                                                    const rematchButton = new ActionRowBuilder()
                                                                                        .addComponents(
                                                                                            new ButtonBuilder()
                                                                                                .setCustomId(`dice_rematch_${interaction.user.id}_${targetUser.id}_${betAmountMulti}`)
                                                                                                .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                                                                                .setStyle(ButtonStyle.Primary)
                                                                                        );

                                                                                    await i.editReply({ 
                                                                                        embeds: [duelResultEmbed], 
                                                                                        components: [rematchButton] 
                                                                                    });
                                                                                }, 3000);
                                                                            });

                                                                            buttonCollector.on('end', collected => {
                                                                                if (collected.size === 0) {
                                                                                    interaction.followUp({ 
                                                                                        content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                                                                        ephemeral: true
                                                                                    });
                                                                                }
                                                                            });
                                                                        } catch (err) {
                                                                            console.error(err);
                                                                            await interaction.followUp({
                                                                                content: 'âŒ Ø´Ù…Ø§ Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ù…Ù†Ø´Ù† Ù†Ú©Ø±Ø¯ÛŒØ¯ ÛŒØ§ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                                                                ephemeral: true
                                                                            });
                                                                        }
                                                                        break;

                                                                    case 'play_steal':
                                                                        // Ù¾Ù†Ø¬Ø±Ù‡ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
                                                                        const isStealActive = checkStealWindow();

                                                                        if (!isStealActive) {
                                                                            await interaction.reply({
                                                                                content: 'âŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø§Ø² Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø§Ù„Ø§Ù† Ø²Ù…Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†ÛŒØ³Øª.',
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        const stealEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                                                            .setColor('#FF5555')
                                                                            .setDescription('Ù¾Ù†Ø¬Ø±Ù‡ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±ØŒ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/steal` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\nÙ…Ø«Ø§Ù„: `/steal user:@username`\n\n**Ù†Ú©ØªÙ‡**: ÙÙ‚Ø· Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø¬ÛŒØ¨ (Ú©ÛŒÙ Ù¾ÙˆÙ„) Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ Ù‡Ø³ØªÙ†Ø¯. Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù†Ú© Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯!')
                                                                            .addFields(
                                                                                { name: 'âš ï¸ Ù‡Ø´Ø¯Ø§Ø±', value: 'Ø§Ù…Ú©Ø§Ù† Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ø¬Ø±ÛŒÙ…Ù‡ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯!' },
                                                                                { name: 'ğŸ“ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§', value: `- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_DAILY_STEALS} Ø¨Ø§Ø± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± 1 Ø¨Ø§Ø± Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_STEAL_PERCENTAGE * 100}% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø§Ø¨Ù„ Ø³Ø±Ù‚Øª Ø§Ø³Øª` }
                                                                            );

                                                                        await interaction.reply({ embeds: [stealEmbed], ephemeral: true });
                                                                        break;

                                                                    case 'steal_info':
                                                                        // Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
                                                                        const stealInfoEmbed = new EmbedBuilder()
                                                                            .setTitle('â„¹ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                                                            .setColor('#3498DB')
                                                                            .setDescription('Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ù…Ú©Ø§Ù† Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ø§ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø§Ø³Øª:')
                                                                            .addFields(
                                                                                { name: 'â° Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ', value: 'Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± ÛŒÚ© Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ 15 Ø¯Ù‚ÛŒÙ‚Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª. Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª ØªØµØ§Ø¯ÙÛŒ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯.' },
                                                                                { name: 'ğŸ›¡ï¸ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯', value: `Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ ØªØ§ ${NEW_USER_PROTECTION_DAYS} Ø±ÙˆØ² Ø§ÙˆÙ„ Ø§Ø² Ø³Ø±Ù‚Øª Ù…Ø­Ø§ÙØ¸Øª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.` },
                                                                                { name: 'ğŸ”’ Ø§Ù…Ù†ÛŒØª', value: 'ÙÙ‚Ø· Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø¬ÛŒØ¨ (Ú©ÛŒÙ Ù¾ÙˆÙ„) Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ Ù‡Ø³ØªÙ†Ø¯. Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ø¨Ø§Ù†Ú© Ø§ÛŒÙ…Ù† Ù‡Ø³ØªÙ†Ø¯.' },
                                                                                { name: 'âš–ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§', value: `- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_DAILY_STEALS} Ø¨Ø§Ø± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± 1 Ø¨Ø§Ø± Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_STEAL_PERCENTAGE * 100}% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø§Ø¨Ù„ Ø³Ø±Ù‚Øª Ø§Ø³Øª\n- Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø®ÛŒØ±Ø§Ù‹ Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡ØŒ Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÙˆÙ…Øª Ø¯Ø§Ø±Ù†Ø¯` },
                                                                                { name: 'âš ï¸ Ø±ÛŒØ³Ú©', value: 'Ø¯Ø± ØµÙˆØ±Øª Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù† Ø¯Ø²Ø¯ÛŒØŒ Ø´Ù…Ø§ Ø¬Ø±ÛŒÙ…Ù‡ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø´Ø¯!' }
                                                                            )
                                                                            .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù†Ú© Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯!' });

                                                                        await interaction.reply({ embeds: [stealInfoEmbed], ephemeral: true });
                                                                        break;

                                                                    case 'dice_rematch':
                                                                        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                                        const rematchParts = interaction.customId.split('_');
                                                                        const player1Id = rematchParts[2];
                                                                        const player2Id = rematchParts[3];
                                                                        const rematchBet = parseInt(rematchParts[4]);

                                                                        // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø¯Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ú©Ù…Ù‡ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª
                                                                        if (interaction.user.id !== player1Id && interaction.user.id !== player2Id) {
                                                                            await interaction.reply({
                                                                                content: 'âŒ Ø´Ù…Ø§ Ø¬Ø²Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù†ÛŒØ³ØªÛŒØ¯!',
                                                                                ephemeral: true
                                                                            });
                                                                            return;
                                                                        }

                                                                        const opponent = interaction.user.id === player1Id ? player2Id : player1Id;

                                                                        // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨ÙˆÙ„ ÛŒØ§ Ø±Ø¯ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                                        const rematchEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ² Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                                                            .setColor('#6642A9')
                                                                            .setDescription(`${interaction.user} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§ Ø´Ø±Ø· ${rematchBet} ${COIN_NAME} Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª!`)
                                                                            .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 30 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                                                                        const rematchButtons = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`dice_accept_rematch_${player1Id}_${player2Id}_${rematchBet}`)
                                                                                    .setLabel('âœ… Ù‚Ø¨ÙˆÙ„')
                                                                                    .setStyle(ButtonStyle.Success),
                                                                                new ButtonBuilder()
                                                                                    .setCustomId('dice_reject_rematch')
                                                                                    .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                                                                    .setStyle(ButtonStyle.Danger)
                                                                            );

                                                                        await interaction.update({ 
                                                                            embeds: [rematchEmbed], 
                                                                            components: [rematchButtons] 
                                                                        });

                                                                        // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ø­Ø±ÛŒÙ Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                                                                        const rematchFilter = i => 
                                                                            (i.customId === `dice_accept_rematch_${player1Id}_${player2Id}_${rematchBet}` || 
                                                                             i.customId === 'dice_reject_rematch') && 
                                                                            i.user.id === opponent;

                                                                        const rematchCollector = interaction.channel.createMessageComponentCollector({ 
                                                                            filter: rematchFilter, 
                                                                            time: 30000 
                                                                        });

                                                                        rematchCollector.on('collect', async i => {
                                                                            if (i.customId === 'dice_reject_rematch') {
                                                                                await i.update({ 
                                                                                    content: `<@${opponent}> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                                                                    embeds: [], 
                                                                                    components: [] 
                                                                                });
                                                                                rematchCollector.stop();
                                                                                return;
                                                                            }

                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‡Ø± Ø¯Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†
                                                                            const player1Data = getUser(player1Id);
                                                                            const player2Data = getUser(player2Id);

                                                                            if (player1Data.balance < rematchBet || player2Data.balance < rematchBet) {
                                                                                await i.update({
                                                                                    content: 'âŒ ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±Ø¯!',
                                                                                    embeds: [],
                                                                                    components: []
                                                                                });
                                                                                return;
                                                                            }

                                                                            // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                                            await i.update({ 
                                                                                content: `<@${opponent}> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                                                                                embeds: [],
                                                                                components: []
                                                                            });

                                                                            // Ù…Ø´Ø§Ø¨Ù‡ Ú©Ø¯ Ø¨Ø§Ø²ÛŒ Ù‚Ø¨Ù„ÛŒ...
                                                                            const rematchRollingEmbed = new EmbedBuilder()
                                                                                .setTitle('ğŸ² Ø¯ÙˆØ¦Ù„ ØªØ§Ø³ (Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯)')
                                                                                .setColor('#6642A9')
                                                                                .setDescription(`**<@${player1Id}>** vs **<@${player2Id}>**\n\nØªØ§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ù‡Ø³ØªÙ†Ø¯...`)
                                                                                .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                                                                            await i.editReply({ 
                                                                                content: '',
                                                                                embeds: [rematchRollingEmbed], 
                                                                                components: [] 
                                                                            });

                                                                            // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                                                                            setTimeout(async () => {
                                                                                const player1Roll = Math.floor(Math.random() * 6) + 1;
                                                                                const player2Roll = Math.floor(Math.random() * 6) + 1;

                                                                                                            let resultText = '';
                                                                                                            if (player1Roll > player2Roll) {
                                                                                                                // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                                                player1Data.balance += rematchBet;
                                                                                                                player2Data.balance -= rematchBet;
                                                                                                                resultText = `ğŸ‰ **<@${player1Id}>** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${rematchBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                                                            } else if (player1Roll < player2Roll) {
                                                                                                                // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                                                player1Data.balance -= rematchBet;
                                                                                                                player2Data.balance += rematchBet;
                                                                                                                resultText = `ğŸ‰ **<@${player2Id}>** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${rematchBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                                                            } else {
                                                                                                                // Ù…Ø³Ø§ÙˆÛŒ
                                                                                                                resultText = `ğŸ˜ Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                                                                                            }

                                                                                                            saveData();

                                                                                                            const rematchResultEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ² Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                                                                                                .setColor(player1Roll > player2Roll ? '#00FF00' : (player1Roll < player2Roll ? '#FF0000' : '#FFFF00'))
                                                                                                                .setDescription(`
                                                                                **<@${player1Id}>**: ${getDiceEmoji(player1Roll)} (${player1Roll})
                                                                                **<@${player2Id}>**: ${getDiceEmoji(player2Roll)} (${player2Roll})

                                                                                ${resultText}`)
                                                                                                                .setFooter({ text: 'Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                                                                                                            const rematchButtonAgain = new ActionRowBuilder()
                                                                                                                .addComponents(
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId(`dice_rematch_${player1Id}_${player2Id}_${rematchBet}`)
                                                                                                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                                                                                                        .setStyle(ButtonStyle.Primary)
                                                                                                                );

                                                                                                            await i.editReply({ 
                                                                                                                embeds: [rematchResultEmbed], 
                                                                                                                components: [rematchButtonAgain] 
                                                                                                            });
                                                                                                        }, 3000);
                                                                                                    });

                                                                                                    rematchCollector.on('end', collected => {
                                                                                                        if (collected.size === 0) {
                                                                                                            interaction.editReply({ 
                                                                                                                content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                                                                                                embeds: [],
                                                                                                                components: []
                                                                                                            });
                                                                                                        }
                                                                                                    });
                                                                                                    break;

                                                                                                case 'adminpanel':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                                                                                                    const adminPanelEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸ› ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                                                                                                        .setColor('#FF0000')
                                                                                                        .setDescription('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ù…Ø¯ÛŒØ± Ú¯Ø±Ø§Ù…ÛŒ! Ø§Ø² Ø§ÛŒÙ† Ù¾Ù†Ù„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                                                                                                        .addFields(
                                                                                                            { name: 'ğŸ“Š Ø¢Ù…Ø§Ø±', value: `ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: ${Object.keys(users).length}\nØªØ¹Ø¯Ø§Ø¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡: ${shopItems.length}`, inline: false },
                                                                                                            { name: 'ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡', value: 'ØªÙ†Ø¸ÛŒÙ… ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true },
                                                                                                            { name: 'ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡', value: 'Ø§Ø¶Ø§ÙÙ‡ ÛŒØ§ Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                                                                                                            { name: 'ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÛŒØ§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                                                                                                        )
                                                                                                        .setFooter({ text: 'Ø¯Ø³ØªØ±Ø³ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ù…Ø¬Ø§Ø²' });

                                                                                                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                                                                                                    const adminPanelRow1 = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('admin_coins')
                                                                                                                .setLabel('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('admin_shop')
                                                                                                                .setLabel('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('admin_data')
                                                                                                                .setLabel('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                                                                                                .setStyle(ButtonStyle.Primary)
                                                                                                        );

                                                                                                    await interaction.reply({ embeds: [adminPanelEmbed], components: [adminPanelRow1], ephemeral: true });
                                                                                                    break;

                                                                                                case 'friend':
                                                                                                    const friendSubcommand = interaction.options.getSubcommand();

                                                                                                    switch(friendSubcommand) {
                                                                                                        case 'add':
                                                                                                            const requestTargetUser = interaction.options.getUser('user');

                                                                                                            if (requestTargetUser.bot) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø¨Ø¯Ù‡ÛŒØ¯!',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            const requestResult = sendFriendRequest(interaction.user.id, requestTargetUser.id);

                                                                                                            if (!requestResult.success) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: requestResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            await interaction.reply({
                                                                                                                content: `âœ… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø¨Ù‡ ${requestTargetUser.username} Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!`,
                                                                                                                ephemeral: true
                                                                                                            });
                                                                                                            break;

                                                                                                        case 'accept':
                                                                                                            const requesterUser = interaction.options.getUser('user');
                                                                                                            const acceptResult = acceptFriendRequest(interaction.user.id, requesterUser.id);

                                                                                                            if (!acceptResult.success) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: acceptResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            await interaction.reply({
                                                                                                                content: `âœ… Ø´Ù…Ø§ Ùˆ ${requesterUser.username} Ø§Ú©Ù†ÙˆÙ† Ø¯ÙˆØ³Øª Ù‡Ø³ØªÛŒØ¯!`,
                                                                                                                ephemeral: false
                                                                                                            });
                                                                                                            break;

                                                                                                        case 'list':
                                                                                                            const userData = getUser(interaction.user.id);
                                                                                                            const friendList = userData.friends;
                                                                                                            const requestList = userData.friendRequests;

                                                                                                            let friendsText = '';
                                                                                                            if (friendList.length > 0) {
                                                                                                                friendsText = friendList.map((friendId, index) => `${index + 1}. <@${friendId}>`).join('\n');
                                                                                                            } else {
                                                                                                                friendsText = 'Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ø¯ÙˆØ³ØªÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!';
                                                                                                            }

                                                                                                            let requestsText = '';
                                                                                                            if (requestList.length > 0) {
                                                                                                                requestsText = requestList.map((requesterId, index) => `${index + 1}. <@${requesterId}>`).join('\n');
                                                                                                            } else {
                                                                                                                requestsText = 'Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ³ØªÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!';
                                                                                                            }

                                                                                                            const friendsEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ‘¥ Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù†')
                                                                                                                .setColor('#00FFFF')
                                                                                                                .addFields(
                                                                                                                    { name: 'ğŸ«‚ Ø¯ÙˆØ³ØªØ§Ù† Ø´Ù…Ø§', value: friendsText, inline: false },
                                                                                                                    { name: 'ğŸ“¨ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¯ÙˆØ³ØªÛŒ', value: requestsText, inline: false }
                                                                                                                )
                                                                                                                .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§Ø² Ø¯Ø³ØªÙˆØ± /friend accept Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                                                                            await interaction.reply({ embeds: [friendsEmbed] });
                                                                                                            break;

                                                                                                        case 'remove':
                                                                                                            const friendToRemove = interaction.options.getUser('user');
                                                                                                            const removeResult = removeFriend(interaction.user.id, friendToRemove.id);

                                                                                                            if (!removeResult.success) {
                                                                                                                return await interaction.reply ({
                                                                                                                    content: removeResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            await interaction.reply({
                                                                                                                content: `âœ… ${friendToRemove.username} Ø§Ø² Ù„ÛŒØ³Øª Ø¯ÙˆØ³ØªØ§Ù† Ø´Ù…Ø§ Ø­Ø°Ù Ø´Ø¯.`,
                                                                                                                ephemeral: true
                                                                                                            });
                                                                                                            break;
                                                                                                    }
                                                                                                    break;

                                                                                                case 'team':
                                                                                                    const teamSubcommand = interaction.options.getSubcommand();

                                                                                                    switch(teamSubcommand) {
                                                                                                        case 'create':
                                                                                                            const teamName = interaction.options.getString('name');

                                                                                                            // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø·ÙˆÙ„ Ù†Ø§Ù… ØªÛŒÙ…
                                                                                                            if (teamName.length < 3 || teamName.length > 20) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ù†Ø§Ù… ØªÛŒÙ… Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 3 ØªØ§ 20 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯!',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            const createResult = createTeam(interaction.user.id, teamName);

                                                                                                            if (!createResult.success) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: createResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÛŒÙ…ÛŒ
                                                                                                            const newAchievements = checkAchievement(interaction.user.id, 'team_player');
                                                                                                            let achievementText = '';

                                                                                                            if (newAchievements.length > 0) {
                                                                                                                achievementText = `\n\nğŸ† **Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¬Ø¯ÛŒØ¯!**\nØ´Ù…Ø§ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ "${newAchievements[0].name}" Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯ÛŒØ¯ Ùˆ ${newAchievements[0].reward} ${COIN_NAME} Ø¬Ø§ÛŒØ²Ù‡ Ú¯Ø±ÙØªÛŒØ¯!`;
                                                                                                            }

                                                                                                            const teamEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ® ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯!')
                                                                                                                .setColor('#FF00FF')
                                                                                                                .setDescription(`âœ… ØªÛŒÙ… "${teamName}" Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯!\n\n**Ø´Ù†Ø§Ø³Ù‡ ØªÛŒÙ…**: ${createResult.teamId}\n\nØ´Ù…Ø§ Ø§Ú©Ù†ÙˆÙ† Ø±Ù‡Ø¨Ø± Ø§ÛŒÙ† ØªÛŒÙ… Ù‡Ø³ØªÛŒØ¯. Ø§Ø² Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø¹ÙˆØª Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.${achievementText}`)
                                                                                                                .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ø¯Ø¹ÙˆØª Ø¯ÙˆØ³ØªØ§Ù† Ø§Ø² Ø¯Ø³ØªÙˆØ± /team invite Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                                                                            await interaction.reply({ embeds: [teamEmbed] });
                                                                                                            break;

                                                                                                        case 'join':
                                                                                                            const teamId = interaction.options.getString('id');
                                                                                                            const joinResult = joinTeam(interaction.user.id, teamId);

                                                                                                            if (!joinResult.success) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: joinResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÛŒÙ…ÛŒ
                                                                                                            const teamAchievements = checkAchievement(interaction.user.id, 'team_player');
                                                                                                            let teamAchievementText = '';

                                                                                                            if (teamAchievements.length > 0) {
                                                                                                                teamAchievementText = `\n\nğŸ† **Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¬Ø¯ÛŒØ¯!**\nØ´Ù…Ø§ Ø¯Ø³ØªØ§ÙˆØ±Ø¯ "${teamAchievements[0].name}" Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯ÛŒØ¯ Ùˆ ${teamAchievements[0].reward} ${COIN_NAME} Ø¬Ø§ÛŒØ²Ù‡ Ú¯Ø±ÙØªÛŒØ¯!`;
                                                                                                            }

                                                                                                            await interaction.reply({
                                                                                                                content: `âœ… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ ØªÛŒÙ… "${joinResult.teamName}" Ù¾ÛŒÙˆØ³ØªÛŒØ¯!${teamAchievementText}`,
                                                                                                                ephemeral: false
                                                                                                            });
                                                                                                            break;

                                                                                                        case 'leave':
                                                                                                            const leaveResult = leaveTeam(interaction.user.id);

                                                                                                            if (!leaveResult.success) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: leaveResult.reason,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            await interaction.reply({
                                                                                                                content: leaveResult.message,
                                                                                                                ephemeral: true
                                                                                                            });
                                                                                                            break;

                                                                                                        case 'info':
                                                                                                            const teamUserData = getUser(interaction.user.id);

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØªÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯
                                                                                                            if (teamUserData.team === null) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯! Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team create` ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÛŒÙ…
                                                                                                            if (!global.teams || !global.teams[teamUserData.team]) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ… Ø´Ù…Ø§ ÛŒØ§ÙØª Ù†Ø´Ø¯! Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team create` ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            const teamData = global.teams[teamUserData.team];
                                                                                                            const membersList = teamData.members.map((memberId, index) => `${index + 1}. <@${memberId}>${memberId === teamData.leader ? ' ğŸ‘‘' : ''}`).join('\n');

                                                                                                            const teamInfoEmbed = new EmbedBuilder()
                                                                                                                .setTitle(`ğŸ® Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÙ… "${teamData.name}"`)
                                                                                                                .setColor('#FF00FF')
                                                                                                                .addFields(
                                                                                                                    { name: 'ğŸ‘‘ Ø±Ù‡Ø¨Ø± ØªÛŒÙ…', value: `<@${teamData.leader}>`, inline: true },
                                                                                                                    { name: 'ğŸ“Š Ø§Ù…ØªÛŒØ§Ø² ØªÛŒÙ…', value: `${teamData.score}`, inline: true },
                                                                                                                    { name: 'ğŸ“ˆ Ø¢Ù…Ø§Ø±', value: `ğŸ† Ù¾ÛŒØ±ÙˆØ²ÛŒâ€ŒÙ‡Ø§: ${teamData.wins}\nğŸ’” Ø´Ú©Ø³Øªâ€ŒÙ‡Ø§: ${teamData.losses}`, inline: true },
                                                                                                                    { name: 'ğŸ‘¥ Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ…', value: membersList, inline: false },
                                                                                                                    { name: 'ğŸ†” Ø´Ù†Ø§Ø³Ù‡ ØªÛŒÙ…', value: teamData.id, inline: false },
                                                                                                                    { name: 'ğŸ“… ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯', value: `<t:${Math.floor(teamData.createdAt / 1000)}:R>`, inline: false }
                                                                                                                )
                                                                                                                .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ø¯Ø¹ÙˆØª Ø¯ÙˆØ³ØªØ§Ù† Ø§Ø² Ø¯Ø³ØªÙˆØ± /team invite Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                                                                            await interaction.reply({ embeds: [teamInfoEmbed] });
                                                                                                            break;

                                                                                                        case 'invite':
                                                                                                            const inviteTarget = interaction.options.getUser('user');

                                                                                                            if (inviteTarget.bot) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ØªÛŒÙ… Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯!',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            const inviterData = getUser(interaction.user.id);

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØªÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯
                                                                                                            if (inviterData.team === null) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: 'âŒ Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯! Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team create` ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.',
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÙØ±Ø¯ Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡ Ø¯Ø± ØªÛŒÙ… Ù†Ø¨Ø§Ø´Ø¯
                                                                                                            const targetData = getUser(inviteTarget.id);
                                                                                                            if (targetData.team !== null) {
                                                                                                                return await interaction.reply({
                                                                                                                    content: `âŒ Ú©Ø§Ø±Ø¨Ø± ${inviteTarget.username} Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¯Ø± ÛŒÚ© ØªÛŒÙ… Ø§Ø³Øª!`,
                                                                                                                    ephemeral: true
                                                                                                                });
                                                                                                            }

                                                                                                            // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø¯Ø¹ÙˆØª
                                                                                                            const inviteEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ® Ø¯Ø¹ÙˆØª Ø¨Ù‡ ØªÛŒÙ…')
                                                                                                                .setColor('#FF00FF')
                                                                                                                .setDescription(`${interaction.user} Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ØªÛŒÙ… "${global.teams[inviterData.team].name}" Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!`)
                                                                                                                .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† ÛŒØ§ Ø±Ø¯ Ø¯Ø¹ÙˆØªØŒ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                                                                            const inviteButtons = new ActionRowBuilder()
                                                                                                                .addComponents(
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId(`team_accept_${inviterData.team}`)
                                                                                                                        .setLabel('âœ… Ù¾Ø°ÛŒØ±ÙØªÙ† Ø¯Ø¹ÙˆØª')
                                                                                                                        .setStyle(ButtonStyle.Success),
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId(`team_reject`)
                                                                                                                        .setLabel('âŒ Ø±Ø¯ Ø¯Ø¹ÙˆØª')
                                                                                                                        .setStyle(ButtonStyle.Danger)
                                                                                                                );

                                                                                                            await interaction.reply({ 
                                                                                                                content: `${inviteTarget}`,
                                                                                                                embeds: [inviteEmbed],
                                                                                                                components: [inviteButtons]
                                                                                                            });
                                                                                                            break;
                                                                                                    }
                                                                                                    break;

                                                                                                case 'achievements':
                                                                                                    const achievementsUserData = getUser(interaction.user.id);
                                                                                                    const userAchievements = achievementsUserData.achievements || [];

                                                                                                    // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒØ³Øª Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡
                                                                                                    let unlockedAchievements = '';
                                                                                                    if (userAchievements.length > 0) {
                                                                                                        unlockedAchievements = userAchievements.map((achievement, index) => 
                                                                                                            `${index + 1}. **${achievement.name}** - ${achievement.description}\n   ğŸ•’ Ú©Ø³Ø¨ Ø´Ø¯Ù‡ Ø¯Ø±: <t:${Math.floor(achievement.acquiredAt / 1000)}:R>`
                                                                                                        ).join('\n\n');
                                                                                                    } else {
                                                                                                        unlockedAchievements = 'Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯ÛŒ Ú©Ø³Ø¨ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!';
                                                                                                    }

                                                                                                    // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒØ³Øª Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù‚ÙÙ„ Ø´Ø¯Ù‡
                                                                                                    const lockedAchievements = ACHIEVEMENTS
                                                                                                        .filter(achievement => !userAchievements.some(a => a.id === achievement.id))
                                                                                                        .map((achievement, index) => 
                                                                                                            `${index + 1}. **${achievement.name}** - ${achievement.description}\n   ğŸ’° Ù¾Ø§Ø¯Ø§Ø´: ${achievement.reward} ${COIN_NAME}`
                                                                                                        ).join('\n\n');

                                                                                                    const achievementsEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ùˆ Ø§ÙØªØ®Ø§Ø±Ø§Øª')
                                                                                                        .setColor('#FFD700')
                                                                                                        .setDescription(`Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§ (${userAchievements.length}/${ACHIEVEMENTS.length} Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ú©Ø³Ø¨ Ø´Ø¯Ù‡)`)
                                                                                                        .addFields(
                                                                                                            { name: 'ğŸ”“ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡', value: unlockedAchievements, inline: false },
                                                                                                            { name: 'ğŸ”’ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù‚ÙÙ„ Ø´Ø¯Ù‡', value: lockedAchievements || 'Ø´Ù…Ø§ Ù‡Ù…Ù‡ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ø±Ø§ Ú©Ø³Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!', inline: false }
                                                                                                        )
                                                                                                        .setFooter({ text: 'Ø¨Ø§ Ø§Ù†Ø¬Ø§Ù… ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙØŒ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒ Ú©Ø³Ø¨ Ú©Ù†ÛŒØ¯!' });

                                                                                                    await interaction.reply({ embeds: [achievementsEmbed] });
                                                                                                    break;

                                                                                                case 'teamchallenge':
                                                                                                    const challengeTeamId = interaction.options.getString('team_id');
                                                                                                    const challengeBet = interaction.options.getInteger('bet');

                                                                                                    if (challengeBet <= 0) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const challengerData = getUser(interaction.user.id);

                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± ØªÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯
                                                                                                    if (challengerData.team === null) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø± Ù‡ÛŒÚ† ØªÛŒÙ…ÛŒ Ù†ÛŒØ³ØªÛŒØ¯! Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/team join` Ø¨Ù‡ ÛŒÚ© ØªÛŒÙ… Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `/team create` ÛŒÚ© ØªÛŒÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯.',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ØªÛŒÙ… Ù…ÙˆØ±Ø¯ Ú†Ø§Ù„Ø´ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                                                                                                    if (!global.teams || !global.teams[challengeTeamId]) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ ØªÛŒÙ… Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ø¨Ø§Ø´Ø¯
                                                                                                    if (global.teams[challengerData.team].leader !== interaction.user.id) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ ÙÙ‚Ø· Ø±Ù‡Ø¨Ø± ØªÛŒÙ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ØªÛŒÙ…â€ŒÙ‡Ø§ ÛŒÚ©Ø³Ø§Ù† Ù†Ø¨Ø§Ø´Ù†Ø¯
                                                                                                    if (challengerData.team === challengeTeamId) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªÛŒÙ… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ú©Ø´ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const teamChallengeEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸŒªï¸ Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ')
                                                                                                        .setColor('#FF5733')
                                                                                                        .setDescription(`${interaction.user} Ø¨Ù‡ Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒ Ø§Ø² ØªÛŒÙ… **${global.teams[challengerData.team].name}** ØªÛŒÙ… Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ú†Ø§Ù„Ø´ Ú¯Ø±ÙˆÙ‡ÛŒ Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!\n\nØ´Ø±Ø·: ${challengeBet} ${COIN_NAME} Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ø¶Ùˆ`)
                                                                                                        .addFields(
                                                                                                            { name: 'ØªÛŒÙ… Ø¯Ø¹ÙˆØª Ú©Ù†Ù†Ø¯Ù‡', value: `${global.teams[challengerData.team].name} - ${global.teams[challengerData.team].members.length} Ø¹Ø¶Ùˆ`, inline: true },
                                                                                                            { name: 'ØªÛŒÙ… Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡', value: `${global.teams[challengeTeamId].name} - ${global.teams[challengeTeamId].members.length} Ø¹Ø¶Ùˆ`, inline: true }
                                                                                                        )
                                                                                                        .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† ÛŒØ§ Ø±Ø¯ Ú†Ø§Ù„Ø´ØŒ Ø§Ø² Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯' });

                                                                                                    const teamChallengeButtons = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId(`challenge_accept_${challengerData.team}_${challengeTeamId}_${challengeBet}`)
                                                                                                                .setLabel('âœ… Ù¾Ø°ÛŒØ±ÙØªÙ† Ú†Ø§Ù„Ø´')
                                                                                                                .setStyle(ButtonStyle.Success),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('challenge_reject')
                                                                                                                .setLabel('âŒ Ø±Ø¯ Ú†Ø§Ù„Ø´')
                                                                                                                .setStyle(ButtonStyle.Danger)
                                                                                                        );

                                                                                                    await interaction.reply({ 
                                                                                                        content: `<@${global.teams[challengeTeamId].leader}>`,
                                                                                                        embeds: [teamChallengeEmbed],
                                                                                                        components: [teamChallengeButtons] 
                                                                                                    });
                                                                                                    break;

                                                                                                case 'setcoin':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ  Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const targetUserCoin = interaction.options.getUser('user');
                                                                                                    const newAmount = interaction.options.getInteger('amount');

                                                                                                    if (newAmount < 0) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†ÙÛŒ Ø¨Ø§Ø´Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const targetUserData = getUser(targetUserCoin.id);
                                                                                                    const oldAmount = targetUserData.balance;
                                                                                                    targetUserData.balance = newAmount;
                                                                                                    saveData();

                                                                                                    await interaction.reply({
                                                                                                        content: `âœ… Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ${targetUserCoin.username} Ø§Ø² ${oldAmount} Ø¨Ù‡ ${newAmount} ${COIN_NAME} ØªØºÛŒÛŒØ± Ú©Ø±Ø¯.`,
                                                                                                        ephemeral: true
                                                                                                    });
                                                                                                    break;

                                                                                                case 'restart':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    await interaction.reply({
                                                                                                        content: 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª... Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯.'
                                                                                                    });

                                                                                                    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                                                                    saveData();

                                                                                                    try {
                                                                                                        // Ø«Ø¨Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¯Ø³ØªÙˆØ±Ø§Øª Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª
                                                                                                        await rest.put(Routes.applicationCommands(CLIENT_ID), { body: commands });

                                                                                                        // Ø§Ø¹Ù„Ø§Ù… ØªÚ©Ù…ÛŒÙ„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                                                                        await interaction.editReply({
                                                                                                            content: 'âœ… Ø±Ø¨Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø´Ø¯ Ùˆ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯!'
                                                                                                        });
                                                                                                    } catch (error) {
                                                                                                        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯:', error);
                                                                                                        await interaction.editReply({
                                                                                                            content: 'âŒ Ø®Ø·Ø§ Ø¯Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª! Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.'
                                                                                                        });
                                                                                                    }
                                                                                                    break;

                                                                                                case 'additem':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const itemName = interaction.options.getString('name');
                                                                                                    const itemPrice = interaction.options.getInteger('price');
                                                                                                    const itemDesc = interaction.options.getString('description');

                                                                                                    if (itemPrice < 0) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†ÙÛŒ Ø¨Ø§Ø´Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    // Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…
                                                                                                    const itemId = 'item_' + Date.now();

                                                                                                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
                                                                                                    shopItems.push({
                                                                                                        id: itemId,
                                                                                                        name: itemName,
                                                                                                        price: itemPrice,
                                                                                                        description: itemDesc
                                                                                                    });

                                                                                                    saveData();

                                                                                                    await interaction.reply({
                                                                                                        content: `âœ… Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯ "${itemName}" Ø¨Ø§ Ù‚ÛŒÙ…Øª ${itemPrice} ${COIN_NAME} Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`,
                                                                                                        ephemeral: true
                                                                                                    });
                                                                                                    break;

                                                                                                case 'removeitem':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const itemIdToRemove = interaction.options.getString('id');
                                                                                                    const itemIndex = shopItems.findIndex(item => item.id === itemIdToRemove);

                                                                                                    if (itemIndex === -1) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø¢ÛŒØªÙ… Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const removedItem = shopItems.splice(itemIndex, 1)[0];
                                                                                                    saveData();

                                                                                                    await interaction.reply({
                                                                                                        content: `âœ… Ø¢ÛŒØªÙ… "${removedItem.name}" Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø­Ø°Ù Ø´Ø¯.`,
                                                                                                        ephemeral: true
                                                                                                    });
                                                                                                    break;

                                                                                                case 'resetdata':
                                                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                                                                                                    if (!hasAdminRole(interaction.member)) {
                                                                                                        return await interaction.reply({
                                                                                                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }

                                                                                                    const userToReset = interaction.options.getUser('user');

                                                                                                    if (users[userToReset.id]) {
                                                                                                        delete users[userToReset.id];
                                                                                                        saveData();
                                                                                                        await interaction.reply({
                                                                                                            content: `âœ… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± ${userToReset.username} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯.`,
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    } else {
                                                                                                        await interaction.reply({
                                                                                                            content: `â“ Ú©Ø§Ø±Ø¨Ø± ${userToReset.username} Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ù†Ø¯Ø§Ø±Ø¯.`,
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                    }
                                                                                                    break;

                                                                                                case 'play_rps':
                                                                                                    // Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ
                                                                                                    const rpsEmbed = new EmbedBuilder()
                                                                                                        .setTitle('âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                                                                                                        .setColor('#1ABC9C')
                                                                                                        .setDescription('Ø¨Ø§ Ø±Ø¨Ø§Øª ÛŒØ§ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯:\n\nğŸª¨ Ø³Ù†Ú¯\nğŸ“„ Ú©Ø§ØºØ°\nâœ‚ï¸ Ù‚ÛŒÚ†ÛŒ');

                                                                                                    const rpsButtons1 = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('rps_bot_10')
                                                                                                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (10 Ø³Ú©Ù‡)')
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('rps_bot_50')
                                                                                                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (50 Ø³Ú©Ù‡)')
                                                                                                                .setStyle(ButtonStyle.Danger)
                                                                                                        );

                                                                                                    const rpsButtons2 = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('rps_player_10')
                                                                                                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (10 Ø³Ú©Ù‡)')
                                                                                                                .setStyle(ButtonStyle.Success),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('rps_player_50')
                                                                                                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (50 Ø³Ú©Ù‡)')
                                                                                                                .setStyle(ButtonStyle.Success)
                                                                                                        );

                                                                                                    const rpsButtons3 = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                             new ButtonBuilder()
                                                                                                                .setCustomId('games')
                                                                                                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                                                .setStyle(ButtonStyle.Secondary)
                                                                                                        );

                                                                                                    await interaction.reply({ embeds: [rpsEmbed], components: [rpsButtons1, rpsButtons2, rpsButtons3], ephemeral: true });
                                                                                                    break;

                                                                                                case 'rps_bot_10':
                                                                                                case 'rps_bot_50':
                                                                                                    const rpsBetAmount = interaction.customId === 'rps_bot_10' ? 10 : 50;
                                                                                                    const rpsUserData = getUser(interaction.user.id);

                                                                                                    if (rpsUserData.balance < rpsBetAmount) {
                                                                                                        await interaction.reply({
                                                                                                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${rpsBetAmount} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                        return;
                                                                                                    }

                                                                                                    const rpsChoiceEmbed = new EmbedBuilder()
                                                                                                        .setTitle('âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                                                                                                        .setColor('#1ABC9C')
                                                                                                        .setDescription(`Ø´Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª Ù‡Ø³ØªÛŒØ¯ (Ø´Ø±Ø·: ${rpsBetAmount} ${COIN_NAME})\n\nØ§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯:`)
                                                                                                        .setImage('https://media.giphy.com/media/UTYEpCJtlKoFsEKWBj/giphy.gif');

                                                                                                    const rpsChoiceButtons = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId(`rps_choice_rock_${rpsBetAmount}`)
                                                                                                                .setEmoji('ğŸª¨')
                                                                                                                .setLabel('Ø³Ù†Ú¯')
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId(`rps_choice_paper_${rpsBetAmount}`)
                                                                                                                .setEmoji('ğŸ“„')
                                                                                                                .setLabel('Ú©Ø§ØºØ°')
                                                                                                                .setStyle(ButtonStyle.Success),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId(`rps_choice_scissors_${rpsBetAmount}`)
                                                                                                                .setEmoji('âœ‚ï¸')
                                                                                                                .setLabel('Ù‚ÛŒÚ†ÛŒ')
                                                                                                                .setStyle(ButtonStyle.Danger)
                                                                                                        );

                                                                                                    await interaction.reply({ embeds: [rpsChoiceEmbed], components: [rpsChoiceButtons], ephemeral: true });
                                                                                                    break;

                                                                                                case 'rps_choice_rock_10':
                                                                                                case 'rps_choice_rock_50':
                                                                                                case 'rps_choice_paper_10':
                                                                                                case 'rps_choice_paper_50':
                                                                                                case 'rps_choice_scissors_10':
                                                                                                case 'rps_choice_scissors_50':
                                                                                                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ
                                                                                                    const rpsParts = interaction.customId.split('_');
                                                                                                    const userChoice = rpsParts[2]; // rock, paper, scissors
                                                                                                    const rpsBet = parseInt(rpsParts[3]); // 10 ÛŒØ§ 50

                                                                                                    const rpsUser = getUser(interaction.user.id);

                                                                                                    if (rpsUser.balance < rpsBet) {
                                                                                                        await interaction.reply({
                                                                                                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${rpsBet} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                        return;
                                                                                                    }

                                                                                                    // Ø§Ù†ØªØ®Ø§Ø¨ ØªØµØ§Ø¯ÙÛŒ Ø±Ø¨Ø§Øª
                                                                                                    const choices = ['rock', 'paper', 'scissors'];
                                                                                                    const botChoice = choices[Math.floor(Math.random() * choices.length)];

                                                                                                    // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
                                                                                                    let rpsResult = '';
                                                                                                    let resultColor = '#FFFF00'; // Ø²Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ù…Ø³Ø§ÙˆÛŒ

                                                                                                    if (userChoice === botChoice) {
                                                                                                        // Ù…Ø³Ø§ÙˆÛŒ
                                                                                                        rpsResult = 'ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.';
                                                                                                    } else if (
                                                                                                        (userChoice === 'rock' && botChoice === 'scissors') ||
                                                                                                        (userChoice === 'paper' && botChoice === 'rock') ||
                                                                                                        (userChoice === 'scissors' && botChoice === 'paper')
                                                                                                    ) {
                                                                                                        // Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                                        rpsUser.balance += rpsBet;
                                                                                                        rpsResult = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${rpsBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                                                                                                        resultColor = '#00FF00'; // Ø³Ø¨Ø² Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø¯
                                                                                                    } else {
                                                                                                        // Ø±Ø¨Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                                                        rpsUser.balance -= rpsBet;
                                                                                                        rpsResult = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${rpsBet} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                                                                                                        resultColor = '#FF0000'; // Ù‚Ø±Ù…Ø² Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø®Øª
                                                                                                    }

                                                                                                    saveData();

                                                                                                    // ØªØ¨Ø¯ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§ÛŒÙ…ÙˆØ¬ÛŒ
                                                                                                    const choiceToEmoji = {
                                                                                                        'rock': 'ğŸª¨ Ø³Ù†Ú¯',
                                                                                                        'paper': 'ğŸ“„ Ú©Ø§ØºØ°',
                                                                                                        'scissors': 'âœ‚ï¸ Ù‚ÛŒÚ†ÛŒ'
                                                                                                    };

                                                                                                    const rpsResultEmbed = new EmbedBuilder()
                                                                                                        .setTitle('âš”ï¸ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                                                                                                        .setColor(resultColor)
                                                                                                        .setDescription(`
                                                                                **Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§**: ${choiceToEmoji[userChoice]}
                                                                                **Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø¨Ø§Øª**: ${choiceToEmoji[botChoice]}

                                                                                ${rpsResult}

                                                                                Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${rpsUser.balance} ${COIN_NAME}**`)
                                                                                                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯' });

                                                                                                    const rpsPlayAgainButtons = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId(`rps_bot_${rpsBet}`)
                                                                                                                .setLabel(`ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${rpsBet} Ø³Ú©Ù‡)`)
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('play_rps')
                                                                                                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø¨Ø§Ø²ÛŒ')
                                                                                                                .setStyle(ButtonStyle.Secondary)
                                                                                                        );

                                                                                                    await interaction.update({ embeds: [rpsResultEmbed], components: [rpsPlayAgainButtons] });
                                                                                                    break;

                                                                                                case 'play_numguess':
                                                                                                    // Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯
                                                                                                    const numGuessEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                                                                                                        .setColor('#E67E22')
                                                                                                        .setDescription('Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯!\n\nÙ‡Ø± Ø¨Ø§Ø²ÛŒ 20 Ø³Ú©Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø±Ø¯ØŒ Ø§Ù…Ø§ Ø§Ú¯Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯ Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯. Ù‡Ø± Ú†Ù‡ Ø²ÙˆØ¯ØªØ± Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯ØŒ Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÛŒØ´ØªØ±ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØ¯!');

                                                                                                    const numGuessButtons = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('numguess_start')
                                                                                                                .setLabel('ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ (20 Ø³Ú©Ù‡)')
                                                                                                                .setStyle(ButtonStyle.Success),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('games')
                                                                                                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                                                                                .setStyle(ButtonStyle.Secondary)
                                                                                                        );

                                                                                                    await interaction.reply({ embeds: [numGuessEmbed], components: [numGuessButtons], ephemeral: true });
                                                                                                    break;

                                                                                                case 'numguess_start':
                                                                                                    const numGuessUser = getUser(interaction.user.id);
                                                                                                    const numGuessCost = 20;

                                                                                                    if (numGuessUser.balance < numGuessCost) {
                                                                                                        await interaction.reply({
                                                                                                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${numGuessCost - numGuessUser.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`,
                                                                                                            ephemeral: true
                                                                                                        });
                                                                                                        return;
                                                                                                    }

                                                                                                    // Ú©Ù… Ú©Ø±Ø¯Ù† Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒ
                                                                                                    numGuessUser.balance  -= numGuessCost;
                                                                                                    saveData();

                                                                                                    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Map Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±
                                                                                                    if (!client.numGuessGames) client.numGuessGames = new Map();

                                                                                                    // Ø§Ù†ØªØ®Ø§Ø¨ ÛŒÚ© Ø¹Ø¯Ø¯ ØªØµØ§Ø¯ÙÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100
                                                                                                    const secretNumber = Math.floor(Math.random() * 100) + 1;

                                                                                                    // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ Ø¯Ø± ÛŒÚ© Ø¢Ø¨Ø¬Ú©Øª Ù…ÙˆÙ‚Øª
                                                                                                    const gameData = {
                                                                                                        number: secretNumber,
                                                                                                        attempts: 0,
                                                                                                        maxAttempts: 10,
                                                                                                        startTime: Date.now()
                                                                                                    };

                                                                                                    const startGameEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                                                                                                        .setColor('#E67E22')
                                                                                                        .setDescription(`Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù…! Ø´Ù…Ø§ ${gameData.maxAttempts} ÙØ±ØµØª Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ Ø¢Ù† Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.\n\nÛŒÚ© Ø¹Ø¯Ø¯ Ø±Ø§ Ø¯Ø± Ú†Øª Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ (Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100).`)
                                                                                                        .setFooter({ text: `ØªÙ„Ø§Ø´ 0/${gameData.maxAttempts} | Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: ${numGuessUser.balance} ${COIN_NAME}` });

                                                                                                    await interaction.reply({ embeds: [startGameEmbed] });

                                                                                                    // Ù…Ù†ØªØ¸Ø± ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                                                                                                    const numGuessFilter = m => m.author.id === interaction.user.id && !isNaN(m.content) && parseInt(m.content) >= 1 && parseInt(m.content) <= 100;

                                                                                                    const numGuessCollector = interaction.channel.createMessageCollector({
                                                                                                        filter: numGuessFilter,
                                                                                                        time: 300000, // 5 Ø¯Ù‚ÛŒÙ‚Ù‡
                                                                                                        max: gameData.maxAttempts
                                                                                                    });

                                                                                                    numGuessCollector.on('collect', async message => {
                                                                                                        // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
                                                                                                        await message.delete().catch(console.error);

                                                                                                        const guess = parseInt(message.content);
                                                                                                        gameData.attempts++;

                                                                                                        let resultMessage = '';

                                                                                                        if (guess === gameData.number) {
                                                                                                            // Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!
                                                                                                            numGuessCollector.stop('win');

                                                                                                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´
                                                                                                            const baseReward = 100;
                                                                                                            const attemptFactor = 1 - (gameData.attempts / gameData.maxAttempts) * 0.5; // Ø¨ÛŒÙ† 0.5 ØªØ§ 1
                                                                                                            const timeFactor = Math.max(0.5, 1 - (Date.now() - gameData.startTime) / 300000); // Ø­Ø¯Ø§Ú©Ø«Ø± 1ØŒ Ø­Ø¯Ø§Ù‚Ù„ 0.5
                                                                                                            const reward = Math.round(baseReward * attemptFactor * timeFactor);

                                                                                                            numGuessUser.balance += reward;
                                                                                                            saveData();

                                                                                                            resultMessage = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø§ ${gameData.attempts} ØªÙ„Ø§Ø´ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!\n\n**Ø¬Ø§ÛŒØ²Ù‡ Ø´Ù…Ø§**: ${reward} ${COIN_NAME}`;

                                                                                                            const winEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ - Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!')
                                                                                                                .setColor('#00FF00')
                                                                                                                .setDescription(`Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯!\n\n${resultMessage}\n\nÙ…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${numGuessUser.balance} ${COIN_NAME}**`)
                                                                                                                .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                                                                                                            const playAgainButton = new ActionRowBuilder()
                                                                                                                .addComponents(
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId('numguess_start')
                                                                                                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                                                                                                        .setStyle(ButtonStyle.Primary),
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId('games')
                                                                                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                                                        .setStyle(ButtonStyle.Secondary)
                                                                                                                );

                                                                                                            await interaction.followUp({ embeds: [winEmbed], components: [playAgainButton] });
                                                                                                            return;
                                                                                                        }

                                                                                                        if (guess < gameData.number) {
                                                                                                            resultMessage = `ğŸ“ˆ Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯ØªØ± Ø§Ø³Øª (${guess} < ?)`;
                                                                                                        } else {
                                                                                                            resultMessage = `ğŸ“‰ Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ± Ø§Ø³Øª (${guess} > ?)`;
                                                                                                        }

                                                                                                        if (gameData.attempts >= gameData.maxAttempts) {
                                                                                                            // ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ ØªÙ…Ø§Ù… Ø´Ø¯
                                                                                                            numGuessCollector.stop('lose');
                                                                                                            return;
                                                                                                        }

                                                                                                        const guessEmbed = new EmbedBuilder()
                                                                                                            .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                                                                                                            .setColor('#E67E22')
                                                                                                            .setDescription(`${resultMessage}\n\nÛŒÚ© Ø¹Ø¯Ø¯ Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.`)
                                                                                                            .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                                                                                                        await interaction.followUp({ embeds: [guessEmbed] });
                                                                                                    });

                                                                                                    numGuessCollector.on('end', async (collected, reason) => {
                                                                                                        if (reason === 'win') {
                                                                                                            // Ù‚Ø¨Ù„Ø§Ù‹ Ù¾ÛŒØ§Ù… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª
                                                                                                            return;
                                                                                                        }

                                                                                                        if (reason === 'time') {
                                                                                                            await interaction.followUp({
                                                                                                                content: `â±ï¸ Ø²Ù…Ø§Ù† Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯! Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯.`,
                                                                                                                ephemeral: true
                                                                                                            });
                                                                                                        } else if (reason === 'lose') {
                                                                                                            const loseEmbed = new EmbedBuilder()
                                                                                                                .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ - Ø¨Ø§Ø®ØªÛŒØ¯!')
                                                                                                                .setColor('#FF0000')
                                                                                                                .setDescription(`Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ ØªÙ…Ø§Ù… Ø´Ø¯! Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯.\n\nÙ…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${numGuessUser.balance} ${COIN_NAME}**`)
                                                                                                                .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                                                                                                            const playAgainButton = new ActionRowBuilder()
                                                                                                                .addComponents(
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId('numguess_start')
                                                                                                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                                                                                                        .setStyle(ButtonStyle.Primary),
                                                                                                                    new ButtonBuilder()
                                                                                                                        .setCustomId('games')
                                                                                                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                                                                                                        .setStyle(ButtonStyle.Secondary)
                                                                                                                );

                                                                                                            await interaction.followUp({ embeds: [loseEmbed], components: [playAgainButton] });
                                                                                                        }
                                                                                                    });
                                                                                                    break;

                                                                                                case 'play_duel':
                                                                                                    // Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¦Ù„ - Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±
                                                                                                    const duelEmbed = new EmbedBuilder()
                                                                                                        .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                                                                                                        .setColor('#8E44AD')
                                                                                                        .setDescription('Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯!\n\nØ´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§ Ø´Ø§Ù†Ø³ Ùˆ Ù…Ù‡Ø§Ø±Øª Ø¨Ø±Ù†Ø¯Ù‡ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒØ´ÙˆØ¯.');

                                                                                                    const duelButtons = new ActionRowBuilder()
                                                                                                        .addComponents(
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('duel_start_50')
                                                                                                                .setLabel('ğŸ† Ø¯ÙˆØ¦Ù„ 50 Ø³Ú©Ù‡')
                                                                                                                .setStyle(ButtonStyle.Primary),
                                                                                                            new ButtonBuilder()
                                                                                                                .setCustomId('duel_start_100')
                                                                                                                .setLabel('ğŸ† Ø¯ÙˆØ¦Ù„ 100 Ø³Ú©Ù‡')
                                                                                                                .setStyle(ButtonStyle.Danger),
                                                                                                            new ButtonBuilder()
                                                                                                                 .setCustomId('games')
                                                                                                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                                                                                                .setStyle(ButtonStyle.Secondary)
                                                                                                        );

                                                                                                    await interaction.reply({ embeds: [duelEmbed], components: [duelButtons], ephemeral: true });
                                                                                                    break;

                                                            case 'duel_start_50':
                                                            case 'duel_start_100':
                                                                const duelBet = interaction.customId === 'duel_start_50' ? 50 : 100;
                                                                const duelUserData = getUser(interaction.user.id);

                                                                if (duelUserData.balance < duelBet) {
                                                                    await interaction.reply({
                                                                        content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯ÙˆØ¦Ù„ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${duelBet - duelUserData.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`,
                                                                        ephemeral: true
                                                                    });
                                                                    return;
                                                                }

                                                                await interaction.reply({ 
                                                                    content: 'Ù„Ø·ÙØ§Ù‹ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ Ø§Ùˆ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯ Ø±Ø§ Ù…Ù†Ø´Ù† Ú©Ù†ÛŒØ¯:',
                                                                    ephemeral: true 
                                                                });

                                                                // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø´Ù† Ú©Ø±Ø¯Ù† Ø±Ù‚ÛŒØ¨
                                                                const duelFilter = m => m.author.id === interaction.user.id && m.mentions.users.size > 0;
                                                                const duelChannel = interaction.channel;

                                                                try {
                                                                    const duelCollected = await duelChannel.awaitMessages({ filter: duelFilter, max: 1, time: 30000, errors: ['time'] });
                                                                    const duelTarget = duelCollected.first().mentions.users.first();

                                                                    // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù…Ù†Ø´Ù†
                                                                    await duelCollected.first().delete().catch(console.error);

                                                                    if (duelTarget.id === interaction.user.id) {
                                                                        await interaction.followUp({
                                                                            content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø®ÙˆØ¯ØªØ§Ù† Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯!',
                                                                            ephemeral: true
                                                                        });
                                                                        return;
                                                                    }

                                                                    if (duelTarget.bot) {
                                                                        await interaction.followUp({
                                                                            content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯!',
                                                                            ephemeral: true
                                                                        });
                                                                        return;
                                                                    }

                                                                    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                                                                    const duelTargetData = getUser(duelTarget.id);
                                                                    if (duelTargetData.balance < duelBet) {
                                                                        await interaction.followUp({
                                                                            content: `âŒ Ú©Ø§Ø±Ø¨Ø± ${duelTarget.username} Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯ÙˆØ¦Ù„ Ù†Ø¯Ø§Ø±Ø¯!`,
                                                                            ephemeral: true
                                                                        });
                                                                        return;
                                                                    }

                                                                    const duelChallengeEmbed = new EmbedBuilder()
                                                                        .setTitle('ğŸ† Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø¯ÙˆØ¦Ù„')
                                                                        .setColor('#8E44AD')
                                                                        .setDescription(`${interaction.user} Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø¯ÙˆØ¦Ù„ Ø¨Ø§ Ø´Ø±Ø· ${duelBet} ${COIN_NAME} Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!\n\nØ¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ØŒ Ø¯Ú©Ù…Ù‡ Ù‚Ø¨ÙˆÙ„ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯.`)
                                                                        .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 60 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                                                                    const duelChallengeButtons = new ActionRowBuilder()
                                                                        .addComponents(
                                                                            new ButtonBuilder()
                                                                                .setCustomId(`duel_accept_${interaction.user.id}_${duelBet}`)
                                                                                .setLabel('âœ… Ù‚Ø¨ÙˆÙ„ Ø¯ÙˆØ¦Ù„')
                                                                                .setStyle(ButtonStyle.Success),
                                                                            new ButtonBuilder()
                                                                                .setCustomId('duel_reject')
                                                                                .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                                                                .setStyle(ButtonStyle.Danger)
                                                                        );

                                                                    const duelMessage = await interaction.followUp({ 
                                                                        content: `${duelTarget}`,
                                                                        embeds: [duelChallengeEmbed], 
                                                                        components: [duelChallengeButtons] 
                                                                    });

                                                                    // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                                                                    const duelButtonFilter = i => 
                                                                        (i.customId === `duel_accept_${interaction.user.id}_${duelBet}` || 
                                                                         i.customId === 'duel_reject') && 
                                                                        i.user.id === duelTarget.id;

                                                                    const duelButtonCollector = interaction.channel.createMessageComponentCollector({ 
                                                                        filter: duelButtonFilter, 
                                                                        time: 60000 
                                                                    });

                                                                    duelButtonCollector.on('collect', async i => {
                                                                        if (i.customId === 'duel_reject') {
                                                                            await i.update({ 
                                                                                content: `${duelTarget.username} Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                                                                embeds: [], 
                                                                                components: [] 
                                                                            });
                                                                            duelButtonCollector.stop();
                                                                            return;
                                                                        }

                                                                        // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª
                                                                        await i.update({ 
                                                                            content: `${duelTarget.username} Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ù†Ø¨Ø±Ø¯ Ø¢ØºØ§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                                                                            embeds: [],
                                                                            components: []
                                                                        });

                                                                        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¯ÙˆØ¦Ù„
                                                                        const duelAnimation = [
                                                                            'âš”ï¸ Ø¢Ù…Ø§Ø¯Ù‡ Ø´ÙˆÛŒØ¯...',
                                                                            'ğŸ”¥ 3...',
                                                                            'ğŸ”¥ 2...',
                                                                            'ğŸ”¥ 1...',
                                                                            'âš¡ Ù†Ø¨Ø±Ø¯ Ø¢ØºØ§Ø² Ø´Ø¯!'
                                                                        ];

                                                                        const duelAnimationEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                                                                            .setColor('#8E44AD')
                                                                            .setDescription(`**${interaction.user.username}** vs **${duelTarget.username}**\n\n${duelAnimation[0]}`)
                                                                            .setImage('https://media.giphy.com/media/l2JhIUyUs8KDCCf3W/giphy.gif');

                                                                        await i.editReply({ 
                                                                            content: '',
                                                                            embeds: [duelAnimationEmbed], 
                                                                            components: [] 
                                                                        });

                                                                        // Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø´Ù…Ø§Ø±Ø´ Ù…Ø¹Ú©ÙˆØ³
                                                                        for (let j = 1; j < duelAnimation.length; j++) {
                                                                            await new Promise(resolve => setTimeout(resolve, 1000));

                                                                            const updatedEmbed = new EmbedBuilder()
                                                                                .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                                                                                .setColor('#8E44AD')
                                                                                .setDescription(`**${interaction.user.username}** vs **${duelTarget.username}**\n\n${duelAnimation[j]}`)
                                                                                .setImage('https://media.giphy.com/media/l2JhIUyUs8KDCCf3W/giphy.gif');

                                                                            await i.editReply({ embeds: [updatedEmbed] });
                                                                        }

                                                                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ (ØªØ±Ú©ÛŒØ¨ÛŒ Ø§Ø² Ø´Ø§Ù†Ø³ Ùˆ ØªØ¬Ø±Ø¨Ù‡)
                                                                        // Ø§Ù…ØªÛŒØ§Ø² Ø§ÙˆÙ„: Ø´Ø§Ù†Ø³ (0-50)
                                                                        const player1Luck = Math.floor(Math.random() * 51);
                                                                        const player2Luck = Math.floor(Math.random() * 51);

                                                                        // Ø§Ù…ØªÛŒØ§Ø² Ø¯ÙˆÙ…: ØªØ¬Ø±Ø¨Ù‡ - Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù„ Ú©Ø§Ø±Ø¨Ø± (0-30)
                                                                        const player1Total = duelUserData.balance + (duelUserData.bank || 0) + (duelUserData.investment || 0);
                                                                        const player2Total = duelTargetData.balance + (duelTargetData.bank || 0) + (duelTargetData.investment || 0);

                                                                        const player1Exp = Math.min(30, Math.floor(player1Total / 100));
                                                                        const player2Exp = Math.min(30, Math.floor(player2Total / 100));

                                                                        // Ø§Ù…ØªÛŒØ§Ø² Ø³ÙˆÙ…: ØªØµØ§Ø¯ÙÛŒ (0-20)
                                                                        const player1Random = Math.floor(Math.random() * 21);
                                                                        const player2Random = Math.floor(Math.random() * 21);

                                                                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ
                                                                        const player1Score = player1Luck + player1Exp + player1Random;
                                                                        const player2Score = player2Luck + player2Exp + player2Random;

                                                                        // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
                                                                        let duelResultText = '';
                                                                        if (player1Score > player2Score) {
                                                                            // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                            duelUserData.balance += duelBet;
                                                                            duelTargetData.balance -= duelBet;
                                                                            duelResultText = `ğŸ† **${interaction.user.username}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${player1Score}** Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ **${player2Score}** Ù¾ÛŒØ±ÙˆØ² Ø´Ø¯ Ùˆ ${duelBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                        } else if (player1Score < player2Score) {
                                                                            // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                                                            duelUserData.balance -= duelBet;
                                                                            duelTargetData.balance += duelBet;
                                                                            duelResultText = `ğŸ† **${duelTarget.username}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${player2Score}** Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ **${player1Score}** Ù¾ÛŒØ±ÙˆØ² Ø´Ø¯ Ùˆ ${duelBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                                                        } else {
                                                                            // Ù…Ø³Ø§ÙˆÛŒ - Ù†Ø§Ø¯Ø±
                                                                            duelResultText = `ğŸ˜® Ø¨Ø§ÙˆØ±Ù†Ú©Ø±Ø¯Ù†ÛŒ! Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ù†ØªÛŒØ¬Ù‡ **${player1Score}-${player2Score}** Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                                                        }

                                                                        saveData();

                                                                        // Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„
                                                                        const duelResultEmbed = new EmbedBuilder()
                                                                            .setTitle('ğŸ† Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„')
                                                                            .setColor('#8E44AD')
                                                                            .setDescription(`**${interaction.user.username}** (${player1Score}) vs **${duelTarget.username}** (${player2Score})\n\n${duelResultText}\n\n**Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ù…ØªÛŒØ§Ø²Ø§Øª**:\n${interaction.user.username}: Ø´Ø§Ù†Ø³ ${player1Luck} + ØªØ¬Ø±Ø¨Ù‡ ${player1Exp} + ØªØµØ§Ø¯ÙÛŒ ${player1Random} = ${player1Score}\n${duelTarget.username}: Ø´Ø§Ù†Ø³ ${player2Luck} + ØªØ¬Ø±Ø¨Ù‡ ${player2Exp} + ØªØµØ§Ø¯ÙÛŒ ${player2Random} = ${player2Score}`)
                                                                            .setFooter({ text: 'Ø¯ÙˆØ¦Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                                                                        const duelRematchButton = new ActionRowBuilder()
                                                                            .addComponents(
                                                                                new ButtonBuilder()
                                                                                    .setCustomId(`duel_rematch_${interaction.user.id}_${duelTarget.id}_${duelBet}`)
                                                                                    .setLabel('ğŸ”„ Ø¯ÙˆØ¦Ù„ Ù…Ø¬Ø¯Ø¯')
                                                                                    .setStyle(ButtonStyle.Primary)
                                                                            );

                                                                        await i.editReply({ 
                                                                            embeds: [duelResultEmbed], 
                                                                            components: [duelRematchButton] 
                                                                        });
                                                                    });

                                                                    duelButtonCollector.on('end', collected => {
                                                                        if (collected.size === 0) {
                                                                            interaction.followUp({ 
                                                                                content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                                                                ephemeral: true
                                                                            });
                                                                        }
                                                                    });
                                                                } catch (err) {
                                                                    console.error(err);
                                                                    await interaction.followUp({
                                                                        content: 'âŒ Ø´Ù…Ø§ Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ù…Ù†Ø´Ù† Ù†Ú©Ø±Ø¯ÛŒØ¯ ÛŒØ§ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                                                        ephemeral: true
                                                                    });
                                                                }
                                                                break;
                                                        }
                                                    } catch (error) {
                                                        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡:', error);
                                                        await interaction.reply({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
                                                    }

                                                }
                                            }
                                            });

                                            // Ø®Ø·Ø§ÛŒØ§Ø¨ÛŒ Ú©Ù„ÛŒ ØªØ¹Ø§Ù…Ù„
                                            client.on('interactionError', async (interaction, error) => {
                                                console.error('âŒ Ø®Ø·Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø¯Ø± ØªØ¹Ø§Ù…Ù„:', error);
                                                // Ø³Ø¹ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±ÙˆØ² Ø®Ø·Ø§ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù„Ø§Ø¹ Ø¯Ù‡ÛŒÙ…
                                                try {
                                                    if (!interaction.deferred && !interaction.replied) {
                                                        await interaction.reply({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
                                                    } else {
                                                        await interaction.followUp({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
                                                    }
                                                } catch (finalError) {
                                                    console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ÛŒ Ù†Ù‡Ø§ÛŒÛŒ:', finalError);
                                                }
                                            });

                                            // ØªÙ†Ø¸ÛŒÙ… ÙÙˆØ§ØµÙ„ Ø²Ù…Ø§Ù†ÛŒ - Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡
                                            const ONE_MINUTE_MS = 60000; // 1 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                                            const ONE_HOUR_MS = 3600000; // 1 Ø³Ø§Ø¹Øª Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                                            const ONE_DAY_MS = 86400000; // 24 Ø³Ø§Ø¹Øª Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                                            let lastInvestmentUpdate = Date.now();
                                            let lastAutoSave = Date.now();
                                            let lastStealWindowCheck = Date.now();

                                            // Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‡Ø± 10 Ø¯Ù‚ÛŒÙ‚Ù‡
                                            const autoSaveInterval = setInterval(() => {
                                                const now = Date.now();
                                                if (now - lastAutoSave >= 10 * ONE_MINUTE_MS) {
                                                    saveData();
                                                    lastAutoSave = now;
                                                    console.log('ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.');
                                                }
                                            }, 10 * ONE_MINUTE_MS); // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ø± 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù‡Ø± Ø¯Ù‚ÛŒÙ‚Ù‡

                                            // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù‡Ø± ÛŒÚ© Ø³Ø§Ø¹Øª
                                            const stealWindowInterval = setInterval(() => {
                                                const isStealActive = checkStealWindow();
                                                lastStealWindowCheck = Date.now();

                                                if (isStealActive) {
                                                    console.log('ğŸ”” Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª!');
                                                }
                                            }, ONE_HOUR_MS); // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ø± Ø³Ø§Ø¹Øª

                                            // Ø¨Ø±Ø±Ø³ÛŒ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡Ø± Ø±ÙˆØ²
                                            const investmentInterval = setInterval(() => {
                                                const now = Date.now();
                                                // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ 30 Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡ Ø§Ø³Øª
                                                if (now - lastInvestmentUpdate >= 30 * ONE_DAY_MS) {
                                                    let updated = false;
                                                    let investorCount = 0;

                                                    for (const userId in users) {
                                                        const user = users[userId];
                                                        if (user.investment && user.investment > 0) {
                                                            const profit = Math.floor(user.investment * INVESTMENT_RATE);
                                                            user.balance += profit;
                                                            updated = true;
                                                            investorCount++;
                                                        }
                                                    }

                                                    if (updated) {
                                                        console.log(`ğŸ’¹ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ ${investorCount} Ú©Ø§Ø±Ø¨Ø± Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯!`);
                                                        saveData();
                                                        lastInvestmentUpdate = now;
                                                    }
                                                }
                                            }, ONE_DAY_MS); // Ù‡Ø± Ø±ÙˆØ² Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…

                                            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø±ÙˆØ¬ Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ØªØ§ÛŒÙ…Ø±Ù‡Ø§
                                            process.on('SIGINT', () => {
                                              clearInterval(autoSaveInterval);
                                              clearInterval(stealWindowInterval);
                                              clearInterval(investmentInterval);
                                              saveData(); // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø®Ø±ÙˆØ¬
                                              console.log('ğŸ‘‹ Ø®Ø±ÙˆØ¬ Ø§ÛŒÙ…Ù†...');
                                              process.exit(0);
                                            });

                                            client.once('ready', () => {
                                                console.log(`âœ… ${client.user.tag} Ø¢Ù†Ù„Ø§ÛŒÙ† Ø´Ø¯!`);

                                                // Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡
                                                setInterval(() => {
                                                    // Ø§Ø¬Ø±Ø§ÛŒ garbage collector Ø¯Ø³ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ø²Ø§Ø¯Ø³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡
                                                    if (global.gc) {
                                                        global.gc();
                                                        console.log('ğŸ§¹ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
                                                    }
                                                }, 30 * 60 * 1000); // Ù‡Ø± 30 Ø¯Ù‚ÛŒÙ‚Ù‡
                                            });

                                            // ÙˆØ±ÙˆØ¯ Ø±Ø¨Ø§Øª Ø¨Ø§ ØªÙˆÚ©Ù†
                                            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ÛŒ Ú©Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø±Ø´ Ø±Ø¨Ø§Øª
                                            process.on('unhandledRejection', (error) => {
                                                console.error('âŒ Ø®Ø·Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø´Ø¯Ù‡:', error);
                                            });

                                            // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯ Ø¨Ø§ Ú†Ù†Ø¯ Ø¨Ø§Ø± ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø®ÙˆØ¯Ú©Ø§Ø±
                                            let loginAttempts = 0;
                                            const maxLoginAttempts = 5; // Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§
                                            let reconnectTimeout = null;

                                            function attemptLogin() {
                                                loginAttempts++;
                                                console.log(`ğŸ”„ ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯ (${loginAttempts}/${maxLoginAttempts})...`);

                                                try {
                                                    client.login(TOKEN).then(() => {
                                                        console.log(`âœ… ${client.user.tag} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆØ§Ø±Ø¯ Ø´Ø¯!`);
                                                        loginAttempts = 0;

                                                        // ØªÙ†Ø¸ÛŒÙ… Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ø± 12 Ø³Ø§Ø¹Øª  Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø´Ú©Ù„Ø§Øª Ø§Ø­ØªÙ…Ø§Ù„ÛŒ
                                                        const twelveHours = 12 * 60 * 60 * 1000;

                                                        // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ØªØ§ÛŒÙ…Ø± Ù‚Ø¨Ù„ÛŒ Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                                                        if (reconnectTimeout) {
                                                            clearTimeout(reconnectTimeout);
                                                        }

                                                        reconnectTimeout = setTimeout(() => {
                                                            console.log('ğŸ”„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø³ Ø§Ø² 12 Ø³Ø§Ø¹Øª...');
                                                            client.destroy();
                                                            setTimeout(attemptLogin, 5000);
                                                        }, twelveHours);

                                                    }).catch(error => {
                                                        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯:', error.message);

                                                        if (loginAttempts < maxLoginAttempts) {
                                                            const retryDelay = Math.min(30000, 5000 * loginAttempts); // Ø§ÙØ²Ø§ÛŒØ´ ØªØ¯Ø±ÛŒØ¬ÛŒ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø±
                                                            console.log(`â±ï¸ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¯Ø± ${retryDelay/1000} Ø«Ø§Ù†ÛŒÙ‡ Ø¯ÛŒÚ¯Ø±...`);
                                                            setTimeout(attemptLogin, retryDelay);
                                                        } else {
                                                            console.error('âŒ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø¯Ø§Ú©Ø«Ø± Ø±Ø³ÛŒØ¯. Ù„Ø·ÙØ§Ù‹ ØªÙˆÚ©Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.');
                                                            console.error('Ù„Ø·ÙØ§Ù‹ ØªÙˆÚ©Ù† ØµØ­ÛŒØ­ Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯');

                                                            // Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ± Ø®Ø·Ø§ØŒ Ø¨Ù‡ Ø¬Ø§ÛŒ Ø®Ø±ÙˆØ¬ Ú©Ø§Ù…Ù„ØŒ ÙÙ‚Ø· Ù‡Ø´Ø¯Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…
                                                            console.error('âš ï¸ Ø±Ø¨Ø§Øª Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†Ø´Ø¯Ù‡ Ø§Ù…Ø§ Ø³Ø±ÙˆØ± Ø¢Ù¾ØªØ§ÛŒÙ… Ù‡Ù…Ú†Ù†Ø§Ù† ÙØ¹Ø§Ù„ Ø§Ø³Øª.');

                                                            // ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ù¾Ø³ Ø§Ø² 5 Ø¯Ù‚ÛŒÙ‚Ù‡
                                                            console.log('ğŸ”„ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ù¾Ø³ Ø§Ø² 5 Ø¯Ù‚ÛŒÙ‚Ù‡...');
                                                            setTimeout(() => {
                                                                loginAttempts = 0; // Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡
                                                                attemptLogin();
                                                            }, 5 * 60 * 1000);
                                                        }
                                                    });
                                                } catch (error) {
                                                    console.error('âŒ Ø®Ø·Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ø¯Ø± ÙØ±Ø¢ÛŒÙ†Ø¯ ÙˆØ±ÙˆØ¯:', error);
                                                    setTimeout(() => {
                                                        attemptLogin();
                                                    }, 10000);
                                                }
                                            }

                                            // Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡
                                            client.on('disconnect', (event) => {
                                                console.log(`âš ï¸ Ø±Ø¨Ø§Øª Ù‚Ø·Ø¹ Ø´Ø¯. Ú©Ø¯ Ø®Ø·Ø§: ${event.code}`);

                                                // Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ØªØ§ÛŒÙ…Ø± Ù‚Ø¨Ù„ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                                                if (reconnectTimeout) {
                                                    clearTimeout(reconnectTimeout);
                                                    reconnectTimeout = null;
                                                }

                                                // ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ù¾Ø³ Ø§Ø² 10 Ø«Ø§Ù†ÛŒÙ‡
                                                console.log('ğŸ”„ ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ù¾Ø³ Ø§Ø² 10 Ø«Ø§Ù†ÛŒÙ‡...');
                                                setTimeout(attemptLogin, 10000);
                                            });

                                            attemptLogin();