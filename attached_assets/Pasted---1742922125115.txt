بله، من بر اساس درخواست شما، یه مستند بسیار دقیق و با جزئیات بالا برای اضافه کردن قابلیت‌های زیر به ربات Ccoin آماده می‌کنم:

1. **سیستم وام و بدهی (Loans & Debt System)** - قرارگیری در بخش بانک (Bank)  
2. **سیستم حراج (Auction System)** - قرارگیری در بخش بازار کاربران (Market)  
3. **سیستم کار و شغل (Jobs & Careers)** - قرارگیری در بخش اقتصاد (Economy)  
4. **سیستم بازار سیاه (Black Market)** - قرارگیری در بخش بازار کاربران (Market)  
5. **سیستم سرمایه‌گذاری در کلن‌ها (Clan Investments)** - قرارگیری در بخش کلن‌ها (Clans)

این مستند شامل تمام جزئیات فنی، ساختار دیتابیس، جریان کار، پیام‌های Embed شده با ایموجی‌های زیبا، طراحی دکمه‌ها برای منوهای ربات دیسکورد، و ظاهر شیک و خفنه. هدف اینه که هوش مصنوعی بتونه این قابلیت‌ها رو به درستی پیاده‌سازی کنه و توی بخش‌های مناسب قرار بده.

---

### مستند جامع برای اضافه کردن قابلیت‌های جدید به سیستم اقتصادی ربات Ccoin

#### مقدمه
این مستند برای اضافه کردن قابلیت‌های جدید به سیستم اقتصادی ربات Ccoin طراحی شده. هر قابلیت باید توی بخش مشخص‌شده قرار بگیره تا ساختار ربات منظم و کاربرپسند بمونه. تمام پیام‌ها با Embedهای زیبا، ایموجی‌های جذاب، و دکمه‌های شیک طراحی شدن تا تجربه کاربری بهتری ارائه بدن.

---

### 1. سیستم وام و بدهی (Loans & Debt System) - بخش بانک (Bank)
#### 1.1. توضیح
این سیستم به کاربرا اجازه می‌ده از بانک وام بگیرن و با سود مشخصی اون رو برگردونن. این قابلیت باید توی **بخش بانک (Bank)** ربات قرار بگیره و با سیستم بانکی فعلی (واریز، برداشت، سود بانکی) هم‌خوانی داشته باشه.

#### 1.2. جزئیات
- **گرفتن وام:**
  - کاربر می‌تونه تا 50% موجودی بانکیش وام بگیره.
  - سود وام: 5% برای هر 7 روز.
  - مدت زمان بازپرداخت: 14 روز.
  - جریمه دیرکرد: 10% اضافه به مبلغ وام.
- **امتیاز اعتبار (Credit Score):**
  - هر کاربر یه امتیاز اعتبار داره (0 تا 100).
  - بازپرداخت به موقع: +10 امتیاز.
  - دیرکرد: -20 امتیاز.
  - امتیاز زیر 30: محدودیت وام (حداکثر 1000 Ccoin).
- **دستورات:**
  - `/bank loan request <amount>`: درخواست وام.
  - `/bank loan status`: نمایش وضعیت وام.
  - `/bank loan repay <amount>`: بازپرداخت وام.

#### 1.3. ساختار دیتابیس
- **جدول وام‌ها (Loans):**
  - `loan_id`: شناسه وام (رشته، کلید اصلی)
  - `user_id`: شناسه کاربر (رشته)
  - `amount`: مقدار وام (عدد)
  - `interest`: سود (عدد)
  - `due_date`: تاریخ سررسید (تاریخ و ساعت)
  - `status`: وضعیت ("active", "repaid", "overdue") (رشته)
- **جدول کاربران (Users):**
  - `credit_score`: امتیاز اعتبار (عدد، پیش‌فرض 50)

#### 1.4. جریان کار و طراحی رابط کاربری
- **درخواست وام:**
  - **دستور:** `/bank loan request <amount>`
  - **پیام Embed:**
    ```plaintext
    🏦 درخواست وام از بانک Ccoin
    📊 موجودی بانکی شما: 10,000 Ccoin
    💰 حداکثر وام: 5,000 Ccoin
    📝 مقدار درخواستی: <amount> Ccoin
    💸 سود: 5% (250 Ccoin بعد از 7 روز)
    ⏰ مدت بازپرداخت: 14 روز
    ```
  - **دکمه‌ها:**
    - ✅ **[تأیید]** (سبز)
    - ❌ **[لغو]** (قرمز)
- **وضعیت وام:**
  - **دستور:** `/bank loan status`
  - **پیام Embed:**
    ```plaintext
    🏦 وضعیت وام شما
    💰 مقدار وام: 5,000 Ccoin
    💸 سود: 250 Ccoin
    ⏰ زمان باقی‌مونده: 5 روز
    📊 امتیاز اعتبار شما: 70
    ```
  - **دکمه‌ها:**
    - 💳 **[بازپرداخت]** (آبی)
- **بازپرداخت وام:**
  - **دستور:** `/bank loan repay <amount>`
  - **پیام Embed:**
    ```plaintext
    🏦 بازپرداخت وام
    💰 مقدار وام: 5,000 Ccoin
    💸 سود: 250 Ccoin
    📝 مقدار بازپرداخت: <amount> Ccoin
    ```
  - **دکمه‌ها:**
    - ✅ **[تأیید بازپرداخت]** (سبز)
    - ❌ **[لغو]** (قرمز)

#### 1.5. نکات پیاده‌سازی
- **محدودیت:** کاربر فقط می‌تونه یه وام فعال داشته باشه.
- **جریمه:** اگه وام سررسید بشه و پرداخت نشه، جریمه از کیف پول کاربر کسر بشه.
- **اعلان:** 24 ساعت قبل از سررسید، یه اعلان توی DM کاربر بفرست:
  ```
  🔔 یادآوری وام
  وام شما (5,000 Ccoin) فردا سررسید می‌شه! لطفاً بازپرداخت کن.
  ```

---

### 2. سیستم حراج (Auction System) - بخش بازار کاربران (Market)
#### 2.1. توضیح
این سیستم به کاربرا اجازه می‌ده آیتم‌ها، Ccoin، یا کریستالشون رو توی یه حراج عمومی بفروشن و بقیه کاربرا روش پیشنهاد (Bid) بدن. این قابلیت باید توی **بخش بازار کاربران (Market)** قرار بگیره.

#### 2.2. جزئیات
- **ایجاد حراج:**
  - کاربر می‌تونه آیتم، Ccoin، یا کریستال رو برای حراج بذاره.
  - قیمت پایه (Starting Bid) و مدت زمان (12، 24، یا 48 ساعت) تعیین کنه.
- **پیشنهاد دادن:**
  - کاربرا می‌تونن روی حراج پیشنهاد بدن.
  - اگه پیشنهاد جدید بالاتر باشه، پیشنهاد قبلی لغو می‌شه و Ccoin به کاربر قبلی برگردونده می‌شه.
- **پایان حراج:**
  - بالاترین پیشنهاد برنده می‌شه.
  - کارمزد 5% از فروشنده گرفته می‌شه.
- **دستورات:**
  - `/market auction create <item> <starting_bid> <duration>`: ایجاد حراج.
  - `/market auction list`: نمایش حراج‌های فعال.
  - `/market auction bid <auction_id> <amount>`: پیشنهاد دادن.

#### 2.3. ساختار دیتابیس
- **جدول حراج‌ها (Auctions):**
  - `auction_id`: شناسه حراج (رشته، کلید اصلی)
  - `seller_id`: شناسه فروشنده (رشته)
  - `item`: آیتم (شیء: `{ type: "item", id: "item_id", quantity: 1 }`)
  - `starting_bid`: قیمت پایه (عدد)
  - `current_bid`: پیشنهاد فعلی (عدد)
  - `highest_bidder_id`: شناسه بالاترین پیشنهاددهنده (رشته)
  - `end_time`: زمان پایان (تاریخ و ساعت)

#### 2.4. جریان کار و طراحی رابط کاربری
- **ایجاد حراج:**
  - **دستور:** `/market auction create <item> <starting_bid> <duration>`
  - **پیام Embed:**
    ```plaintext
    🛍️ ایجاد حراج در بازار کاربران
    🎁 آیتم: <item>
    💰 قیمت پایه: <starting_bid> Ccoin
    ⏰ مدت زمان: <duration>
    💸 کارمزد فروش: 5%
    ```
  - **دکمه‌ها:**
    - ✅ **[تأیید حراج]** (سبز)
    - ❌ **[لغو]** (قرمز)
- **مشاهده حراج‌ها:**
  - **دستور:** `/market auction list`
  - **پیام Embed:**
    ```plaintext
    🛍️ حراج‌های فعال در بازار کاربران
    1️⃣ آیتم: افزایش شانس دزدی
    💰 قیمت فعلی: 1500 Ccoin
    👤 پیشنهاددهنده: کاربر#1234
    ⏰ زمان باقی‌مونده: 10 ساعت
    ```
  - **دکمه‌ها:**
    - 💵 **[پیشنهاد دادن]** (آبی)
    - 📜 **[جزئیات]** (خاکستری)
- **پیشنهاد دادن:**
  - **دستور:** `/market auction bid <auction_id> <amount>`
  - **پیام Embed:**
    ```plaintext
    🛍️ پیشنهاد برای حراج #<auction_id>
    🎁 آیتم: افزایش شانس دزدی
    💰 قیمت فعلی: 1500 Ccoin
    📝 پیشنهاد شما: <amount> Ccoin
    ```
  - **دکمه‌ها:**
    - ✅ **[تأیید پیشنهاد]** (سبز)
    - ❌ **[لغو]** (قرمز)

#### 2.5. نکات پیاده‌سازی
- **اعلان پایان حراج:** وقتی حراج تموم می‌شه، به فروشنده و برنده اعلان بفرست:
  ```
  🎉 حراج شما (#<auction_id>) تموم شد!
  برنده: کاربر#1234 با 2000 Ccoin
  ```
- **محدودیت:** کاربر نمی‌تونه روی حراج خودش پیشنهاد بده.

---

### 3. سیستم کار و شغل (Jobs & Careers) - بخش اقتصاد (Economy)
#### 3.1. توضیح
این سیستم به کاربرا اجازه می‌ده یه شغل انتخاب کنن و درآمد منظم داشته باشن. این قابلیت باید توی **بخش اقتصاد (Economy)** قرار بگیره.

#### 3.2. جزئیات
- **شغل‌ها:**
  - کارگر معدن: 200 Ccoin هر 12 ساعت (بدون پیش‌نیاز).
  - تاجر: 500 Ccoin هر 12 ساعت (نیاز به 10,000 Ccoin).
  - جادوگر اقتصادی: 50 کریستال هر 24 ساعت (نیاز به 100 کریستال).
- **ارتقای شغل:**
  - هر شغل 5 لِوِل داره.
  - هر بار که حقوق می‌گیره، 10 XP شغلی می‌گیره.
  - لِوِل آپ: هر لِوِل 50 XP نیاز داره، و درآمد 10% افزایش پیدا می‌کنه.
- **دستورات:**
  - `/economy job list`: نمایش شغل‌ها.
  - `/economy job select <job>`: انتخاب شغل.
  - `/economy job work`: دریافت حقوق.
  - `/economy job status`: نمایش وضعیت شغل.

#### 3.3. ساختار دیتابیس
- **جدول شغل‌ها (Jobs):**
  - `user_id`: شناسه کاربر (رشته، کلید اصلی)
  - `job`: شغل انتخاب‌شده (رشته، مثلاً "miner")
  - `level`: لِوِل شغل (عدد)
  - `xp`: امتیاز تجربه شغل (عدد)
  - `last_work`: زمان آخرین دریافت حقوق (تاریخ و ساعت)

#### 3.4. جریان کار و طراحی رابط کاربری
- **مشاهده شغل‌ها:**
  - **دستور:** `/economy job list`
  - **پیام Embed:**
    ```plaintext
    💼 شغل‌های موجود در بخش اقتصاد
    1️⃣ کارگر معدن
    💰 درآمد: 200 Ccoin هر 12 ساعت
    📋 پیش‌نیاز: ندارد
    2️⃣ تاجر
    💰 درآمد: 500 Ccoin هر 12 ساعت
    📋 پیش‌نیاز: 10,000 Ccoin
    3️⃣ جادوگر اقتصادی
    💎 درآمد: 50 کریستال هر 24 ساعت
    📋 پیش‌نیاز: 100 کریستال
    ```
  - **دکمه‌ها:**
    - ⚒️ **[انتخاب کارگر معدن]** (خاکستری)
    - 🧳 **[انتخاب تاجر]** (آبی)
    - 🪄 **[انتخاب جادوگر اقتصادی]** (بنفش)
- **دریافت حقوق:**
  - **دستور:** `/economy job work`
  - **پیام Embed:**
    ```plaintext
    💼 دریافت حقوق از بخش اقتصاد
    🛠️ شغل: کارگر معدن (لِوِل 2)
    💰 حقوق: 220 Ccoin
    ⏰ زمان بعدی: 12 ساعت بعد
    📈 XP شغلی: 20/50
    ```
  - **دکمه‌ها:**
    - 💸 **[دریافت حقوق]** (سبز)
- **وضعیت شغل:**
  - **دستور:** `/economy job status`
  - **پیام Embed:**
    ```plaintext
    💼 وضعیت شغل شما
    🛠️ شغل: کارگر معدن (لِوِل 2)
    💰 درآمد: 220 Ccoin هر 12 ساعت
    📈 XP شغلی: 20/50
    ⏰ زمان بعدی حقوق: 8 ساعت
    ```

#### 3.5. نکات پیاده‌سازی
- **کول‌داون:** کاربر باید 12 ساعت (یا 24 ساعت برای جادوگر اقتصادی) صبر کنه تا دوباره حقوق بگیره.
- **ارتقا:** وقتی XP به 50 رسید، لِوِل شغل بالا بره و درآمد افزایش پیدا کنه.

---

### 4. سیستم بازار سیاه (Black Market) - بخش بازار کاربران (Market)
#### 4.1. توضیح
این سیستم آیتم‌های نادر رو با ریسک بالا می‌فروشه. این قابلیت باید توی **بخش بازار کاربران (Market)** قرار بگیره و کنار سیستم حراج باشه.

#### 4.2. جزئیات
- **بازار سیاه:**
  - آیتم‌های نادر (مثلاً "طلسم دزدی 100%") با قیمت بالا (مثلاً 200 کریستال).
  - موجودی هر 48 ساعت آپدیت می‌شه.
- **ریسک:**
  - شانس 20% برای لو رفتن و جریمه (50% موجودی کیف پول).
- **دستورات:**
  - `/market blackmarket list`: نمایش آیتم‌ها.
  - `/market blackmarket buy <item_id>`: خرید آیتم.

#### 4.3. ساختار دیتابیس
- **جدول بازار سیاه (BlackMarket):**
  - `item_id`: شناسه آیتم (رشته، کلید اصلی)
  - `name`: نام آیتم (رشته)
  - `price`: قیمت (شیء: `{ ccoin: 0, crystals: 200 }`)
  - `risk`: درصد ریسک (عدد)
  - `restock_at`: زمان بعدی ری‌استاک (تاریخ و ساعت)

#### 4.4. جریان کار و طراحی رابط کاربری
- **مشاهده بازار سیاه:**
  - **دستور:** `/market blackmarket list`
  - **پیام Embed:**
    ```plaintext
    🕵️‍♂️ بازار سیاه در بخش بازار کاربران
    1️⃣ طلسم دزدی 100%
    💎 قیمت: 200 کریستال
    ⚠️ ریسک: 20% جریمه (50% موجودی کیف پول)
    ⏰ زمان ری‌استاک: 36 ساعت
    ```
  - **دکمه‌ها:**
    - 🛒 **[خرید]** (قرمز)
    - 📜 **[جزئیات]** (خاکستری)
- **خرید از بازار سیاه:**
  - **دستور:** `/market blackmarket buy <item_id>`
  - **پیام Embed (در صورت موفقیت):**
    ```plaintext
    🕵️‍♂️ خرید از بازار سیاه
    🎉 تبریک! طلسم دزدی 100% رو گرفتی و لو نرفتی!
    ```
  - **پیام Embed (در صورت شکست):**
    ```plaintext
    🕵️‍♂️ خرید از بازار سیاه
    🚨 متأسفانه لو رفتی! 50% موجودی کیف پولت (5000 Ccoin) کسر شد.
    ```

#### 4.5. نکات پیاده‌سازی
- **ری‌استاک:** یه Job هر 48 ساعت موجودی بازار سیاه رو آپدیت کنه.
- **ریسک:** از یه تابع تصادفی برای محاسبه شانس لو رفتن استفاده کن.

---

### 5. سیستم سرمایه‌گذاری در کلن‌ها (Clan Investments) - بخش کلن‌ها (Clans)
#### 5.1. توضیح
این سیستم به کاربرا اجازه می‌ده توی کلنشون سرمایه‌گذاری کنن و سود بگیرن. این قابلیت باید توی **بخش کلن‌ها (Clans)** قرار بگیره.

#### 5.2. جزئیات
- **سرمایه‌گذاری:**
  - کاربر می‌تونه Ccoin یا کریستال سرمایه‌گذاری کنه.
  - سود: 10% بعد از 7 روز.
- **ریسک:**
  - اگه کلن توی وار کلن ببازه، 30% شانس ضرر (20% از سرمایه کسر می‌شه).
- **دستورات:**
  - `/clan invest <amount>`: سرمایه‌گذاری.
  - `/clan investment status`: نمایش وضعیت.

#### 5.3. ساختار دیتابیس
- **جدول سرمایه‌گذاری‌ها (ClanInvestments):**
  - `investment_id`: شناسه سرمایه‌گذاری (رشته، کلید اصلی)
  - `user_id`: شناسه کاربر (رشته)
  - `clan_id`: شناسه کلن (رشته)
  - `amount`: مقدار سرمایه‌گذاری (عدد)
  - `profit`: سود پیش‌بینی‌شده (عدد)
  - `end_time`: زمان پایان (تاریخ و ساعت)

#### 5.4. جریان کار و طراحی رابط کاربری
- **سرمایه‌گذاری:**
  - **دستور:** `/clan invest <amount>`
  - **پیام Embed:**
    ```plaintext
    🏰 سرمایه‌گذاری در کلن قهرمانان
    💰 مقدار: <amount> Ccoin
    📈 سود: 10% بعد از 7 روز (<amount * 0.1> Ccoin)
    ⚠️ ریسک: 30% ضرر در صورت باخت وار کلن
    ```
  - **دکمه‌ها:**
    - ✅ **[تأیید سرمایه‌گذاری]** (سبز)
    - ❌ **[لغو]** (قرمز)
- **وضعیت سرمایه‌گذاری:**
  - **دستور:** `/clan investment status`
  - **پیام Embed:**
    ```plaintext
    🏰 وضعیت سرمایه‌گذاری در کلن قهرمانان
    💰 مقدار: 5000 Ccoin
    📈 سود پیش‌بینی‌شده: 500 Ccoin
    ⏰ زمان باقی‌مونده: 5 روز
    ```

#### 5.5. نکات پیاده‌سازی
- **ریسک:** بعد از هر وار کلن، یه تابع تصادفی برای محاسبه ضرر اجرا بشه.
- **اعلان:** وقتی سرمایه‌گذاری تموم شد، به کاربر اعلان بفرست:
  ```
  🏰 سرمایه‌گذاری شما تموم شد!
  سود: 500 Ccoin
  ```

---

### نکات کلی برای پیاده‌سازی
- **امنیت:**
  - برای تمام تراکنش‌ها (وام، حراج، بازار سیاه، سرمایه‌گذاری)، یه سیستم ضدچیت بذار که فعالیت‌های غیرعادی (مثلاً Ccoin جعلی) رو تشخیص بده.
  - برای وام‌ها و سرمایه‌گذاری‌ها، یه مکانیزم تأیید دو مرحله‌ای اضافه کن.
- **بهینه‌سازی:**
  - از Redis برای کش کردن داده‌های پرکاربرد (مثلاً لیست حراج‌ها یا موجودی بازار سیاه) استفاده کن.
  - برای زمان‌بندی (مثلاً ری‌استاک بازار سیاه یا سررسید وام)، از `node-schedule` استفاده کن.
- **تجربه کاربری:**
  - تمام پیام‌ها رو با Embedهای زیبا و ایموجی‌های مرتبط طراحی کن.
  - دکمه‌ها رو با رنگ‌های مناسب (سبز برای تأیید، قرمز برای لغو، آبی برای اقدامات) تنظیم کن.
- **دسته‌بندی:**
  - هوش مصنوعی باید این قابلیت‌ها رو توی بخش‌های مشخص‌شده قرار بده:
    - وام و بدهی → بخش بانک (Bank)
    - حراج و بازار سیاه → بخش بازار کاربران (Market)
    - کار و شغل → بخش اقتصاد (Economy)
    - سرمایه‌گذاری در کلن‌ها → بخش کلن‌ها (Clans)

---

### نتیجه‌گیری
این مستند شامل تمام جزئیات لازم برای اضافه کردن قابلیت‌های زیر به ربات Ccoinه:
1. **سیستم وام و بدهی:** توی بخش بانک با پیام‌های Embed شده و دکمه‌های شیک.
2. **سیستم حراج:** توی بخش بازار کاربران با طراحی جذاب.
3. **سیستم کار و شغل:** توی بخش اقتصاد با رابط کاربری کاربرپسند.
4. **سیستم بازار سیاه:** توی بخش بازار کاربران با حس هیجان و ریسک.
5. **سیستم سرمایه‌گذاری در کلن‌ها:** توی بخش کلن‌ها با تعامل گروهی.

شما می‌تونی این مستند رو به یه هوش مصنوعی دیگه بدی تا این قابلیت‌ها رو پیاده‌سازی کنه. اگه سؤالی داری یا نیاز به جزئیات بیشتری داری، بگو تا کمکت کنم! 😊🚀