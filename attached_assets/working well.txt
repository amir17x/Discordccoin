const { Client, GatewayIntentBits, SlashCommandBuilder, REST, Routes, EmbedBuilder, PermissionFlagsBits, ActionRowBuilder, ButtonBuilder, ButtonStyle } = require('discord.js');
const fs = require('fs');
const { execSync } = require('child_process');
const http = require('http');

const client = new Client({ intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent] });

// Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ± HTTP Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Uptime Robot
const server = http.createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Bot is online!');
});

server.listen(8080, '0.0.0.0', () => {
  console.log('Server started for uptime monitoring on port 8080');
});

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ
const TOKEN = process.env.DISCORD_TOKEN || process.env.TOKEN; // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² DISCORD_TOKEN ÛŒØ§ TOKEN
const CLIENT_ID = process.env.CLIENT_ID || '1346003808270024704';
const GUILD_ID = process.env.GUILD_ID || '1343951143625293867';

// Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ØªÙˆÚ©Ù†
if (!TOKEN) {
    console.error('âŒ Ø®Ø·Ø§: ØªÙˆÚ©Ù† Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯! Ù„Ø·ÙØ§Ù‹ Ø¢Ù† Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.');
    process.exit(1);
}
const COIN_NAME = 'Holi Coin'; // Ù†Ø§Ù… Ø³Ú©Ù‡
const DATA_FILE = 'data.json'; // ÙØ§ÛŒÙ„ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
const INVESTMENT_RATE = 0.05; // Ù†Ø±Ø® Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ (5%)
const ADMIN_ROLE_ID = '1343981256949497988'; // Ø¢ÛŒØ¯ÛŒ Ø±ÙˆÙ„ Ù…Ø¯ÛŒØ±
let allowedChannels = []; // Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª

// Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
const STEAL_WINDOW_DURATION = 15 * 60 * 1000; // Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ (15 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡)
const NEW_USER_PROTECTION_DAYS = 5; // Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ (5 Ø±ÙˆØ²)
const MAX_DAILY_STEALS = 5; // Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
const MAX_STEAL_PERCENTAGE = 0.2; // Ø­Ø¯Ø§Ú©Ø«Ø± Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø²Ø¯ÛŒ (20 Ø¯Ø±ØµØ¯)
let stealWindowStart = null; // Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ

let users = {};
// Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
let shopItems = [
    { id: 'role_vip', name: 'Ø±ÙˆÙ„ VIP', price: 1000, description: 'ÛŒÚ© Ø±ÙˆÙ„ ÙˆÛŒÚ˜Ù‡ Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ' },
    { id: 'custom_color', name: 'Ø±Ù†Ú¯ Ø³ÙØ§Ø±Ø´ÛŒ', price: 500, description: 'ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ù†Ø§Ù… Ø´Ù…Ø§ Ø¯Ø± Ø³Ø±ÙˆØ±' },
    { id: 'lootbox', name: 'Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³', price: 300, description: 'ÛŒÚ© Ø¬Ø¹Ø¨Ù‡ Ø¨Ø§ Ø¬ÙˆØ§ÛŒØ² ØªØµØ§Ø¯ÙÛŒ' }
];

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
if (fs.existsSync(DATA_FILE)) {
    const data = JSON.parse(fs.readFileSync(DATA_FILE));
    users = data.users || {};
    if (data.shopItems) {
        shopItems = data.shopItems;
    }
}

// Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
function saveData() {
    const data = {
        users: users,
        shopItems: shopItems
    };
    try {
        fs.writeFileSync(DATA_FILE, JSON.stringify(data, null, 2));
        console.log('âœ… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù†Ø¯');
    } catch (error) {
        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', error);
        // ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¨Ø¹Ø¯ Ø§Ø² 5 Ø«Ø§Ù†ÛŒÙ‡
        setTimeout(() => {
            try {
                fs.writeFileSync(DATA_FILE, JSON.stringify(data, null, 2));
                console.log('âœ… Ø°Ø®ÛŒØ±Ù‡ Ù…Ø¬Ø¯Ø¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
            } catch (retryError) {
                console.error('âŒ Ø®Ø·Ø§ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:', retryError);
            }
        }, 5000);
    }
}

// ØªØ§Ø¨Ø¹ Ú¯Ø±Ø¯ÙˆÙ†Ù‡
function spinWheel() {
    const rewards = [0, 10, 20, 50, 100]; // Ø¬ÙˆØ§ÛŒØ² Ù…Ù…Ú©Ù†
    return rewards[Math.floor(Math.random() * rewards.length)];
}

// Ø¯Ø±ÛŒØ§ÙØª ÛŒØ§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±
function getUser(userId) {
    if (!users[userId]) {
        users[userId] = { 
            balance: 0, 
            lastSpin: 0, 
            lastDaily: 0, 
            lastWeekly: 0, 
            bank: 0, 
            investment: 0, 
            inventory: [],
            level: 0,
            xp: 0,
            joinTime: Date.now(),
            initialClaimed: false,
            transferHistory: [],
            dailyTransferTotal: 0,
            dailyTransferReset: 0,
            // ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
            lastStealAttempts: [], // Ø¢Ø®Ø±ÛŒÙ† ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ
            dailySteals: 0, // ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
            dailyStealsReset: 0, // Ø²Ù…Ø§Ù† Ø±ÛŒØ³Øª ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
            stolenFrom: {}, // Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡
            lastTimeStolen: 0 // Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø§Ø±ÛŒ Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡
        };
    }
    return users[userId];
}

// Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
function checkStealWindow() {
    const now = Date.now();
    
    // Ø§Ú¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ ÛŒØ§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯Ù‡ Ø¨Ø§Ø´Ø¯
    if (!stealWindowStart || now > stealWindowStart + STEAL_WINDOW_DURATION) {
        // ØªÙ†Ø¸ÛŒÙ… ÛŒÚ© Ø²Ù…Ø§Ù† ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ø·ÙˆÙ„ 24 Ø³Ø§Ø¹Øª Ø¢ÛŒÙ†Ø¯Ù‡
        const oneDayMs = 24 * 60 * 60 * 1000; // 24 Ø³Ø§Ø¹Øª Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
        const randomOffset = Math.floor(Math.random() * (oneDayMs - STEAL_WINDOW_DURATION));
        stealWindowStart = now + randomOffset;
        
        console.log(`ğŸ•’ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¬Ø¯ÛŒØ¯ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯: ${new Date(stealWindowStart).toLocaleString()}`);
        return false;
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù‡Ø³ØªÛŒÙ…
    return now >= stealWindowStart && now < (stealWindowStart + STEAL_WINDOW_DURATION);
}

// Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
function canSteal(stealerId, targetId) {
    const now = Date.now();
    const stealer = getUser(stealerId);
    const target = getUser(targetId);
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
    const isStealWindowActive = checkStealWindow();
    if (!isStealWindowActive) {
        return { allowed: false, reason: 'âŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø§Ø² Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø§Ù„Ø§Ù† Ø²Ù…Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†ÛŒØ³Øª.' };
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ (5 Ø±ÙˆØ²)
    const fiveDaysMs = NEW_USER_PROTECTION_DAYS * 24 * 60 * 60 * 1000;
    if (now - target.joinTime < fiveDaysMs) {
        return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± ØªØ§Ø²Ù‡ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù¾ÛŒÙˆØ³ØªÙ‡ Ùˆ ÙØ¹Ù„Ø§Ù‹ Ù…Ø­Ø§ÙØ¸Øª Ø´Ø¯Ù‡ Ø§Ø³Øª!' };
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡
    const oneDayMs = 24 * 60 * 60 * 1000;
    if (now - stealer.dailyStealsReset > oneDayMs) {
        stealer.dailySteals = 0;
        stealer.dailyStealsReset = now;
        stealer.stolenFrom = {}; // Ø±ÛŒØ³Øª Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡
    }
    
    if (stealer.dailySteals >= MAX_DAILY_STEALS) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ù‚Ù Ø¯Ø²Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ (${MAX_DAILY_STEALS} Ø¨Ø§Ø±) Ø±Ø³ÛŒØ¯Ù‡â€ŒØ§ÛŒØ¯! ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.` };
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Øµ Ø¨ÛŒØ´ Ø§Ø² 1 Ø¨Ø§Ø± Ø¯Ø± Ø±ÙˆØ²
    if (stealer.stolenFrom[targetId] && (now - stealer.stolenFrom[targetId]) < oneDayMs) {
        return { allowed: false, reason: 'âŒ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø¯Ø²Ø¯ÛŒ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.' };
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù (Ø§Ú¯Ø± Ø¯Ø± 24 Ø³Ø§Ø¹Øª Ø§Ø®ÛŒØ± Ø§Ø² Ø§Ùˆ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
    if (target.lastTimeStolen && (now - target.lastTimeStolen) < oneDayMs) {
        // Ø´Ø§Ù†Ø³ 50-50 Ø¨Ø±Ø§ÛŒ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø²Ø¯ÛŒ
        if (Math.random() < 0.5) {
            return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø®ÛŒØ±Ø§Ù‹ Ù…ÙˆØ±Ø¯ Ø¯Ø²Ø¯ÛŒ Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ùˆ Ù‡ÙˆØ´ÛŒØ§Ø± Ø§Ø³Øª! Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯.' };
        }
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
    if (target.balance <= 0) {
        return { allowed: false, reason: 'âŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø¬ÛŒØ¨ Ø®ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!' };
    }
    
    return { allowed: true };
}

// Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ù„ÙˆÙ„ Ø¢Ù¾
function addXP(userId, amount) {
    const userData = getUser(userId);
    userData.xp += amount;

    // Ø¨Ø±Ø±Ø³ÛŒ Ù„ÙˆÙ„ Ø¢Ù¾ - Ù‡Ø± 100 XP ÛŒÚ© Ù„ÙˆÙ„ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯
    const newLevel = Math.floor(userData.xp / 100);
    if (newLevel > userData.level) {
        userData.level = newLevel;
        return true; // Ù„ÙˆÙ„ Ø¢Ù¾ Ø´Ø¯
    }
    return false; // Ù„ÙˆÙ„ Ø¢Ù¾ Ù†Ø´Ø¯
}

// Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡Ø¯
function canTransferCoins(userId, targetId, amount) {
    const userData = getUser(userId);
    const now = Date.now();

    // Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø·Ø­ Ú©Ø§Ø±Ø¨Ø± - Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Ù„ÙˆÙ„ 5 Ø¨Ø§Ø´Ø¯
    if (userData.level < 5) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Ù„ÙˆÙ„ 5 Ø¨Ø§Ø´ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡ÛŒØ¯ (Ù„ÙˆÙ„ ÙØ¹Ù„ÛŒ: ${userData.level})` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù‚Ù Ø±ÙˆØ²Ø§Ù†Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ (500 Ø³Ú©Ù‡)
    const MAX_DAILY_TRANSFER = 500;

    // Ø§Ú¯Ø± Ø±ÙˆØ² Ø¬Ø¯ÛŒØ¯ÛŒ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø±Ø§ Ø±ÛŒØ³Øª Ú©Ù†ÛŒÙ…
    const oneDayMs = 86400000;
    if (now - userData.dailyTransferReset > oneDayMs) {
        userData.dailyTransferTotal = 0;
        userData.dailyTransferReset = now;
    }

    if (userData.dailyTransferTotal + amount > MAX_DAILY_TRANSFER) {
        return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² ${MAX_DAILY_TRANSFER} ${COIN_NAME} Ø¯Ø± Ø±ÙˆØ² Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ù‡ÛŒØ¯ (${userData.dailyTransferTotal} Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡)` };
    }

    // Ø¨Ø±Ø±Ø³ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ø§Ù†ØªÙ‚Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…ØªÙˆØ§Ù„ÛŒ Ø¨Ù‡ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø®Ø§Øµ
    // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† 3 Ø§Ù†ØªÙ‚Ø§Ù„ Ø¢Ø®Ø±
    const recentTransfers = userData.transferHistory
        .filter(t => t.targetId === targetId)
        .slice(-3);

    // Ø§Ú¯Ø± 3 Ø§Ù†ØªÙ‚Ø§Ù„ Ù…ØªÙˆØ§Ù„ÛŒ Ø¨Ù‡ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ù„Ø§Ú© Ù…ÛŒâ€ŒØ´ÙˆØ¯
    if (recentTransfers.length >= 3) {
        const lastTransferTime = recentTransfers[recentTransfers.length - 1].time;
        // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ 24 Ø³Ø§Ø¹Øª Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ù†ØªÙ‚Ø§Ù„ Ú¯Ø°Ø´ØªÙ‡ Ø§Ø³Øª
        if (now - lastTransferTime < oneDayMs) {
            return { allowed: false, reason: `âŒ Ø´Ù…Ø§ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ù…Ø¬Ø§Ø² Ø¨Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø³Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ù„Ø·ÙØ§Ù‹ 24 Ø³Ø§Ø¹Øª ØµØ¨Ø± Ú©Ù†ÛŒØ¯.` };
        }
    }

    return { allowed: true };
}

// Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
function recordTransfer(userId, targetId, amount) {
    const userData = getUser(userId);
    const now = Date.now();

    // Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
    userData.transferHistory.push({
        targetId: targetId,
        amount: amount,
        time: now
    });

    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡
    userData.dailyTransferTotal += amount;

    // Ø§Ú¯Ø± Ø§ÛŒÙ† Ø§ÙˆÙ„ÛŒÙ† Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙˆØ² Ø§Ø³ØªØŒ Ø²Ù…Ø§Ù† Ø±ÛŒØ³Øª Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ…
    if (userData.dailyTransferReset === 0) {
        userData.dailyTransferReset = now;
    }

    saveData();
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø¹Ø¯Ø¯ ØªØ§Ø³ Ø¨Ù‡ Ø§ÛŒÙ…ÙˆØ¬ÛŒ
function getDiceEmoji(roll) {
    switch (roll) {
        case 1: return ':one:';
        case 2: return ':two:';
        case 3: return ':three:';
        case 4: return ':four:';
        case 5: return ':five:';
        case 6: return ':six:';
        default: return '';
    }
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
function hasAdminRole(member) {
    return member.roles.cache.has(ADMIN_ROLE_ID) || member.permissions.has(PermissionFlagsBits.Administrator);
}


// ØªØ¹Ø±ÛŒÙ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´
const commands = [
    new SlashCommandBuilder().setName('balance').setDescription('Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§'),
    new SlashCommandBuilder().setName('spin').setDescription('Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡'),
    new SlashCommandBuilder().setName('leaderboard').setDescription('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†'),
    new SlashCommandBuilder().setName('ping').setDescription('Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨ÙˆØ¯Ù† Ø±Ø¨Ø§Øª'),
    new SlashCommandBuilder().setName('claim').setDescription('Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ (ÙÙ‚Ø· ÛŒÚ©Ø¨Ø§Ø±)'),
    new SlashCommandBuilder().setName('level').setDescription('Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ø´Ù…Ø§'),

    // Ø¯Ø³ØªÙˆØ± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
    new SlashCommandBuilder()
        .setName('steal')
        .setDescription('Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true)),

    // Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¬Ø¯ÛŒØ¯
    new SlashCommandBuilder()
        .setName('transfer')
        .setDescription('Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

    new SlashCommandBuilder()
        .setName('daily')
        .setDescription('Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡'),

    new SlashCommandBuilder()
        .setName('bankdeposit')
        .setDescription('ÙˆØ§Ø±ÛŒØ² Ø³Ú©Ù‡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

    new SlashCommandBuilder()
        .setName('bankwithdraw')
        .setDescription('Ø¨Ø±Ø¯Ø§Ø´Øª Ø³Ú©Ù‡ Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

    new SlashCommandBuilder()
        .setName('invest')
        .setDescription('Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ Ø¨Ø§ Ù†Ø±Ø® Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡')
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true)),

    new SlashCommandBuilder()
        .setName('profile')
        .setDescription('Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø®ÙˆØ¯ ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(false)),

    new SlashCommandBuilder()
        .setName('menu')
        .setDescription('Ù†Ù…Ø§ÛŒØ´ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ø±Ø¨Ø§Øª'),

    // Ø¯Ø³ØªÙˆØ± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù†)
    new SlashCommandBuilder()
        .setName('restart')
        .setDescription('Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    // Ø¯Ø³ØªÙˆØ± Ù…Ø®ØµÙˆØµ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§
    new SlashCommandBuilder()
        .setName('setchannel')
        .setDescription('ØªÙ†Ø¸ÛŒÙ… Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†)')
        .addChannelOption(option => option.setName('channel').setDescription('Ú©Ø§Ù†Ø§Ù„ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    new SlashCommandBuilder()
        .setName('addcoins')
        .setDescription('Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†)')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    new SlashCommandBuilder()
        .setName('shop')
        .setDescription('ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ùˆ Ø®Ø±ÛŒØ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª'),

    new SlashCommandBuilder()
        .setName('dice')
        .setDescription('Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
        .addIntegerOption(option => option.setName('bet').setDescription('Ù…Ø¨Ù„Øº Ø´Ø±Ø·').setRequired(true)),

    // Ø¯Ø³ØªÙˆØ± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
    new SlashCommandBuilder()
        .setName('adminpanel')
        .setDescription('Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø¨Ø§Øª (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    // Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ø¬Ø¯ÛŒØ¯
    new SlashCommandBuilder()
        .setName('setcoin')
        .setDescription('ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
        .addIntegerOption(option => option.setName('amount').setDescription('Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø³Ú©Ù‡').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    new SlashCommandBuilder()
        .setName('additem')
        .setDescription('Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .addStringOption(option => option.setName('name').setDescription('Ù†Ø§Ù… Ø¢ÛŒØªÙ…').setRequired(true))
        .addIntegerOption(option => option.setName('price').setDescription('Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ…').setRequired(true))
        .addStringOption(option => option.setName('description').setDescription('ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¢ÛŒØªÙ…').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    new SlashCommandBuilder()
        .setName('removeitem')
        .setDescription('Ø­Ø°Ù Ø¢ÛŒØªÙ… Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .addStringOption(option => option.setName('id').setDescription('Ø´Ù†Ø§Ø³Ù‡ Ø¢ÛŒØªÙ…').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator),

    new SlashCommandBuilder()
        .setName('resetdata')
        .setDescription('Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± (ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù†)')
        .addUserOption(option => option.setName('user').setDescription('Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±').setRequired(true))
        .setDefaultMemberPermissions(PermissionFlagsBits.Administrator)
];

// Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù…Ø¹ØªØ¨Ø± Ø¨ÙˆØ¯Ù† ØªÙˆÚ©Ù† Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡
console.log('ØªÙˆÚ©Ù† Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡:', TOKEN ? `${TOKEN.substring(0, 5)}...` : 'undefined');
if (!TOKEN || TOKEN === 'undefined') {
    console.error('âŒ Ø®Ø·Ø§: ØªÙˆÚ©Ù† Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª! Ù„Ø·ÙØ§Ù‹ Ø¢Ù† Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.');
    process.exit(1);
}
const rest = new REST({ version: '10' }).setToken(TOKEN);

// Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ù‡Ø§Ù†ÛŒ
(async () => {
    try {
        console.log('ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´...');
        await rest.put(Routes.applicationCommands(CLIENT_ID), { body: commands });
        console.log('âœ… Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø³Ù„Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯Ù†Ø¯!');
    } catch (error) {
        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø¯Ø³ØªÙˆØ±Ø§Øª:', error);
    }
})();

client.on('interactionCreate', async (interaction) => {
    if (!interaction.isCommand() && !interaction.isButton()) return;

    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ù†Ø§Ù„ (Ø§Ú¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
    if (allowedChannels.length > 0 && !allowedChannels.includes(interaction.channelId) && interaction.isCommand()) {
        return await interaction.reply({ content: 'âŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÙÙ‚Ø· Ø¯Ø± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª!', ephemeral: true });
    }

    // ØªØ¹Ø±ÛŒÙ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
    const backButton = new ActionRowBuilder()
        .addComponents(
            new ButtonBuilder()
                .setCustomId('back_to_menu')
                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                .setStyle(ButtonStyle.Secondary)
        );

    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø³ØªÙˆØ±Ø§Øª
    if (interaction.isCommand()) {
        const { commandName, user } = interaction;
        const userData = getUser(user.id);

        try {
            switch(commandName) {
                case 'balance':
                    await interaction.reply(`ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§:
                    **Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${userData.balance} ${COIN_NAME}
                    **Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${userData.bank || 0} ${COIN_NAME}
                    **Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ**: ${userData.investment || 0} ${COIN_NAME}`);
                    break;

                case 'spin':
                    let lastSpin = userData.lastSpin || 0;
                    let currentTime = Date.now();

                    if (currentTime - lastSpin < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
                        const remainingTime = 86400000 - (currentTime - lastSpin);
                        const hours = Math.floor(remainingTime / 3600000);
                        const minutes = Math.floor((remainingTime % 3600000) / 60000);
                        const seconds = Math.floor((remainingTime % 60000) / 1000);

                        return await interaction.reply(`â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡**`);
                    }

                    let reward = spinWheel();
                    userData.balance += reward;
                    userData.lastSpin = currentTime;

                    // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡
                    const spinLeveledUp = addXP(user.id, 5);
                    let spinLevelUpMessage = '';
                    if (spinLeveledUp) {
                        spinLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                    }

                    saveData();

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ù†ØªÛŒØ¬Ù‡
                    const spinEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                        .setColor(reward > 0 ? '#00FF00' : '#FF0000')
                        .setDescription(reward > 0 
                            ? `ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${reward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!${spinLevelUpMessage}` 
                            : `Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯! ğŸ˜¢${spinLevelUpMessage}`)
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                    await interaction.reply({ embeds: [spinEmbed] });
                    break;

                case 'leaderboard':
                    let sortedUsers = Object.entries(users).sort((a, b) => 
                        (b[1].balance + (b[1].bank || 0) + (b[1].investment || 0)) - 
                        (a[1].balance + (a[1].bank || 0) + (a[1].investment || 0))
                    );
                    let leaderboard = sortedUsers.slice(0, 10).map((u, i) => {
                        const total = u[1].balance + (u[1].bank || 0) + (u[1].investment || 0);
                        return `${i + 1}. <@${u[0]}> - ${total} ${COIN_NAME}`;
                    }).join('\n');

                    await interaction.reply({ 
                        embeds: [
                            new EmbedBuilder()
                                .setTitle('ğŸ† Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†')
                                .setDescription(leaderboard)
                                .setColor('#FFD700')
                        ] 
                    });
                    break;

                case 'ping':
                    const ping = client.ws.ping;
                    await interaction.reply(`ğŸ“ Ù¾ÛŒÙ†Ú¯! ØªØ§Ø®ÛŒØ±: ${ping}ms`);
                    break;

                case 'claim':
                    // Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                    const claimUserData = getUser(interaction.user.id);

                    // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª
                    if (claimUserData.initialClaimed) {
                        return await interaction.reply(`âŒ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!`);
                    }

                    // Ø¨Ø±Ø±Ø³ÛŒ Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª - Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ú¯Ø°Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                    // Ø§Ú¯Ø± Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ØŒ Ø¢Ù† Ø±Ø§ Ø§Ù„Ø§Ù† Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                    if (!claimUserData.joinTime) {
                        claimUserData.joinTime = Date.now();
                        saveData();
                        return await interaction.reply(`â³ Ø´Ù…Ø§ ØªØ§Ø²Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ ØµØ¨Ø± Ú©Ù†ÛŒØ¯.`);
                    }

                    const joinTime = claimUserData.joinTime;
                    const now = Date.now();
                    const tenMinutesMs = 600000; // 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡

                    if (now - joinTime < tenMinutesMs) {
                        const remainingTime = tenMinutesMs - (now - joinTime);
                        const minutes = Math.floor(remainingTime / 60000);
                        const seconds = Math.floor((remainingTime % 60000) / 1000);

                        return await interaction.reply(`â³ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø² Ø²Ù…Ø§Ù† Ø¹Ø¶ÙˆÛŒØª Ø´Ù…Ø§ Ú¯Ø°Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡ Ø¯ÛŒÚ¯Ø± ØµØ¨Ø± Ú©Ù†ÛŒØ¯.`);
                    }

                    // Ø§Ø¹Ø·Ø§ÛŒ Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                    claimUserData.balance += 100;
                    claimUserData.initialClaimed = true;
                    saveData();

                    await interaction.reply({
                        embeds: [
                            new EmbedBuilder()
                                .setTitle('ğŸ‰ Ù¾Ø§Ø¯Ø§Ø´ Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯!')
                                .setColor('#00FF00')
                                .setDescription(`Ø´Ù…Ø§ 100 ${COIN_NAME} Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø¯Ø§Ø´ Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`)
                                .setFooter({ text: 'Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!' })
                        ]
                    });
                    break;

                case 'level':
                    // Ù†Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
                    const levelUserData = getUser(interaction.user.id);
                    const nextLevelXP = (levelUserData.level + 1) * 100;

                    const levelEmbed = new EmbedBuilder()
                        .setTitle(`ğŸ† Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø³Ø·Ø­ ${interaction.user.username}`)
                        .setColor('#00FFFF')
                        .setThumbnail(interaction.user.displayAvatarURL())
                        .addFields(
                            { name: 'ğŸ“Š Ø³Ø·Ø­ ÙØ¹Ù„ÛŒ', value: `${levelUserData.level}`, inline: true },
                            { name: 'âœ¨ ØªØ¬Ø±Ø¨Ù‡', value: `${levelUserData.xp}/${nextLevelXP} XP`, inline: true },
                            { name: 'ğŸ’¡ Ù†Ú©ØªÙ‡', value: `Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø³Ø·Ø­ Ø¨Ø¹Ø¯ÛŒ Ø¨Ù‡ ${nextLevelXP - levelUserData.xp} XP Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.` }
                        )
                        .setFooter({ text: 'Ø¨Ø§ ÙØ¹Ø§Ù„ÛŒØª Ø¯Ø± Ø³Ø±ÙˆØ±ØŒ ØªØ¬Ø±Ø¨Ù‡ Ùˆ Ø³Ø·Ø­ Ø´Ù…Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯.' });

                    await interaction.reply({ embeds: [levelEmbed] });
                    break;
                    
                case 'steal':
                    // Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±
                    const targetUserSteal = interaction.options.getUser('user');
                    
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø®ÙˆØ¯Ú©Ø´ÛŒ!
                    if (targetUserSteal.id === interaction.user.id) {
                        return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø®ÙˆØ¯ØªØ§Ù† Ø¯Ø²Ø¯ÛŒ Ú©Ù†ÛŒØ¯!');
                    }
                    
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø±Ø¨Ø§Øª
                    if (targetUserSteal.bot) {
                        return await interaction.reply('âŒ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒØ¯Ù‡ Ø´Ø¯Ù† Ù†Ø¯Ø§Ø±Ù†Ø¯!');
                    }
                    
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¯Ø²Ø¯ÛŒ
                    const stealCheck = canSteal(interaction.user.id, targetUserSteal.id);
                    if (!stealCheck.allowed) {
                        return await interaction.reply(stealCheck.reason);
                    }
                    
                    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ
                    const stealerData = getUser(interaction.user.id);
                    const targetData = getUser(targetUserSteal.id);
                    
                    // Ø­Ø¯Ø§Ú©Ø«Ø± 20% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                    const maxStealAmount = Math.floor(targetData.balance * MAX_STEAL_PERCENTAGE);
                    let stolenAmount = Math.floor(Math.random() * maxStealAmount) + 1;
                    
                    // Ú©Ø§Ø±Ø¨Ø± Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù…ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
                    stolenAmount = Math.min(stolenAmount, targetData.balance);
                    
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø§Ù†Ø³ Ù…ÙˆÙÙ‚ÛŒØª (70% Ù…ÙˆÙÙ‚ÛŒØª)
                    const stealSuccess = Math.random() < 0.7;
                    
                    if (stealSuccess) {
                        // Ø¯Ø²Ø¯ÛŒ Ù…ÙˆÙÙ‚
                        stealerData.balance += stolenAmount;
                        targetData.balance -= stolenAmount;
                        
                        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¯Ø²Ø¯ÛŒ
                        stealerData.dailySteals++;
                        stealerData.stolenFrom[targetUserSteal.id] = Date.now();
                        targetData.lastTimeStolen = Date.now();
                        
                        // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ù…ÙˆÙÙ‚
                        const stealLeveledUp = addXP(interaction.user.id, 5);
                        let stealLevelUpMessage = '';
                        if (stealLeveledUp) {
                            stealLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${stealerData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                        }
                        
                        saveData();
                        
                        const stealEmbed = new EmbedBuilder()
                            .setTitle('ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù…ÙˆÙÙ‚!')
                            .setColor('#00FF00')
                            .setDescription(`Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª **${stolenAmount} ${COIN_NAME}** Ø§Ø² Ø¬ÛŒØ¨ ${targetUserSteal.username} Ø¯Ø²Ø¯ÛŒØ¯ÛŒØ¯!${stealLevelUpMessage}`)
                            .setFooter({ text: `Ù‡ÙˆØ´ÛŒØ§Ø± Ø¨Ø§Ø´ÛŒØ¯! Ù…Ù…Ú©Ù† Ø§Ø³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ù‡Ù… Ø§Ø² Ø´Ù…Ø§ Ø¯Ø²Ø¯ÛŒ Ú©Ù†Ù†Ø¯!` });
                        
                        await interaction.reply({ embeds: [stealEmbed] });
                    } else {
                        // Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚
                        // Ø¬Ø±ÛŒÙ…Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ (10% Ø§Ø² Ù…Ø¨Ù„ØºÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø³ØªÛŒØ¯ Ø¨Ø¯Ø²Ø¯ÛŒØ¯)
                        const penalty = Math.floor(stolenAmount * 0.1);
                        stealerData.balance -= penalty;
                        
                        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¯Ø²Ø¯ÛŒ
                        stealerData.dailySteals++;
                        stealerData.stolenFrom[targetUserSteal.id] = Date.now();
                        
                        saveData();
                        
                        const failEmbed = new EmbedBuilder()
                            .setTitle('ğŸš« Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚!')
                            .setColor('#FF0000')
                            .setDescription(`Ù…Ú† Ø´Ù…Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø¯Ø²Ø¯ÛŒ Ø§Ø² ${targetUserSteal.username} Ú¯Ø±ÙØªÙ‡ Ø´Ø¯! Ø´Ù…Ø§ **${penalty} ${COIN_NAME}** Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¬Ø±ÛŒÙ…Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ø±Ø¯ÛŒØ¯.`)
                            .setFooter({ text: `Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø¯Ø²Ø¯ÛŒ Ù†Ú©Ù†ÛŒØ¯!` });
                        
                        await interaction.reply({ embeds: [failEmbed] });
                    }
                    break;

                case 'transfer':
                    const targetUser = interaction.options.getUser('user');
                    const amount = interaction.options.getInteger('amount');

                    // Ø¨Ø±Ø±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                    if (targetUser.id === user.id) {
                        return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø³Ú©Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!');
                    }

                    if (targetUser.bot) {
                        return await interaction.reply('âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø³Ú©Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!');
                    }

                    if (amount <= 0) {
                        return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                    }

                    if (userData.balance < amount) {
                        return await interaction.reply(`âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: ${userData.balance} ${COIN_NAME})`);
                    }

                    // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„
                    const transferCheck = canTransferCoins(user.id, targetUser.id, amount);
                    if (!transferCheck.allowed) {
                        return await interaction.reply(transferCheck.reason);
                    }

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡ ØªØ£ÛŒÛŒØ¯
                    const confirmRow = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`confirm_transfer_${targetUser.id}_${amount}`)
                                .setLabel('ØªØ£ÛŒÛŒØ¯ Ø§Ù†ØªÙ‚Ø§Ù„')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('cancel_transfer')
                                .setLabel('Ù„ØºÙˆ')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({
                        content: `Ø¢ÛŒØ§ Ø§Ø² Ø§Ù†ØªÙ‚Ø§Ù„ ${amount} ${COIN_NAME} Ø¨Ù‡ ${targetUser.username} Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ`,
                        components: [confirmRow],
                        ephemeral: true
                    });
                    break;

                case 'daily':
                    let lastDaily = userData.lastDaily || 0;
                    const dailyCurrentTime = Date.now();

                    if (dailyCurrentTime - lastDaily < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                        const remainingTime = 86400000 - (dailyCurrentTime - lastDaily);
                        const hours = Math.floor(remainingTime / 3600000);
                        const minutes = Math.floor((remainingTime % 3600000) / 60000);
                        return await interaction.reply(`â³ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`);
                    }

                    const dailyReward = 50;
                    userData.balance += dailyReward;
                    userData.lastDaily = dailyCurrentTime;

                    // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡
                    const dailyLeveledUp = addXP(user.id, 10);
                    let dailyLevelUpMessage = '';
                    if (dailyLeveledUp) {
                        dailyLevelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                    }

                    saveData();

                    await interaction.reply(`âœ… Ø´Ù…Ø§ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯: ${dailyReward} ${COIN_NAME}!${dailyLevelUpMessage}`);
                    break;

                case 'bankdeposit':
                    const depositAmount = interaction.options.getInteger('amount');

                    if (depositAmount <= 0) {
                        return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                    }

                    if (userData.balance < depositAmount) {
                        return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                    }

                    userData.balance -= depositAmount;
                    userData.bank = (userData.bank || 0) + depositAmount;
                    saveData();

                    await interaction.reply(`âœ… Ù…Ø¨Ù„Øº ${depositAmount} ${COIN_NAME} Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ ÙˆØ§Ø±ÛŒØ² Ø´Ø¯.`);
                    break;

                case 'bankwithdraw':
                    const withdrawAmount = interaction.options.getInteger('amount');

                    if (withdrawAmount <= 0) {
                        return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                    }

                    if (!userData.bank || userData.bank < withdrawAmount) {
                        return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                    }

                    userData.bank -= withdrawAmount;
                    userData.balance += withdrawAmount;
                    saveData();

                    await interaction.reply(`âœ… Ù…Ø¨Ù„Øº ${withdrawAmount} ${COIN_NAME} Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ø¯.`);
                    break;

                case 'invest':
                    const investAmount = interaction.options.getInteger('amount');

                    if (investAmount <= 0) {
                        return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                    }

                    if (userData.balance < investAmount) {
                        return await interaction.reply('âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!');
                    }

                    userData.balance -= investAmount;
                    userData.investment = (userData.investment || 0) + investAmount;
                    saveData();

                    await interaction.reply(`âœ… Ø´Ù…Ø§ ${investAmount} ${COIN_NAME} Ø±Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯! Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.`);
                    break;

                case 'profile':
                    const targetUserProfile = interaction.options.getUser('user') || user;
                    const targetUserData = getUser(targetUserProfile.id);
                    const totalBalance = targetUserData.balance + (targetUserData.bank || 0) + (targetUserData.investment || 0);

                    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù„ÙˆÙ„
                    const profileNextLevelXP = (targetUserData.level + 1) * 100;
                    const levelProgress = Math.floor((targetUserData.xp / profileNextLevelXP) * 100);

                    const profileEmbed = new EmbedBuilder()
                        .setTitle(`Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ${targetUserProfile.username}`)
                        .setThumbnail(targetUserProfile.displayAvatarURL())
                        .addFields(
                            { name: 'ğŸ’° Ú©ÛŒÙ Ù¾ÙˆÙ„', value: `${targetUserData.balance} ${COIN_NAME}`, inline: true },
                            { name: 'ğŸ¦ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', value: `${targetUserData.bank || 0} ${COIN_NAME}`, inline: true },
                            { name: 'ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ', value: `${targetUserData.investment || 0} ${COIN_NAME} (Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡: ${INVESTMENT_RATE * 100}%)`, inline: true },
                            { name: 'ğŸ“Š Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø§Ø±Ø§ÛŒÛŒ', value: `${totalBalance} ${COIN_NAME}`, inline: false },
                            { name: 'ğŸ† Ø³Ø·Ø­', value: `${targetUserData.level} (${targetUserData.xp}/${profileNextLevelXP} XP - ${levelProgress}%)`, inline: false },
                            { name: 'ğŸ¥· Ù†Ú©ØªÙ‡ Ø§Ù…Ù†ÛŒØªÛŒ', value: `Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù†Ú© Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯! Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ø¬ÛŒØ¨ (Ú©ÛŒÙ Ù¾ÙˆÙ„) Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¯Ø²Ø¯ÛŒØ¯Ù‡ Ø´ÙˆÙ†Ø¯.`, inline: false }
                        )
                        .setColor('#00FFFF')
                        .setFooter({ text: 'Holi Economy Bot', iconURL: client.user.displayAvatarURL() });

                    await interaction.reply({ embeds: [profileEmbed] });
                    break;

                case 'menu':
                    const menuEmbed = new EmbedBuilder()
                        .setColor('#0099ff')
                        .setTitle('ğŸ® Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                        .setDescription('Ù„Ø·ÙØ§ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                        .setThumbnail(client.user.displayAvatarURL())
                        .setFooter({ text: 'Ø§ÛŒÙ† Ù…Ù†Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª', iconURL: interaction.user.displayAvatarURL() });

                    const row1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('economy')
                                .setLabel('ğŸ’° Ø§Ù‚ØªØµØ§Ø¯')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('shop')
                                .setLabel('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                .setStyle(ButtonStyle.Danger)
                        );

                    const row2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('quests')
                                .setLabel('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('inventory')
                                .setLabel('ğŸ’ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('help')
                                .setLabel('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [menuEmbed], components: [row1, row2], ephemeral: true });
                    break;

                case 'setchannel':
                    const channel = interaction.options.getChannel('channel');
                    if (!allowedChannels.includes(channel.id)) {
                        allowedChannels.push(channel.id);
                    }
                    await interaction.reply(`âœ… Ú©Ø§Ù†Ø§Ù„ ${channel} Ø¨Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
                    break;

                case 'addcoins':
                    const userToAddCoins = interaction.options.getUser('user');
                    const coinsAmount = interaction.options.getInteger('amount');

                    if (coinsAmount <= 0) {
                        return await interaction.reply('âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!');
                    }

                    const userDataToAddCoins = getUser(userToAddCoins.id);
                    userDataToAddCoins.balance += coinsAmount;
                    saveData();

                    await interaction.reply(`âœ… Ù…Ù‚Ø¯Ø§Ø± ${coinsAmount} ${COIN_NAME} Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± ${userToAddCoins.username} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
                    break;

                case 'shop':
                    const shopEmbed = new EmbedBuilder()
                        .setTitle('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                        .setColor('#FF00FF')
                        .setDescription('Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø± Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:');

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§Ù…Ø¨Ø¯
                    shopItems.forEach(item => {
                        shopEmbed.addFields({ 
                            name: `${item.name} - ${item.price} ${COIN_NAME}`, 
                            value: item.description,
                            inline: true 
                        });
                    });

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡ Ø¯Ø± Ù‡Ø± Ø±Ø¯ÛŒÙ)
                    const shopRow = new ActionRowBuilder();

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡)
                    const maxButtonsToShow = Math.min(shopItems.length, 5);
                    for (let i = 0; i < maxButtonsToShow; i++) {
                        shopRow.addComponents(
                            new ButtonBuilder()
                                .setCustomId(`buy_${shopItems[i].id}`)
                                .setLabel(`Ø®Ø±ÛŒØ¯ ${shopItems[i].name}`)
                                .setStyle(ButtonStyle.Primary)
                        );
                    }

                    await interaction.reply({ embeds: [shopEmbed], components: [shopRow] });
                    break;
                case 'dice':
                    const betAmount = interaction.options.getInteger('bet');
                    const userData = getUser(interaction.user.id);

                    if (userData.balance < betAmount) {
                        return await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmount} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                    }

                    // ØªØ§Ø³ Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ú©Ø§Ø±Ø¨Ø±
                    const userRoll = Math.floor(Math.random() * 6) + 1;
                    // ØªØ§Ø³ Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ø±Ø¨Ø§Øª
                    const botRoll = Math.floor(Math.random() * 6) + 1;

                    // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
                    let result = '';
                    if (userRoll > botRoll) {
                        // Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                        userData.balance += betAmount;
                        result = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${betAmount} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                    } else if (userRoll < botRoll) {
                        // Ø±Ø¨Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                        userData.balance -= betAmount;
                        result = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${betAmount} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                    } else {
                        // Ù…Ø³Ø§ÙˆÛŒ
                        result = `ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                    }

                    saveData();

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
                    const diceEmbed = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                        .setColor(userRoll > botRoll ? '#00FF00' : (userRoll < botRoll ? '#FF0000' : '#FFFF00'))
                        .setDescription(`
**ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRoll)} (${userRoll})
**ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRoll)} (${botRoll})

${result}

Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${userData.balance} ${COIN_NAME}**`)
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                    const diceButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`dice_again_${betAmount}`)
                                .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${betAmount} Ø³Ú©Ù‡)`)
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId(`dice_again_${betAmount * 2}`)
                                .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${betAmount * 2} Ø³Ú©Ù‡)`)
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [diceEmbed], components: [diceButtons] });
                    break;
            }
        } catch (error) {
            console.error(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø³ØªÙˆØ± ${commandName}:`, error);
            await interaction.reply({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
        }
    }

    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
    if (interaction.isButton()) {
        try {
            // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ø§Ù†ØªÙ‚Ø§Ù„
            if (interaction.customId.startsWith('confirm_transfer_')) {
                const parts = interaction.customId.split('_');
                const targetId = parts[2];
                const amount = parseInt(parts[3]);

                const userData = getUser(interaction.user.id);

                // Ø¨Ø±Ø±Ø³ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ (Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¯Ø± Ø²Ù…Ø§Ù† ØªØ£ÛŒÛŒØ¯ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
                if (userData.balance < amount) {
                    return await interaction.update({
                        content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                        components: []
                    });
                }

                // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¬Ø¯Ø¯ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„
                const transferCheck = canTransferCoins(interaction.user.id, targetId, amount);
                if (!transferCheck.allowed) {
                    return await interaction.update({
                        content: transferCheck.reason,
                        components: []
                    });
                }

                const targetData = getUser(targetId);
                userData.balance -= amount;
                targetData.balance += amount;

                // Ø«Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡
                recordTransfer(interaction.user.id, targetId, amount);

                // Ø§ÙØ²ÙˆØ¯Ù† XP Ø¨Ø§Ø¨Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
                const leveledUp = addXP(interaction.user.id, 5);
                let levelUpMessage = '';
                if (leveledUp) {
                    levelUpMessage = `\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${userData.level} Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØªÛŒØ¯!`;
                }

                saveData();

                await interaction.update({
                    content: `âœ… Ø§Ù†ØªÙ‚Ø§Ù„ ${amount} ${COIN_NAME} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!${levelUpMessage}`,
                    components: []
                });

                return;
            }

            if (interaction.customId === 'cancel_transfer') {
                await interaction.update({
                    content: 'âŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØºÙˆ Ø´Ø¯.',
                    components: []
                });
                return;
            }

            switch(interaction.customId) {
                case 'economy':
                    const economyEmbed = new EmbedBuilder()
                        .setColor('#0099ff')
                        .setTitle('ğŸ’° Ø³ÛŒØ³ØªÙ… Ø§Ù‚ØªØµØ§Ø¯ÛŒ')
                        .setDescription('Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ:')
                        .addFields(
                            { name: '/balance', value: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§', inline: true },
                            { name: '/spin', value: 'Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡', inline: true },
                            { name: '/daily', value: 'Ø¯Ø±ÛŒØ§ÙØª Ø³Ú©Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡', inline: true },
                            { name: '/transfer', value: 'Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±', inline: true },
                            { name: '/bankdeposit', value: 'ÙˆØ§Ø±ÛŒØ² Ø³Ú©Ù‡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', inline: true },
                            { name: '/bankwithdraw', value: 'Ø¨Ø±Ø¯Ø§Ø´Øª Ø³Ú©Ù‡ Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ', inline: true },
                            { name: '/invest', value: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ Ø¨Ø§ Ù†Ø±Ø® Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡', inline: true },
                            { name: '/leaderboard', value: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                        );

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø§ÙˆÙ„)
                    const economyButtons1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('quick_balance')
                                .setLabel('ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('quick_daily')
                                .setLabel('ğŸŒ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('quick_spin')
                                .setLabel('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                .setStyle(ButtonStyle.Primary)
                        );

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø¯ÙˆÙ…)
                    const economyButtons2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('quick_bankdeposit')
                                .setLabel('ğŸ’³ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('quick_bankwithdraw')
                                .setLabel('ğŸ’µ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('quick_leaderboard')
                                .setLabel('ğŸ† Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ (Ø±Ø¯ÛŒÙ Ø³ÙˆÙ…)
                    const economyButtons3 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('quick_transfer')
                                .setLabel('ğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('quick_invest')
                                .setLabel('ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ')
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [economyEmbed], components: [economyButtons1, economyButtons2, economyButtons3] });
                    break;

                case 'games':
                    const gamesEmbed = new EmbedBuilder()
                        .setColor('#00ff00')
                        .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                        .setDescription('Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯:')
                        .addFields(
                            { name: 'ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³', value: 'Ú†Ø±Ø®Ø§Ù†Ø¯Ù† Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡ ØªØµØ§Ø¯ÙÛŒ', inline: true },
                            { name: 'ğŸ¯ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·', value: 'Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ù¾Ø±ØªØ§Ø¨ Ø³Ú©Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯', inline: true },
                            { name: 'ğŸ² ØªØ§Ø³', value: 'ØªØ§Ø³ Ø¨ÛŒÙ†Ø¯Ø§Ø²ÛŒØ¯ Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú†Ø±Ø®Ø´ ØªØ§Ø³', inline: true },
                            { name: 'âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ', value: 'Ø¨Ø§Ø²ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª ÛŒØ§ Ø¯ÙˆØ³ØªØ§Ù†', inline: true },
                            { name: 'ğŸ”¢ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯', value: 'Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯', inline: true },
                            { name: 'ğŸ† Ø¯ÙˆØ¦Ù„', value: 'Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯', inline: true },
                            { name: 'ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ', value: 'Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø®Ø§Øµ', inline: true }
                        );

                    const gameButtons1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('play_wheel')
                                .setLabel('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('play_coinflip')
                                .setLabel('ğŸ¯ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('play_dice')
                                .setLabel('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                                .setStyle(ButtonStyle.Primary)
                        );
                        
                    const gameButtonsSteal = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('play_steal')
                                .setLabel('ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('steal_info')
                                .setLabel('â„¹ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    const gameButtons2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('play_rps')
                                .setLabel('âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('play_numguess')
                                .setLabel('ğŸ”¢ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('play_duel')
                                .setLabel('ğŸ† Ø¯ÙˆØ¦Ù„')
                                .setStyle(ButtonStyle.Primary)
                        );

                    const gameButtons3 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [gamesEmbed], components: [gameButtons1, gameButtons2, gameButtonsSteal, gameButtons3] });
                    break;

                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹
                case 'quick_balance':
                    // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±
                    const userDataBalance = getUser(interaction.user.id);

                    await interaction.reply({
                        content: `ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§:
                        **Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${userDataBalance.balance} ${COIN_NAME}
                        **Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${userDataBalance.bank || 0} ${COIN_NAME}
                        **Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ**: ${userDataBalance.investment || 0} ${COIN_NAME}`,
                        ephemeral: true
                    });
                    break;

                case 'quick_daily':
                    // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ú©Ø¯ Ø¯Ø³ØªÙˆØ± daily
                    const userDailyData = getUser(interaction.user.id);
                    const userLastDaily = userDailyData.lastDaily || 0;
                    let nowDaily = Date.now();

                    if (nowDaily - userLastDaily < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                        const remainingTime = 86400000 - (nowDaily - userLastDaily);
                        const hours = Math.floor(remainingTime / 3600000);
                        const minutes = Math.floor((remainingTime % 3600000) / 60000);

                        return await interaction.reply({
                            content: `â³ Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`,
                            ephemeral: true
                        });
                    }

                    const quickDailyReward = 50;
                    userDailyData.balance += quickDailyReward;
                    userDailyData.lastDaily = nowDaily;
                    saveData();

                    await interaction.reply({
                        content: `âœ… Ø´Ù…Ø§ Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯: ${quickDailyReward} ${COIN_NAME}!`,
                        ephemeral: true
                    });
                    break;

                case 'quick_spin':
                    // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ú©Ø¯ Ø¯Ø³ØªÙˆØ± spin
                    const userSpinData = getUser(interaction.user.id);
                    const userLastSpin = userSpinData.lastSpin || 0;
                    let nowSpin = Date.now();

                    if (nowSpin - userLastSpin < 86400000) { // ÛŒÚ© Ø±ÙˆØ² Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
                        const remainingTime = 86400000 - (nowSpin - userLastSpin);
                        const hours = Math.floor(remainingTime / 3600000);
                        const minutes = Math.floor((remainingTime % 3600000) / 60000);

                        return await interaction.reply({
                            content: `â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡**`,
                            ephemeral: true
                        });
                    }

                    let spinReward = spinWheel();
                    userSpinData.balance += spinReward;
                    userSpinData.lastSpin = nowSpin;
                    saveData();

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ù†ØªÛŒØ¬Ù‡
                    const quickSpinEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                        .setColor(spinReward > 0 ? '#00FF00' : '#FF0000')
                        .setDescription(spinReward > 0 
                            ? `ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${spinReward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` 
                            : 'Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯! ğŸ˜¢')
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                    await interaction.reply({ embeds: [quickSpinEmbed], ephemeral: true });
                    break;

                case 'quick_bankdeposit':
                    // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©
                    const bankDepositEmbed = new EmbedBuilder()
                        .setColor('#0099ff')
                        .setTitle('ğŸ’³ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
                        .setDescription('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                        .addFields(
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true },
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).bank || 0} ${COIN_NAME}`, inline: true }
                        );

                    const depositButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('deposit_10')
                                .setLabel('10 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('deposit_50')
                                .setLabel('50 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('deposit_100')
                                .setLabel('100 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('deposit_all')
                                .setLabel('Ù‡Ù…Ù‡ Ø³Ú©Ù‡â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({ embeds: [bankDepositEmbed], components: [depositButtons], ephemeral: true });
                    break;

                case 'quick_bankwithdraw':
                    // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©
                    const bankWithdrawEmbed = new EmbedBuilder()
                        .setColor('#0099ff')
                        .setTitle('ğŸ’µ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ')
                        .setDescription('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                        .addFields(
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).bank || 0} ${COIN_NAME}`, inline: true },
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true }
                        );

                    const withdrawButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('withdraw_10')
                                .setLabel('10 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('withdraw_50')
                                .setLabel('50 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('withdraw_100')
                                .setLabel('100 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('withdraw_all')
                                .setLabel('Ù‡Ù…Ù‡ Ø³Ú©Ù‡â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({ embeds: [bankWithdrawEmbed], components: [withdrawButtons], ephemeral: true });
                    break;

                case 'quick_leaderboard':
                    // Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                    let quickSortedUsers = Object.entries(users).sort((a, b) => 
                        (b[1].balance + (b[1].bank || 0) + (b[1].investment || 0)) - 
                        (a[1].balance + (a[1].bank || 0) + (a[1].investment || 0))
                    );
                    let quickLeaderboard = quickSortedUsers.slice(0, 10).map((u, i) => {
                        const total = u[1].balance + (u[1].bank || 0) + (u[1].investment || 0);
                        return `${i + 1}. <@${u[0]}> - ${total} ${COIN_NAME}`;
                    }).join('\n');

                    await interaction.reply({ 
                        embeds: [
                            new EmbedBuilder()
                                .setTitle('ğŸ† Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±Ø§Ù†')
                                .setDescription(quickLeaderboard)
                                .setColor('#FFD700')
                        ],
                        ephemeral: true
                    });
                    break;

                case 'quick_transfer':
                    // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡
                    const transferEmbed = new EmbedBuilder()
                        .setColor('#FF5733')
                        .setTitle('ğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±')
                        .setDescription('Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯ÛŒÚ¯Ø±ØŒ Ù„Ø·ÙØ§Ù‹ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/transfer` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\nÙ…Ø«Ø§Ù„: `/transfer user:@username amount:100`')
                        .addFields(
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true }
                        );

                    await interaction.reply({ embeds: [transferEmbed], ephemeral: true });
                    break;

                case 'quick_invest':
                    // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                    const investEmbed = new EmbedBuilder()
                        .setColor('#00FF00')
                        .setTitle('ğŸ“ˆ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡')
                        .setDescription(`Ø¨Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ú©Ù‡ØŒ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø³ÙˆØ¯ Ø¯Ø±ÛŒØ§ÙØª Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø±Ø¯! Ù…Ø¨Ù„Øº Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:`)
                        .addFields(
                            { name: 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).balance} ${COIN_NAME}`, inline: true },
                            { name: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ ÙØ¹Ù„ÛŒ Ø´Ù…Ø§', value: `${getUser(interaction.user.id).investment || 0} ${COIN_NAME}`, inline: true }
                        );

                    const investButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('invest_100')
                                .setLabel('100 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('invest_500')
                                .setLabel('500 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('invest_1000')
                                .setLabel('1000 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({ embeds: [investEmbed], components: [investButtons], ephemeral: true });
                    break;

                case 'play_wheel':
                    // Ù…Ø´Ø§Ø¨Ù‡ quick_spin Ø§Ù…Ø§ Ø¨Ø§ Ù¾ÛŒØ§Ù… Ù…ØªÙØ§ÙˆØª
                    const playWheelUserData = getUser(interaction.user.id);
                    const playWheelLastSpin = playWheelUserData.lastSpin || 0;
                    const playWheelNowSpin = Date.now();

                    if (playWheelNowSpin - playWheelLastSpin < 86400000) {
                        const remainingTime = 86400000 - (playWheelNowSpin - playWheelLastSpin);
                        const hours = Math.floor(remainingTime / 3600000);
                        const minutes = Math.floor((remainingTime % 3600000) / 60000);

                        return await interaction.reply({
                            content: `â³ Ø´Ù…Ø§ Ø§Ù…Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ú†Ø±Ø®Ø§Ù†Ø¯ÛŒØ¯! Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ ØªØ§ Ú†Ø±Ø®Ø´ Ø¨Ø¹Ø¯ÛŒ: **${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡**`,
                            ephemeral: true
                        });
                    }

                    const playWheelReward = spinWheel();
                    playWheelUserData.balance += playWheelReward;
                    playWheelUserData.lastSpin = playWheelNowSpin;
                    saveData();

                    const wheelEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³')
                        .setColor(playWheelReward > 0 ? '#00FF00' : '#FF0000')
                        .setDescription(playWheelReward > 0 
                            ? `Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒÚ†Ø±Ø®Ø¯... Ùˆ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯!\n\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ **${playWheelReward} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` 
                            : 'Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒÚ†Ø±Ø®Ø¯... Ùˆ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯!\n\nğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯ÛŒØ¯!')
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø¯Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                    const backToGamesButton = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [wheelEmbed], components: [backToGamesButton], ephemeral: true });
                    break;

                case 'play_coinflip':
                    // Ø¨Ø§Ø²ÛŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·
                    const coinflipEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¯ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                        .setColor('#1ABC9C')
                        .setDescription('Ø´ÛŒØ± ÛŒØ§ Ø®Ø·ØŸ Ø´Ø§Ù†Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø´Ø±Ø· Ø¨Ø¨Ù†Ø¯ÛŒØ¯!\n\nØ¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø· Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯:');

                    const coinflipButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('coinflip_heads_10')
                                .setLabel('Ø´ÛŒØ± - 10 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('coinflip_tails_10')
                                .setLabel('Ø®Ø· - 10 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    const coinflipButtons2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('coinflip_heads_50')
                                .setLabel('Ø´ÛŒØ± - 50 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('coinflip_tails_50')
                                .setLabel('Ø®Ø· - 50 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({ embeds: [coinflipEmbed], components: [coinflipButtons, coinflipButtons2], ephemeral: true });
                    break;

                case 'play_dice':
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³
                    const diceGameEmbed = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                        .setColor('#6642A9')
                        .setDescription('Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù…Ø¨Ù„Øº Ø´Ø±Ø· Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ù†Ø­ÙˆÙ‡ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯:');

                    const diceBetButtons1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('dice_game_10_bot')
                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (10 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('dice_game_50_bot')
                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (50 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Danger)
                        );

                    const diceBetButtons2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('dice_game_10_player')
                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (10 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('dice_game_50_player')
                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (50 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Success)
                        );

                    const diceBetButtons3 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [diceGameEmbed], components: [diceBetButtons1, diceBetButtons2, diceBetButtons3], ephemeral: true });
                    break;

                case 'help':
                    const helpEmbed = new EmbedBuilder()
                        .setColor('#ffff00')
                        .setTitle('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                        .setDescription('Ù„ÛŒØ³Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø¨Ø§Øª:')
                        .addFields(
                            { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ', value: '/balance, /spin, /daily, /transfer, /bankdeposit, /bankwithdraw, /invest, /leaderboard, /steal', inline: false },
                            { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ', value: '/ping, /profile, /menu', inline: false },
                            { name: 'Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ', value: '/setchannel, /addcoins (ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§)', inline: false }
                        );

                    // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                    const backButton = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [helpEmbed], components: [backButton] });
                    break;

                case 'quests':
                    const questsEmbed = new EmbedBuilder()
                        .setColor('#9B59B6')
                        .setTitle('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                        .setDescription('Ù…Ø§Ù…ÙˆØ±ÛŒØªâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„:')
                        .addFields(
                            { name: 'ğŸŒ Ú©ÙˆØ¦Ø³Øª Ø±ÙˆØ²Ø§Ù†Ù‡', value: 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø§ÛŒØ²Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡ - Ù¾Ø§Ø¯Ø§Ø´: 50 Ø³Ú©Ù‡', inline: false },
                            { name: 'ğŸ¡ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³', value: 'ÛŒÚ©Ø¨Ø§Ø± Ø¯Ø± Ø±ÙˆØ² Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø±Ø§ Ø¨Ú†Ø±Ø®Ø§Ù†ÛŒØ¯ - Ù¾Ø§Ø¯Ø§Ø´: Ø¬Ø§ÛŒØ²Ù‡ ØªØµØ§Ø¯ÙÛŒ', inline: false },
                            { name: 'ğŸ’° Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±', value: 'Ø­Ø¯Ø§Ù‚Ù„ 500 Ø³Ú©Ù‡ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯ - Ù¾Ø§Ø¯Ø§Ø´: 100 Ø³Ú©Ù‡ Ø§Ø¶Ø§ÙÛŒ', inline: false }
                        );

                    // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                    const questsBackButton = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [questsEmbed], components: [questsBackButton] });
                    break;

                case 'inventory':
                    const userData = getUser(interaction.user.id);

                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø¯Ø§Ø±Ø¯
                    const inventoryItems = userData.inventory || [];

                    const inventoryEmbed = new EmbedBuilder()
                        .setColor('#F1C40F')
                        .setTitle('ğŸ’ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø´Ù…Ø§')
                        .setThumbnail(interaction.user.displayAvatarURL());

                    if (inventoryItems.length === 0) {
                        inventoryEmbed.setDescription('Ø´Ù…Ø§ Ù‡ÛŒÚ† Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø®ÙˆØ¯ Ù†Ø¯Ø§Ø±ÛŒØ¯! Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.');
                    } else {
                        inventoryEmbed.setDescription('Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ø´Ù…Ø§:');
                        inventoryItems.forEach(item => {
                            inventoryEmbed.addFields({ name: item.name, value: item.description, inline: true });
                        });
                    }

                    // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                    const inventoryBackButton = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [inventoryEmbed], components: [inventoryBackButton] });
                    break;

                case 'admin_coins':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const coinManagementEmbed = new EmbedBuilder()
                        .setTitle('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                        .setColor('#FFD700')
                        .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                        .addFields(
                            { name: '/setcoin', value: 'ØªÙ†Ø¸ÛŒÙ… Ø¯Ù‚ÛŒÙ‚ Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±', inline: true },
                            { name: '/addcoins', value: 'Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±', inline: true }
                        );

                    const backToAdminButton = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_admin')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [coinManagementEmbed], components: [backToAdminButton] });
                    break;

                case 'admin_shop':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    // Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                    let shopItemList = '';
                    shopItems.forEach(item => {
                        shopItemList += `**Ø´Ù†Ø§Ø³Ù‡**: \`${item.id}\`\n**Ù†Ø§Ù…**: ${item.name}\n**Ù‚ÛŒÙ…Øª**: ${item.price} ${COIN_NAME}\n**ØªÙˆØ¶ÛŒØ­Ø§Øª**: ${item.description}\n\n`;
                    });

                    const shopManagementEmbed = new EmbedBuilder()
                        .setTitle('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                        .setColor('#FF00FF')
                        .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                        .addFields(
                            { name: '/additem', value: 'Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                            { name: '/removeitem', value: 'Ø­Ø°Ù Ø¢ÛŒØªÙ… Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                            { name: 'ğŸ“‹ Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ', value: shopItemList || 'Ù‡ÛŒÚ† Ø¢ÛŒØªÙ…ÛŒ Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!', inline: false }
                        );

                    await interaction.update({ embeds: [shopManagementEmbed], components: [backToAdminButton] });
                    break;

                case 'admin_data':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const dataManagementEmbed = new EmbedBuilder()
                        .setTitle('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                        .setColor('#1ABC9C')
                        .setDescription('Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                        .addFields(
                            { name: '/resetdata', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±', inline: true },
                            { name: 'ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø«Ø¨Øª Ø´Ø¯Ù‡', value: `${Object.keys(users).length} Ú©Ø§Ø±Ø¨Ø±`, inline: true }
                        );

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡
                    const dataManagementButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('export_data')
                                .setLabel('ğŸ“¤ Ø¯Ø±ÛŒØ§ÙØª ÙØ§ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Primary),
                            backToAdminButton.components[0]
                        );

                    await interaction.update({ embeds: [dataManagementEmbed], components: [dataManagementButtons] });
                    break;

                case 'back_to_admin':
                    // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                    const adminPanelEmbedReturn = new EmbedBuilder()
                        .setTitle('ğŸ› ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                        .setColor('#FF0000')
                        .setDescription('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ù…Ø¯ÛŒØ± Ú¯Ø±Ø§Ù…ÛŒ! Ø§Ø² Ø§ÛŒÙ† Ù¾Ù†Ù„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                        .addFields(
                            { name: 'ğŸ“Š Ø¢Ù…Ø§Ø±', value: `ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: ${Object.keys(users).length}\nØªØ¹Ø¯Ø§Ø¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡: ${shopItems.length}`, inline: false },
                            { name: 'ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡', value: 'ØªÙ†Ø¸ÛŒÙ… ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true },
                            { name: 'ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡', value: 'Ø§Ø¶Ø§ÙÙ‡ ÛŒØ§ Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                            { name: 'ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÛŒØ§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                        )
                        .setFooter({ text: 'Ø¯Ø³ØªØ±Ø³ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ù…Ø¬Ø§Ø²' });

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                    const adminPanelRow1Return = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('admin_coins')
                                .setLabel('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('admin_shop')
                                .setLabel('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('admin_data')
                                .setLabel('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Primary)
                        );

                    await interaction.update({ embeds: [adminPanelEmbedReturn], components: [adminPanelRow1Return] });
                    break;

                case 'export_data':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    await interaction.reply({
                        content: 'ğŸ“¤ ÙØ§ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª:',
                        files: [DATA_FILE],
                        ephemeral: true
                    });
                    break;

                case 'back_to_menu':
                    // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                    const mainMenuEmbed = new EmbedBuilder()
                        .setColor('#0099ff')
                        .setTitle('ğŸ® Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                        .setDescription('Ù„Ø·ÙØ§ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:')
                        .setThumbnail(client.user.displayAvatarURL())
                        .setFooter({ text: 'Ø§ÛŒÙ† Ù…Ù†Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª', iconURL: interaction.user.displayAvatarURL() });

                    const mainRow1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('economy')
                                .setLabel('ğŸ’° Ø§Ù‚ØªØµØ§Ø¯')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('shop')
                                .setLabel('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                .setStyle(ButtonStyle.Danger)
                        );

                    const mainRow2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('quests')
                                .setLabel('ğŸ“œ Ú©ÙˆØ¦Ø³Øªâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('inventory')
                                .setLabel('ğŸ’ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ')
                                .setStyle(ButtonStyle.Secondary),
                            new ButtonBuilder()
                                .setCustomId('help')
                                .setLabel('â“ Ø±Ø§Ù‡Ù†Ù…Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [mainMenuEmbed], components: [mainRow1, mainRow2] });
                    break;

                // Ù…Ù†ÙˆÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                case 'shop':
                    const shopEmbed = new EmbedBuilder()
                        .setTitle('ğŸ›’ ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                        .setColor('#FF00FF')
                        .setDescription('Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø± Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:');

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§Ù…Ø¨Ø¯
                    shopItems.forEach(item => {
                        shopEmbed.addFields({ 
                            name: `${item.name} - ${item.price} ${COIN_NAME}`, 
                            value: item.description,
                            inline: true 
                        });
                    });

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡ Ø¯Ø± Ù‡Ø± Ø±Ø¯ÛŒÙ)
                    const shopRow = new ActionRowBuilder();

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (Ø­Ø¯Ø§Ú©Ø«Ø± 5 Ø¯Ú©Ù…Ù‡)
                    const maxButtonsToShow = Math.min(shopItems.length, 5);
                    for (let i = 0; i < maxButtonsToShow; i++) {
                        shopRow.addComponents(
                            new ButtonBuilder()
                                .setCustomId(`buy_${shopItems[i].id}`)
                                .setLabel(`Ø®Ø±ÛŒØ¯ ${shopItems[i].name}`)
                                .setStyle(ButtonStyle.Primary)
                        );
                    }

                    const shopBackRow = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('back_to_menu')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [shopEmbed], components: [shopRow, shopBackRow] });
                    break;

                // Ø¨Ø§Ø²ÛŒ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·
                case 'coinflip_heads_10':
                case 'coinflip_tails_10':
                case 'coinflip_heads_50':
                case 'coinflip_tails_50':
                    const parts = interaction.customId.split('_');
                    const choice = parts[1]; // heads ÛŒØ§ tails
                    const betAmount = parseInt(parts[2]); // 10 ÛŒØ§ 50

                    if (getUser(interaction.user.id).balance < betAmount) {
                        await interaction.reply({ 
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${betAmount - getUser(interaction.user.id).balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`, 
                            ephemeral: true 
                        });
                        return;
                    }

                    // ØªØ¹ÛŒÛŒÙ† Ù†ØªÛŒØ¬Ù‡ ØªØµØ§Ø¯ÙÛŒ (Ø´ÛŒØ± ÛŒØ§ Ø®Ø·)
                    const result = Math.random() < 0.5 ? 'heads' : 'tails';
                    const won = choice === result;

                    // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
                    if (won) {
                        getUser(interaction.user.id).balance += betAmount;
                    } else {
                        getUser(interaction.user.id).balance -= betAmount;
                    }
                    saveData();

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
                    const coinflipResultEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¯ Ù†ØªÛŒØ¬Ù‡ Ø´ÛŒØ± ÛŒØ§ Ø®Ø·')
                        .setColor(won ? '#00FF00' : '#FF0000')
                        .setDescription(`Ø³Ú©Ù‡ Ø¨Ù‡ Ù‡ÙˆØ§ Ù¾Ø±ØªØ§Ø¨ Ø´Ø¯ Ùˆ Ù†ØªÛŒØ¬Ù‡...

${result === 'heads' ? '**Ø´ÛŒØ±** Ø¢Ù…Ø¯!' : '**Ø®Ø·** Ø¢Ù…Ø¯!'}

${won ? `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ **${betAmount} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!` : `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ **${betAmount} ${COIN_NAME}** Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`}

Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${getUser(interaction.user.id).balance} ${COIN_NAME}**`);

                    const playAgainRow = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('play_coinflip')
                                .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [coinflipResultEmbed], components: [playAgainRow] });
                    break;

                // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡
                case 'buy_role_vip':
                case 'buy_custom_color':
                case 'buy_lootbox':
                default:
                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø±ÛŒØ² Ø¨Ù‡ Ø¨Ø§Ù†Ú©
                    if (interaction.customId.startsWith('deposit_')) {
                        const option = interaction.customId.split('_')[1];
                        const depositUserData = getUser(interaction.user.id);
                        let depositAmount = 0;

                        if (option === 'all') {
                            // ÙˆØ§Ø±ÛŒØ² ØªÙ…Ø§Ù… Ø³Ú©Ù‡â€ŒÙ‡Ø§
                            depositAmount = depositUserData.balance;
                        } else {
                            // ÙˆØ§Ø±ÛŒØ² Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø®Øµ
                            depositAmount = parseInt(option);
                        }

                        if (depositAmount <= 0) {
                            await interaction.update({
                                content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!',
                                embeds: [],
                                components: [],
                                ephemeral: true
                            });
                            return;
                        }

                        if (depositUserData.balance < depositAmount) {
                            await interaction.update({
                                content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                embeds: [],
                                components: [],
                                ephemeral: true
                            });
                            return;
                        }

                        depositUserData.balance -= depositAmount;
                        depositUserData.bank = (depositUserData.bank || 0) + depositAmount;
                        saveData();

                        await interaction.update({
                            content: `âœ… Ù…Ø¨Ù„Øº ${depositAmount} ${COIN_NAME} Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ ÙˆØ§Ø±ÛŒØ² Ø´Ø¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${depositUserData.balance} ${COIN_NAME}\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${depositUserData.bank} ${COIN_NAME}`,
                            embeds: [],
                            components: [],
                            ephemeral: true
                        });
                        return;
                    }

                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø¨Ø§Ù†Ú©
                    if (interaction.customId.startsWith('withdraw_')) {
                        const option = interaction.customId.split('_')[1];
                        const withdrawUserData = getUser(interaction.user.id);
                        let withdrawAmount = 0;

                        if (option === 'all') {
                            // Ø¨Ø±Ø¯Ø§Ø´Øª ØªÙ…Ø§Ù… Ø³Ú©Ù‡â€ŒÙ‡Ø§
                            withdrawAmount = withdrawUserData.bank || 0;
                        } else {
                            // Ø¨Ø±Ø¯Ø§Ø´Øª Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø®Øµ
                            withdrawAmount = parseInt(option);
                        }

                        if (withdrawAmount <= 0) {
                            await interaction.update({
                                content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!',
                                embeds: [],
                                components: [],
                                ephemeral: true
                            });
                            return;
                        }

                        if (!withdrawUserData.bank || withdrawUserData.bank < withdrawAmount) {
                            await interaction.update({
                                content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                embeds: [],
                                components: [],
                                ephemeral: true
                            });
                            return;
                        }

                        withdrawUserData.bank -= withdrawAmount;
                        withdrawUserData.balance += withdrawAmount;
                        saveData();

                        await interaction.update({
                            content: `âœ… Ù…Ø¨Ù„Øº ${withdrawAmount} ${COIN_NAME} Ø§Ø² Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø¯Ø§Ø´Øª Ø´Ø¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${withdrawUserData.balance} ${COIN_NAME}\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ**: ${withdrawUserData.bank} ${COIN_NAME}`,
                            embeds: [],
                            components: [],
                            ephemeral: true
                        });
                        return;
                    }

                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                    if (interaction.customId.startsWith('invest_')) {
                        const investAmount = parseInt(interaction.customId.split('_')[1]);
                        const investUserData = getUser(interaction.user.id);

                        if (investUserData.balance < investAmount) {
                            await interaction.update({
                                content: 'âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!',
                                embeds: [],
                                components: [],
                                ephemeral: true
                            });
                            return;
                        }

                        investUserData.balance -= investAmount;
                        investUserData.investment = (investUserData.investment || 0) + investAmount;
                        saveData();

                        await interaction.update({
                            content: `âœ… Ø´Ù…Ø§ ${investAmount} ${COIN_NAME} Ø±Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯! Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ ${INVESTMENT_RATE * 100}% Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.\n\n**Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„**: ${investUserData.balance} ${COIN_NAME}\n**Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ ÙØ¹Ù„ÛŒ**: ${investUserData.investment} ${COIN_NAME}`,
                            embeds: [],
                            components: [],
                            ephemeral: true
                        });
                        return;
                    }

                    // Ø§Ú¯Ø± Ø¯Ú©Ù…Ù‡ Ø®Ø±ÛŒØ¯ Ø¢ÛŒØªÙ… Ø¨Ø§Ø´Ø¯
                    if (interaction.customId.startsWith('buy_')) {
                        const itemId = interaction.customId.replace('buy_', '');
                        const item = shopItems.find(i => i.id === itemId);

                        if (!item) {
                            await interaction.reply({ 
                                content: 'âŒ Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª!', 
                                ephemeral: true 
                            });
                            return;
                        }

                        const buyerData = getUser(interaction.user.id);

                        if (buyerData.balance < item.price) {
                            await interaction.reply({ 
                                content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${item.price - buyerData.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`, 
                                ephemeral: true 
                            });
                            return;
                        }

                        buyerData.balance -= item.price;

                        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¨Ù‡ Ú©ÙˆÙ„Ù‡â€ŒÙ¾Ø´ØªÛŒ Ú©Ø§Ø±Ø¨Ø±
                        if (!buyerData.inventory) {
                            buyerData.inventory = [];
                        }

                        buyerData.inventory.push({
                            id: item.id,
                            name: item.name,
                            description: item.description,
                            purchaseDate: Date.now()
                        });

                        saveData();

                        // Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
                        if (item.id === 'role_vip') {
                            // Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„ VIP (Ø§Ú¯Ø± Ø¯Ø± Ù…Ø­ÛŒØ· Ø³Ø±ÙˆØ± Ø¨Ø§Ø´ÛŒÙ…)
                            try {
                                // Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ú©Ø¯ Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯
                                // await interaction.member.roles.add('ROLE_ID_FOR_VIP');
                            } catch (error) {
                                console.error('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø¹Ø·Ø§ÛŒ Ø±ÙˆÙ„:', error);
                            }
                        } else if (item.id === 'lootbox') {
                            // Ø¬ÙˆØ§ÛŒØ² ØªØµØ§Ø¯ÙÛŒ Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³
                            const prizes = [
                                { type: 'coins', amount: 100, chance: 40 },
                                { type: 'coins', amount: 500, chance: 20 },
                                { type: 'coins', amount: 1000, chance: 5 },
                                { type: 'nothing', chance: 35 }
                            ];

                            // Ø§Ù†ØªØ®Ø§Ø¨ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ø§Ù†Ø³
                            let totalChance = 0;
                            const roll = Math.random() * 100;
                            let prize = null;

                            for (const p of prizes) {
                                totalChance += p.chance;
                                if (roll <= totalChance) {
                                    prize = p;
                                    break;
                                }
                            }

                            // Ø§Ø¹Ù…Ø§Ù„ Ø¬Ø§ÛŒØ²Ù‡
                            if (prize.type === 'coins') {
                                buyerData.balance += prize.amount;
                                saveData();
                                await interaction.reply({ 
                                    content: `âœ… Ø´Ù…Ø§ ${item.name} Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØ¯ Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯ÛŒØ¯!\nğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø§Ø² Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³ **${prize.amount} ${COIN_NAME}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!`, 
                                    ephemeral: true 
                                });
                                return;
                            } else {
                                await interaction.reply({ 
                                    content: `âœ… Ø´Ù…Ø§ ${item.name} Ø±Ø§ Ø®Ø±ÛŒØ¯ÛŒØ¯ Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯ÛŒØ¯!\nğŸ˜” Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø± Ø´Ø§Ù†Ø³ Ø¨Ø§ Ø´Ù…Ø§ ÛŒØ§Ø± Ù†Ø¨ÙˆØ¯ Ùˆ Ú†ÛŒØ²ÛŒ Ø§Ø² Ø¬Ø¹Ø¨Ù‡ Ø´Ø§Ù†Ø³ Ø¨Ø¯Ø³Øª Ù†ÛŒØ§ÙˆØ±Ø¯ÛŒØ¯.`, 
                                    ephemeral: true 
                                });
                                return;
                            }
                        }

                        await interaction.reply({ 
                            content: `âœ… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ${item.name} Ø±Ø§ Ø¨Ù‡ Ù‚ÛŒÙ…Øª ${item.price} ${COIN_NAME} Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯!`, 
                            ephemeral: true 
                        });
                        return;
                    }
                    break;

                    
                case 'dice_again_10':
                case 'dice_again_20':
                case 'dice_again_50':
                case 'dice_again_100':
                    const bet = parseInt(interaction.customId.split('_')[2]);
                    const userDataDiceAgain = getUser(interaction.user.id);
                    // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±
                    saveData();
                    if (userDataDiceAgain.balance < bet) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${bet} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                        return;
                    }
                    const userRollAgain = Math.floor(Math.random() * 6) + 1;
                    const botRollAgain = Math.floor(Math.random() * 6) + 1;

                    let resultAgain = '';
                    if (userRollAgain > botRollAgain) {
                        userDataDiceAgain.balance += bet;
                        resultAgain = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${bet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                    } else if (userRollAgain < botRollAgain) {
                        userDataDiceAgain.balance -= bet;
                        resultAgain = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${bet} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                    } else {
                        resultAgain = `ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                    }
                    saveData();
                    const diceEmbedAgain = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                        .setColor(userRollAgain > botRollAgain ? '#00FF00' : (userRollAgain < botRollAgain ? '#FF0000' : '#FFFF00'))
                        .setDescription(`
**ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRollAgain)} (${userRollAgain})
**ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRollAgain)} (${botRollAgain})

${resultAgain}

Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${userDataDiceAgain.balance} ${COIN_NAME}**`)
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                    const diceButtonsAgain = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`dice_again_${bet}`)
                                .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${bet} Ø³Ú©Ù‡)`)
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId(`dice_again_${bet * 2}`)
                                .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${bet * 2} Ø³Ú©Ù‡)`)
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );
                    await interaction.update({ embeds: [diceEmbedAgain], components: [diceButtonsAgain] });
                    break;

                case 'dice_game_10_bot':
                case 'dice_game_50_bot':
                    const betAmountDice = interaction.customId === 'dice_game_10_bot' ? 10 : 50;
                    const userDataDice = getUser(interaction.user.id);

                    if (userDataDice.balance < betAmountDice) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmountDice} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                        return;
                    }

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªØ§Ø³
                    const rollingDiceEmbed = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                        .setColor('#6642A9')
                        .setDescription('ØªØ§Ø³ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ø§Ø³Øª...')
                        .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                    // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                    const diceMessage = await interaction.reply({ 
                        embeds: [rollingDiceEmbed], 
                        fetchReply: true 
                    });

                    // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                    setTimeout(async () => {
                        const userRollDice = Math.floor(Math.random() * 6) + 1;
                        const botRollDice = Math.floor(Math.random() * 6) + 1;

                        let resultDice = '';
                        if (userRollDice > botRollDice) {
                            userDataDice.balance += betAmountDice;
                            resultDice = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${betAmountDice} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                        } else if (userRollDice < botRollDice) {
                            userDataDice.balance -= betAmountDice;
                            resultDice = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${betAmountDice} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                        } else {
                            resultDice = `ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                        }

                        saveData();

                        const diceResultEmbed = new EmbedBuilder()
                            .setTitle('ğŸ² Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                            .setColor(userRollDice > botRollDice ? '#00FF00' : (userRollDice < botRollDice ? '#FF0000' : '#FFFF00'))
                            .setDescription(`
**ØªØ§Ø³ Ø´Ù…Ø§**: ${getDiceEmoji(userRollDice)} (${userRollDice})
**ØªØ§Ø³ Ø±Ø¨Ø§Øª**: ${getDiceEmoji(botRollDice)} (${botRollDice})

${resultDice}

Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${userDataDice.balance} ${COIN_NAME}**`)
                            .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯!' });

                        const diceGameButtons = new ActionRowBuilder()
                            .addComponents(
                                new ButtonBuilder()
                                    .setCustomId(`dice_again_${betAmountDice}`)
                                    .setLabel(`ğŸ² Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${betAmountDice} Ø³Ú©Ù‡)`)
                                    .setStyle(ButtonStyle.Primary),
                                new ButtonBuilder()
                                    .setCustomId(`dice_again_${betAmountDice * 2}`)
                                    .setLabel(`ğŸ² Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± (${betAmountDice * 2} Ø³Ú©Ù‡)`)
                                    .setStyle(ButtonStyle.Danger),
                                new ButtonBuilder()
                                    .setCustomId('games')
                                    .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                    .setStyle(ButtonStyle.Secondary)
                            );

                        await interaction.editReply({ embeds: [diceResultEmbed], components: [diceGameButtons] });
                    }, 3000);
                    break;

                case 'dice_game_10_player':
                case 'dice_game_50_player':
                    const betAmountMulti = interaction.customId === 'dice_game_10_player' ? 10 : 50;
                    const userDataMulti = getUser(interaction.user.id);

                    if (userDataMulti.balance < betAmountMulti) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${betAmountMulti} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                        return;
                    }

                    const challengeEmbed = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ ØªØ§Ø³')
                        .setColor('#6642A9')
                        .setDescription(`${interaction.user} Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø¯ÙˆØ¦Ù„ ØªØ§Ø³ Ø¨Ø§ Ø´Ø±Ø· ${betAmountMulti} ${COIN_NAME} Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!\n\nØ¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ØŒ Ø¯Ú©Ù…Ù‡ Ù‚Ø¨ÙˆÙ„ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯.`)
                        .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 60 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                    const challengeButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`dice_accept_${interaction.user.id}_${betAmountMulti}`)
                                .setLabel('âœ… Ù‚Ø¨ÙˆÙ„ Ú†Ø§Ù„Ø´')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('dice_reject')
                                .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.reply({ 
                        content: 'Ù„Ø·ÙØ§Ù‹ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ Ø§Ùˆ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯ Ø±Ø§ Ù…Ù†Ø´Ù† Ú©Ù†ÛŒØ¯:',
                        ephemeral: true 
                    });

                    // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø´Ù† Ú©Ø±Ø¯Ù† Ø±Ù‚ÛŒØ¨
                    const filter = m => m.author.id === interaction.user.id && m.mentions.users.size > 0;
                    const channel = interaction.channel;

                    try {
                        const collected = await channel.awaitMessages({ filter, max: 1, time: 30000, errors: ['time'] });
                        const targetUser = collected.first().mentions.users.first();

                        // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù…Ù†Ø´Ù†
                        await collected.first().delete().catch(console.error);

                        if (targetUser.id === interaction.user.id) {
                            await interaction.followUp({
                                content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø®ÙˆØ¯ØªØ§Ù† Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯!',
                                ephemeral: true
                            });
                            return;
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                        const targetUserData = getUser(targetUser.id);
                        if (targetUserData.balance < betAmountMulti) {
                            await interaction.followUp({
                                content: `âŒ Ú©Ø§Ø±Ø¨Ø± ${targetUser.username} Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù†Ø¯Ø§Ø±Ø¯!`,
                                ephemeral: true
                            });
                            return;
                        }

                        const challengeMessage = await interaction.followUp({ 
                            content: `${targetUser}`,
                            embeds: [challengeEmbed], 
                            components: [challengeButtons] 
                        });

                        // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                        const buttonFilter = i => 
                            (i.customId === `dice_accept_${interaction.user.id}_${betAmountMulti}` || 
                             i.customId === 'dice_reject') && 
                            i.user.id === targetUser.id;

                        const buttonCollector = interaction.channel.createMessageComponentCollector({ 
                            filter: buttonFilter, 
                            time: 60000 
                        });

                        buttonCollector.on('collect', async i => {
                            if (i.customId === 'dice_reject') {
                                await i.update({ 
                                    content: `${targetUser.username} Ú†Ø§Ù„Ø´ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                    embeds: [], 
                                    components: [] 
                                });
                                buttonCollector.stop();
                                return;
                            }

                            // Ú©Ø§Ø±Ø¨Ø± Ú†Ø§Ù„Ø´ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª - Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
                            await i.update({ 
                                content: `${targetUser.username} Ú†Ø§Ù„Ø´ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                                embeds: [],
                                components: []
                            });

                            // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù…Ø¨Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªØ§Ø³
                            const multiRollingEmbed = new EmbedBuilder()
                                .setTitle('ğŸ² Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                .setColor('#6642A9')
                                .setDescription(`**${interaction.user.username}** vs **${targetUser.username}**\n\nØªØ§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ù‡Ø³ØªÙ†Ø¯...`)
                                .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                            await i.editReply({ 
                                content: '',
                                embeds: [multiRollingEmbed], 
                                components: [] 
                            });

                            // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                            setTimeout(async () => {
                                const player1Roll = Math.floor(Math.random() * 6) + 1;
                                const player2Roll = Math.floor(Math.random() * 6) + 1;

                                let resultText = '';
                                if (player1Roll > player2Roll) {
                                    // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                    userDataMulti.balance += betAmountMulti;
                                    targetUserData.balance -= betAmountMulti;
                                    resultText = `ğŸ‰ **${interaction.user.username}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${betAmountMulti} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                } else if (player1Roll < player2Roll) {
                                    // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                    userDataMulti.balance -= betAmountMulti;
                                    targetUserData.balance += betAmountMulti;
                                    resultText = `ğŸ‰ **${targetUser.username}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${betAmountMulti} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                                } else {
                                    // Ù…Ø³Ø§ÙˆÛŒ
                                    resultText = `ğŸ˜ Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                                }

                                saveData();

                                const duelResultEmbed = new EmbedBuilder()
                                    .setTitle('ğŸ² Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                    .setColor(player1Roll > player2Roll ? '#00FF00' : (player1Roll < player2Roll ? '#FF0000' : '#FFFF00'))
                                    .setDescription(`
**${interaction.user.username}**: ${getDiceEmoji(player1Roll)} (${player1Roll})
**${targetUser.username}**: ${getDiceEmoji(player2Roll)} (${player2Roll})

${resultText}`)
                                    .setFooter({ text: 'Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                                const rematchButton = new ActionRowBuilder()
                                    .addComponents(
                                        new ButtonBuilder()
                                            .setCustomId(`dice_rematch_${interaction.user.id}_${targetUser.id}_${betAmountMulti}`)
                                            .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                            .setStyle(ButtonStyle.Primary)
                                    );

                                await i.editReply({ 
                                    embeds: [duelResultEmbed], 
                                    components: [rematchButton] 
                                });
                            }, 3000);
                        });

                        buttonCollector.on('end', collected => {
                            if (collected.size === 0) {
                                interaction.followUp({ 
                                    content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                    ephemeral: true
                                });
                            }
                        });
                    } catch (err) {
                        console.error(err);
                        await interaction.followUp({
                            content: 'âŒ Ø´Ù…Ø§ Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ù…Ù†Ø´Ù† Ù†Ú©Ø±Ø¯ÛŒØ¯ ÛŒØ§ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                            ephemeral: true
                        });
                    }
                    break;

                case 'play_steal':
                    // Ù¾Ù†Ø¬Ø±Ù‡ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
                    const isStealActive = checkStealWindow();
                    
                    if (!isStealActive) {
                        await interaction.reply({
                            content: 'âŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø§Ø² Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø§Ù„Ø§Ù† Ø²Ù…Ø§Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù†ÛŒØ³Øª.',
                            ephemeral: true
                        });
                        return;
                    }
                    
                    const stealEmbed = new EmbedBuilder()
                        .setTitle('ğŸ¥· Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                        .setColor('#FF5555')
                        .setDescription('Ù¾Ù†Ø¬Ø±Ù‡ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª! Ø¨Ø±Ø§ÛŒ Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±ØŒ Ø§Ø² Ø¯Ø³ØªÙˆØ± `/steal` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\nÙ…Ø«Ø§Ù„: `/steal user:@username`\n\n**Ù†Ú©ØªÙ‡**: ÙÙ‚Ø· Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø¬ÛŒØ¨ (Ú©ÛŒÙ Ù¾ÙˆÙ„) Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ Ù‡Ø³ØªÙ†Ø¯. Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù†Ú© Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯!')
                        .addFields(
                            { name: 'âš ï¸ Ù‡Ø´Ø¯Ø§Ø±', value: 'Ø§Ù…Ú©Ø§Ù† Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù† Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ø¬Ø±ÛŒÙ…Ù‡ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯!' },
                            { name: 'ğŸ“ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§', value: `- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_DAILY_STEALS} Ø¨Ø§Ø± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± 1 Ø¨Ø§Ø± Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_STEAL_PERCENTAGE * 100}% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø§Ø¨Ù„ Ø³Ø±Ù‚Øª Ø§Ø³Øª` }
                        );
                    
                    await interaction.reply({ embeds: [stealEmbed], ephemeral: true });
                    break;
                    
                case 'steal_info':
                    // Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ
                    const stealInfoEmbed = new EmbedBuilder()
                        .setTitle('â„¹ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ')
                        .setColor('#3498DB')
                        .setDescription('Ø³ÛŒØ³ØªÙ… Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ù…Ú©Ø§Ù† Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ø§ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø§Ø³Øª:')
                        .addFields(
                            { name: 'â° Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ', value: 'Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙÙ‚Ø· Ø¯Ø± ÛŒÚ© Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ 15 Ø¯Ù‚ÛŒÙ‚Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø±ÙˆØ² ÙØ¹Ø§Ù„ Ø§Ø³Øª. Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª ØªØµØ§Ø¯ÙÛŒ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯.' },
                            { name: 'ğŸ›¡ï¸ Ù…Ø­Ø§ÙØ¸Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯', value: `Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯ÛŒØ¯ ØªØ§ ${NEW_USER_PROTECTION_DAYS} Ø±ÙˆØ² Ø§ÙˆÙ„ Ø§Ø² Ø³Ø±Ù‚Øª Ù…Ø­Ø§ÙØ¸Øª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.` },
                            { name: 'ğŸ”’ Ø§Ù…Ù†ÛŒØª', value: 'ÙÙ‚Ø· Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø¬ÛŒØ¨ (Ú©ÛŒÙ Ù¾ÙˆÙ„) Ù‚Ø§Ø¨Ù„ Ø¯Ø²Ø¯ÛŒ Ù‡Ø³ØªÙ†Ø¯. Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ø¨Ø§Ù†Ú© Ø§ÛŒÙ…Ù† Ù‡Ø³ØªÙ†Ø¯.' },
                            { name: 'âš–ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§', value: `- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_DAILY_STEALS} Ø¨Ø§Ø± Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± 1 Ø¨Ø§Ø± Ø¯Ø²Ø¯ÛŒ Ø§Ø² Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø±ÙˆØ²\n- Ø­Ø¯Ø§Ú©Ø«Ø± ${MAX_STEAL_PERCENTAGE * 100}% Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬ÛŒØ¨ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø§Ø¨Ù„ Ø³Ø±Ù‚Øª Ø§Ø³Øª\n- Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø®ÛŒØ±Ø§Ù‹ Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¯Ø²Ø¯ÛŒ Ø´Ø¯Ù‡ØŒ Ø´Ø§Ù†Ø³ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÙˆÙ…Øª Ø¯Ø§Ø±Ù†Ø¯` },
                            { name: 'âš ï¸ Ø±ÛŒØ³Ú©', value: 'Ø¯Ø± ØµÙˆØ±Øª Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù† Ø¯Ø²Ø¯ÛŒØŒ Ø´Ù…Ø§ Ø¬Ø±ÛŒÙ…Ù‡ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø´Ø¯!' }
                        )
                        .setFooter({ text: 'Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù†Ú© Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯!' });
                    
                    await interaction.reply({ embeds: [stealInfoEmbed], ephemeral: true });
                    break;
                    
                case 'dice_rematch':
                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                    const rematchParts = interaction.customId.split('_');
                    const player1Id = rematchParts[2];
                    const player2Id = rematchParts[3];
                    const rematchBet = parseInt(rematchParts[4]);

                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø¯Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ú©Ù…Ù‡ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª
                    if (interaction.user.id !== player1Id && interaction.user.id !== player2Id) {
                        await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¬Ø²Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù†ÛŒØ³ØªÛŒØ¯!',
                            ephemeral: true
                        });
                        return;
                    }

                    const opponent = interaction.user.id === player1Id ? player2Id : player1Id;

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨ÙˆÙ„ ÛŒØ§ Ø±Ø¯ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                    const rematchEmbed = new EmbedBuilder()
                        .setTitle('ğŸ² Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                        .setColor('#6642A9')
                        .setDescription(`${interaction.user} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§ Ø´Ø±Ø· ${rematchBet} ${COIN_NAME} Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª!`)
                        .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 30 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                    const rematchButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`dice_accept_rematch_${player1Id}_${player2Id}_${rematchBet}`)
                                .setLabel('âœ… Ù‚Ø¨ÙˆÙ„')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('dice_reject_rematch')
                                .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                .setStyle(ButtonStyle.Danger)
                        );

                    await interaction.update({ 
                        embeds: [rematchEmbed], 
                        components: [rematchButtons] 
                    });

                    // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ø­Ø±ÛŒÙ Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                    const rematchFilter = i => 
                        (i.customId === `dice_accept_rematch_${player1Id}_${player2Id}_${rematchBet}` || 
                         i.customId === 'dice_reject_rematch') && 
                        i.user.id === opponent;

                    const rematchCollector = interaction.channel.createMessageComponentCollector({ 
                        filter: rematchFilter, 
                        time: 30000 
                    });

                    rematchCollector.on('collect', async i => {
                        if (i.customId === 'dice_reject_rematch') {
                            await i.update({ 
                                content: `<@${opponent}> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                embeds: [], 
                                components: [] 
                            });
                            rematchCollector.stop();
                            return;
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‡Ø± Ø¯Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù†
                        const player1Data = getUser(player1Id);
                        const player2Data = getUser(player2Id);

                        if (player1Data.balance < rematchBet || player2Data.balance < rematchBet) {
                            await i.update({
                                content: 'âŒ ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±Ø¯!',
                                embeds: [],
                                components: []
                            });
                            return;
                        }

                        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                        await i.update({ 
                            content: `<@${opponent}> Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                            embeds: [],
                            components: []
                        });

                        // Ù…Ø´Ø§Ø¨Ù‡ Ú©Ø¯ Ø¨Ø§Ø²ÛŒ Ù‚Ø¨Ù„ÛŒ...
                        const rematchRollingEmbed = new EmbedBuilder()
                            .setTitle('ğŸ² Ø¯ÙˆØ¦Ù„ ØªØ§Ø³ (Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯)')
                            .setColor('#6642A9')
                            .setDescription(`**<@${player1Id}>** vs **<@${player2Id}>**\n\nØªØ§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú†Ø±Ø®Ø´ Ù‡Ø³ØªÙ†Ø¯...`)
                            .setImage('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHR6c3Bqc2h3NGRzcWprMHhudnMyZmhsMnNtbHcyZ3ZzdnBxdjRrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tG7vpy33b8QV9J1zHu/giphy.gif');

                        await i.editReply({ 
                            content: '',
                            embeds: [rematchRollingEmbed], 
                            components: [] 
                        });

                        // ØªØ£Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† (3 Ø«Ø§Ù†ÛŒÙ‡)
                        setTimeout(async () => {
                            const player1Roll = Math.floor(Math.random() * 6) + 1;
                            const player2Roll = Math.floor(Math.random() * 6) + 1;

                            let resultText = '';
                            if (player1Roll > player2Roll) {
                                // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                player1Data.balance += rematchBet;
                                player2Data.balance -= rematchBet;
                                resultText = `ğŸ‰ **<@${player1Id}>** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${rematchBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                            } else if (player1Roll < player2Roll) {
                                // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                player1Data.balance -= rematchBet;
                                player2Data.balance += rematchBet;
                                resultText = `ğŸ‰ **<@${player2Id}>** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ Ùˆ ${rematchBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                            } else {
                                // Ù…Ø³Ø§ÙˆÛŒ
                                resultText = `ğŸ˜ Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                            }

                            saveData();

                            const rematchResultEmbed = new EmbedBuilder()
                                .setTitle('ğŸ² Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ ØªØ§Ø³')
                                .setColor(player1Roll > player2Roll ? '#00FF00' : (player1Roll < player2Roll ? '#FF0000' : '#FFFF00'))
                                .setDescription(`
**<@${player1Id}>**: ${getDiceEmoji(player1Roll)} (${player1Roll})
**<@${player2Id}>**: ${getDiceEmoji(player2Roll)} (${player2Roll})

${resultText}`)
                                .setFooter({ text: 'Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                            const rematchButtonAgain = new ActionRowBuilder()
                                .addComponents(
                                    new ButtonBuilder()
                                        .setCustomId(`dice_rematch_${player1Id}_${player2Id}_${rematchBet}`)
                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                        .setStyle(ButtonStyle.Primary)
                                );

                            await i.editReply({ 
                                embeds: [rematchResultEmbed], 
                                components: [rematchButtonAgain] 
                            });
                        }, 3000);
                    });

                    rematchCollector.on('end', collected => {
                        if (collected.size === 0) {
                            interaction.editReply({ 
                                content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                embeds: [],
                                components: []
                            });
                        }
                    });
                    break;

                case 'adminpanel':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                    const adminPanelEmbed = new EmbedBuilder()
                        .setTitle('ğŸ› ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')
                        .setColor('#FF0000')
                        .setDescription('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ù…Ø¯ÛŒØ± Ú¯Ø±Ø§Ù…ÛŒ! Ø§Ø² Ø§ÛŒÙ† Ù¾Ù†Ù„ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯.')
                        .addFields(
                            { name: 'ğŸ“Š Ø¢Ù…Ø§Ø±', value: `ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: ${Object.keys(users).length}\nØªØ¹Ø¯Ø§Ø¯ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡: ${shopItems.length}`, inline: false },
                            { name: 'ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡', value: 'ØªÙ†Ø¸ÛŒÙ… ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø³Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true },
                            { name: 'ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡', value: 'Ø§Ø¶Ø§ÙÙ‡ ÛŒØ§ Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡', inline: true },
                            { name: 'ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§', value: 'Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÛŒØ§ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†', inline: true }
                        )
                        .setFooter({ text: 'Ø¯Ø³ØªØ±Ø³ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ù…Ø¬Ø§Ø²' });

                    // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                    const adminPanelRow1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('admin_coins')
                                .setLabel('ğŸ’° Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('admin_shop')
                                .setLabel('ğŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('admin_data')
                                .setLabel('ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Primary)
                        );

                    await interaction.reply({ embeds: [adminPanelEmbed], components: [adminPanelRow1], ephemeral: true });
                    break;

                case 'setcoin':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const targetUserCoin = interaction.options.getUser('user');
                    const newAmount = interaction.options.getInteger('amount');

                    if (newAmount < 0) {
                        return await interaction.reply({
                            content: 'âŒ Ù…Ù‚Ø¯Ø§Ø± Ø³Ú©Ù‡ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†ÙÛŒ Ø¨Ø§Ø´Ø¯!',
                            ephemeral: true
                        });
                    }

                    const targetUserData = getUser(targetUserCoin.id);
                    const oldAmount = targetUserData.balance;
                    targetUserData.balance = newAmount;
                    saveData();

                    await interaction.reply({
                        content: `âœ… Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø³Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ${targetUserCoin.username} Ø§Ø² ${oldAmount} Ø¨Ù‡ ${newAmount} ${COIN_NAME} ØªØºÛŒÛŒØ± Ú©Ø±Ø¯.`,
                        ephemeral: true
                    });
                    break;

                case 'restart':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    await interaction.reply({
                        content: 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª... Ù„Ø·ÙØ§Ù‹ ØµØ¨Ø± Ú©Ù†ÛŒØ¯.'
                    });

                    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                    saveData();

                    try {
                        // Ø«Ø¨Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¯Ø³ØªÙˆØ±Ø§Øª Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª
                        await rest.put(Routes.applicationCommands(CLIENT_ID), { body: commands });

                        // Ø§Ø¹Ù„Ø§Ù… ØªÚ©Ù…ÛŒÙ„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                        await interaction.editReply({
                            content: 'âœ… Ø±Ø¨Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø´Ø¯ Ùˆ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯!'
                        });
                    } catch (error) {
                        console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯:', error);
                        await interaction.editReply({
                            content: 'âŒ Ø®Ø·Ø§ Ø¯Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§Øª! Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.'
                        });
                    }
                    break;

                case 'additem':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const itemName = interaction.options.getString('name');
                    const itemPrice = interaction.options.getInteger('price');
                    const itemDesc = interaction.options.getString('description');

                    if (itemPrice < 0) {
                        return await interaction.reply({
                            content: 'âŒ Ù‚ÛŒÙ…Øª Ø¢ÛŒØªÙ… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†ÙÛŒ Ø¨Ø§Ø´Ø¯!',
                            ephemeral: true
                        });
                    }

                    // Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…
                    const itemId = 'item_' + Date.now();

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
                    shopItems.push({
                        id: itemId,
                        name: itemName,
                        price: itemPrice,
                        description: itemDesc
                    });

                    saveData();

                    await interaction.reply({
                        content: `âœ… Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯ "${itemName}" Ø¨Ø§ Ù‚ÛŒÙ…Øª ${itemPrice} ${COIN_NAME} Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`,
                        ephemeral: true
                    });
                    break;

                case 'removeitem':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const itemIdToRemove = interaction.options.getString('id');
                    const itemIndex = shopItems.findIndex(item => item.id === itemIdToRemove);

                    if (itemIndex === -1) {
                        return await interaction.reply({
                            content: 'âŒ Ø¢ÛŒØªÙ… Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!',
                            ephemeral: true
                        });
                    }

                    const removedItem = shopItems.splice(itemIndex, 1)[0];
                    saveData();

                    await interaction.reply({
                        content: `âœ… Ø¢ÛŒØªÙ… "${removedItem.name}" Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø­Ø°Ù Ø´Ø¯.`,
                        ephemeral: true
                    });
                    break;

                case 'resetdata':
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¯ÛŒØ±
                    if (!hasAdminRole(interaction.member)) {
                        return await interaction.reply({
                            content: 'âŒ Ø´Ù…Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯!',
                            ephemeral: true
                        });
                    }

                    const userToReset = interaction.options.getUser('user');

                    if (users[userToReset.id]) {
                        delete users[userToReset.id];
                        saveData();
                        await interaction.reply({
                            content: `âœ… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± ${userToReset.username} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯.`,
                            ephemeral: true
                        });
                    } else {
                        await interaction.reply({
                            content: `â“ Ú©Ø§Ø±Ø¨Ø± ${userToReset.username} Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ù†Ø¯Ø§Ø±Ø¯.`,
                            ephemeral: true
                        });
                    }
                    break;

                case 'play_rps':
                    // Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ
                    const rpsEmbed = new EmbedBuilder()
                        .setTitle('âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                        .setColor('#1ABC9C')
                        .setDescription('Ø¨Ø§ Ø±Ø¨Ø§Øª ÛŒØ§ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯:\n\nğŸª¨ Ø³Ù†Ú¯\nğŸ“„ Ú©Ø§ØºØ°\nâœ‚ï¸ Ù‚ÛŒÚ†ÛŒ');

                    const rpsButtons1 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('rps_bot_10')
                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (10 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('rps_bot_50')
                                .setLabel('ğŸ¤– Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª (50 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Danger)
                        );

                    const rpsButtons2 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('rps_player_10')
                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (10 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('rps_player_50')
                                .setLabel('ğŸ‘¥ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† (50 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Success)
                        );

                    const rpsButtons3 = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [rpsEmbed], components: [rpsButtons1, rpsButtons2, rpsButtons3], ephemeral: true });
                    break;

                case 'rps_bot_10':
                case 'rps_bot_50':
                    const rpsBetAmount = interaction.customId === 'rps_bot_10' ? 10 : 50;
                    const rpsUserData = getUser(interaction.user.id);

                    if (rpsUserData.balance < rpsBetAmount) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${rpsBetAmount} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                        return;
                    }

                    const rpsChoiceEmbed = new EmbedBuilder()
                        .setTitle('âš”ï¸ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                        .setColor('#1ABC9C')
                        .setDescription(`Ø´Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø±Ø¨Ø§Øª Ù‡Ø³ØªÛŒØ¯ (Ø´Ø±Ø·: ${rpsBetAmount} ${COIN_NAME})\n\nØ§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯:`);

                    const rpsChoiceButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`rps_choice_rock_${rpsBetAmount}`)
                                .setLabel('ğŸª¨ Ø³Ù†Ú¯')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId(`rps_choice_paper_${rpsBetAmount}`)
                                .setLabel('ğŸ“„ Ú©Ø§ØºØ°')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId(`rps_choice_scissors_${rpsBetAmount}`)
                                .setLabel('âœ‚ï¸ Ù‚ÛŒÚ†ÛŒ')
                                .setStyle(ButtonStyle.Primary)
                        );

                    await interaction.reply({ embeds: [rpsChoiceEmbed], components: [rpsChoiceButtons], ephemeral: true });
                    break;

                case 'rps_choice_rock_10':
                case 'rps_choice_rock_50':
                case 'rps_choice_paper_10':
                case 'rps_choice_paper_50':
                case 'rps_choice_scissors_10':
                case 'rps_choice_scissors_50':
                    // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ
                    const rpsParts = interaction.customId.split('_');
                    const userChoice = rpsParts[2]; // rock, paper, scissors
                    const rpsBet = parseInt(rpsParts[3]); // 10 ÛŒØ§ 50

                    const rpsUser = getUser(interaction.user.id);

                    if (rpsUser.balance < rpsBet) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ø· Ø¨Ù†Ø¯ÛŒ ${rpsBet} ${COIN_NAME} Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!`,
                            ephemeral: true
                        });
                        return;
                    }

                    // Ø§Ù†ØªØ®Ø§Ø¨ ØªØµØ§Ø¯ÙÛŒ Ø±Ø¨Ø§Øª
                    const choices = ['rock', 'paper', 'scissors'];
                    const botChoice = choices[Math.floor(Math.random() * choices.length)];

                    // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
                    let rpsResult = '';
                    let resultColor = '#FFFF00'; // Ø²Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ù…Ø³Ø§ÙˆÛŒ

                    if (userChoice === botChoice) {
                        // Ù…Ø³Ø§ÙˆÛŒ
                        rpsResult = 'ğŸ˜ Ù…Ø³Ø§ÙˆÛŒ! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.';
                    } else if (
                        (userChoice === 'rock' && botChoice === 'scissors') ||
                        (userChoice === 'paper' && botChoice === 'rock') ||
                        (userChoice === 'scissors' && botChoice === 'paper')
                    ) {
                        // Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                        rpsUser.balance += rpsBet;
                        rpsResult = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ ${rpsBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯ÛŒØ¯!`;
                        resultColor = '#00FF00'; // Ø³Ø¨Ø² Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø¯
                    } else {
                        // Ø±Ø¨Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                        rpsUser.balance -= rpsBet;
                        rpsResult = `ğŸ˜¢ Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯ Ùˆ ${rpsBet} ${COIN_NAME} Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯!`;
                        resultColor = '#FF0000'; // Ù‚Ø±Ù…Ø² Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø®Øª
                    }

                    saveData();

                    // ØªØ¨Ø¯ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§ÛŒÙ…ÙˆØ¬ÛŒ
                    const choiceToEmoji = {
                        'rock': 'ğŸª¨ Ø³Ù†Ú¯',
                        'paper': 'ğŸ“„ Ú©Ø§ØºØ°',
                        'scissors': 'âœ‚ï¸ Ù‚ÛŒÚ†ÛŒ'
                    };

                    const rpsResultEmbed = new EmbedBuilder()
                        .setTitle('âš”ï¸ Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯ Ú©Ø§ØºØ° Ù‚ÛŒÚ†ÛŒ')
                        .setColor(resultColor)
                        .setDescription(`
**Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§**: ${choiceToEmoji[userChoice]}
**Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø¨Ø§Øª**: ${choiceToEmoji[botChoice]}

${rpsResult}

Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${rpsUser.balance} ${COIN_NAME}**`)
                        .setFooter({ text: 'Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯' });

                    const rpsPlayAgainButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId(`rps_bot_${rpsBet}`)
                                .setLabel(`ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ (${rpsBet} Ø³Ú©Ù‡)`)
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('play_rps')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø¨Ø§Ø²ÛŒ')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.update({ embeds: [rpsResultEmbed], components: [rpsPlayAgainButtons] });
                    break;

                case 'play_numguess':
                    // Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯
                    const numGuessEmbed = new EmbedBuilder()
                        .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                        .setColor('#E67E22')
                        .setDescription('Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯!\n\nÙ‡Ø± Ø¨Ø§Ø²ÛŒ 20 Ø³Ú©Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø±Ø¯ØŒ Ø§Ù…Ø§ Ø§Ú¯Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯ Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯. Ù‡Ø± Ú†Ù‡ Ø²ÙˆØ¯ØªØ± Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯ØŒ Ø¬Ø§ÛŒØ²Ù‡ Ø¨ÛŒØ´ØªØ±ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØ¯!');

                    const numGuessButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('numguess_start')
                                .setLabel('ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ (20 Ø³Ú©Ù‡)')
                                .setStyle(ButtonStyle.Success),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [numGuessEmbed], components: [numGuessButtons], ephemeral: true });
                    break;

                case 'numguess_start':
                    const numGuessUser = getUser(interaction.user.id);
                    const numGuessCost = 20;

                    if (numGuessUser.balance < numGuessCost) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${numGuessCost - numGuessUser.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`,
                            ephemeral: true
                        });
                        return;
                    }

                    // Ú©Ù… Ú©Ø±Ø¯Ù† Ù‡Ø²ÛŒÙ†Ù‡ Ø¨Ø§Ø²ÛŒ
                    numGuessUser.balance -= numGuessCost;
                    saveData();

                    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Map Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±
                    if (!client.numGuessGames) client.numGuessGames = new Map();

                    // Ø§Ù†ØªØ®Ø§Ø¨ ÛŒÚ© Ø¹Ø¯Ø¯ ØªØµØ§Ø¯ÙÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100
                    const secretNumber = Math.floor(Math.random() * 100) + 1;

                    // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ Ø¯Ø± ÛŒÚ© Ø¢Ø¨Ø¬Ú©Øª Ù…ÙˆÙ‚Øª
                    const gameData = {
                        number: secretNumber,
                        attempts: 0,
                        maxAttempts: 10,
                        startTime: Date.now()
                    };

                    const startGameEmbed = new EmbedBuilder()
                        .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                        .setColor('#E67E22')
                        .setDescription(`Ù…Ù† ÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù…! Ø´Ù…Ø§ ${gameData.maxAttempts} ÙØ±ØµØª Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ Ø¢Ù† Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.\n\nÛŒÚ© Ø¹Ø¯Ø¯ Ø±Ø§ Ø¯Ø± Ú†Øª Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ (Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† 1 ØªØ§ 100).`)
                        .setFooter({ text: `ØªÙ„Ø§Ø´ 0/${gameData.maxAttempts} | Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: ${numGuessUser.balance} ${COIN_NAME}` });

                    await interaction.reply({ embeds: [startGameEmbed] });

                    // Ù…Ù†ØªØ¸Ø± ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                    const numGuessFilter = m => m.author.id === interaction.user.id && !isNaN(m.content) && parseInt(m.content) >= 1 && parseInt(m.content) <= 100;

                    const numGuessCollector = interaction.channel.createMessageCollector({
                        filter: numGuessFilter,
                        time: 300000, // 5 Ø¯Ù‚ÛŒÙ‚Ù‡
                        max: gameData.maxAttempts
                    });

                    numGuessCollector.on('collect', async message => {
                        // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
                        await message.delete().catch(console.error);

                        const guess = parseInt(message.content);
                        gameData.attempts++;

                        let resultMessage = '';

                        if (guess === gameData.number) {
                            // Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!
                            numGuessCollector.stop('win');

                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´
                            const baseReward = 100;
                            const attemptFactor = 1 - (gameData.attempts / gameData.maxAttempts) * 0.5; // Ø¨ÛŒÙ† 0.5 ØªØ§ 1
                            const timeFactor = Math.max(0.5, 1 - (Date.now() - gameData.startTime) / 300000); // Ø­Ø¯Ø§Ú©Ø«Ø± 1ØŒ Ø­Ø¯Ø§Ù‚Ù„ 0.5
                            const reward = Math.round(baseReward * attemptFactor * timeFactor);

                            numGuessUser.balance += reward;
                            saveData();

                            resultMessage = `ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø§ ${gameData.attempts} ØªÙ„Ø§Ø´ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!\n\n**Ø¬Ø§ÛŒØ²Ù‡ Ø´Ù…Ø§**: ${reward} ${COIN_NAME}`;

                            const winEmbed = new EmbedBuilder()
                                .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ - Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!')
                                .setColor('#00FF00')
                                .setDescription(`Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯!\n\n${resultMessage}\n\nÙ…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${numGuessUser.balance} ${COIN_NAME}**`)
                                .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                            const playAgainButton = new ActionRowBuilder()
                                .addComponents(
                                    new ButtonBuilder()
                                        .setCustomId('numguess_start')
                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                        .setStyle(ButtonStyle.Primary),
                                    new ButtonBuilder()
                                        .setCustomId('games')
                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                        .setStyle(ButtonStyle.Secondary)
                                );

                            await interaction.followUp({ embeds: [winEmbed], components: [playAgainButton] });
                            return;
                        }

                        if (guess < gameData.number) {
                            resultMessage = `ğŸ“ˆ Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯ØªØ± Ø§Ø³Øª (${guess} < ?)`;
                        } else {
                            resultMessage = `ğŸ“‰ Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ± Ø§Ø³Øª (${guess} > ?)`;
                        }

                        if (gameData.attempts >= gameData.maxAttempts) {
                            // ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ ØªÙ…Ø§Ù… Ø´Ø¯
                            numGuessCollector.stop('lose');
                            return;
                        }

                        const guessEmbed = new EmbedBuilder()
                            .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯')
                            .setColor('#E67E22')
                            .setDescription(`${resultMessage}\n\nÛŒÚ© Ø¹Ø¯Ø¯ Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.`)
                            .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                        await interaction.followUp({ embeds: [guessEmbed] });
                    });

                    numGuessCollector.on('end', async (collected, reason) => {
                        if (reason === 'win') {
                            // Ù‚Ø¨Ù„Ø§Ù‹ Ù¾ÛŒØ§Ù… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª
                            return;
                        }

                        if (reason === 'time') {
                            await interaction.followUp({
                                content: `â±ï¸ Ø²Ù…Ø§Ù† Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯! Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯.`,
                                ephemeral: true
                            });
                        } else if (reason === 'lose') {
                            const loseEmbed = new EmbedBuilder()
                                .setTitle('ğŸ”¢ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ - Ø¨Ø§Ø®ØªÛŒØ¯!')
                                .setColor('#FF0000')
                                .setDescription(`Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ ØªÙ…Ø§Ù… Ø´Ø¯! Ø¹Ø¯Ø¯ Ù…Ø®ÙÛŒ **${gameData.number}** Ø¨ÙˆØ¯.\n\nÙ…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: **${numGuessUser.balance} ${COIN_NAME}**`)
                                .setFooter({ text: `ØªÙ„Ø§Ø´ ${gameData.attempts}/${gameData.maxAttempts}` });

                            const playAgainButton = new ActionRowBuilder()
                                .addComponents(
                                    new ButtonBuilder()
                                        .setCustomId('numguess_start')
                                        .setLabel('ğŸ”„ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯')
                                        .setStyle(ButtonStyle.Primary),
                                    new ButtonBuilder()
                                        .setCustomId('games')
                                        .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§')
                                        .setStyle(ButtonStyle.Secondary)
                                );

                            await interaction.followUp({ embeds: [loseEmbed], components: [playAgainButton] });
                        }
                    });
                    break;

                case 'play_duel':
                    // Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¦Ù„ - Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯ÛŒÚ¯Ø±
                    const duelEmbed = new EmbedBuilder()
                        .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                        .setColor('#8E44AD')
                        .setDescription('Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´ÙˆÛŒØ¯!\n\nØ´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§ Ø´Ø§Ù†Ø³ Ùˆ Ù…Ù‡Ø§Ø±Øª Ø¨Ø±Ù†Ø¯Ù‡ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒØ´ÙˆØ¯.');

                    const duelButtons = new ActionRowBuilder()
                        .addComponents(
                            new ButtonBuilder()
                                .setCustomId('duel_start_50')
                                .setLabel('ğŸ† Ø¯ÙˆØ¦Ù„ 50 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Primary),
                            new ButtonBuilder()
                                .setCustomId('duel_start_100')
                                .setLabel('ğŸ† Ø¯ÙˆØ¦Ù„ 100 Ø³Ú©Ù‡')
                                .setStyle(ButtonStyle.Danger),
                            new ButtonBuilder()
                                .setCustomId('games')
                                .setLabel('ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª')
                                .setStyle(ButtonStyle.Secondary)
                        );

                    await interaction.reply({ embeds: [duelEmbed], components: [duelButtons], ephemeral: true });
                    break;

                case 'duel_start_50':
                case 'duel_start_100':
                    const duelBet = interaction.customId === 'duel_start_50' ? 50 : 100;
                    const duelUserData = getUser(interaction.user.id);

                    if (duelUserData.balance < duelBet) {
                        await interaction.reply({
                            content: `âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯ÙˆØ¦Ù„ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! Ø´Ù…Ø§ Ø¨Ù‡ ${duelBet - duelUserData.balance} ${COIN_NAME} Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.`,
                            ephemeral: true
                        });
                        return;
                    }

                    await interaction.reply({ 
                        content: 'Ù„Ø·ÙØ§Ù‹ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§ Ø§Ùˆ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯ Ø±Ø§ Ù…Ù†Ø´Ù† Ú©Ù†ÛŒØ¯:',
                        ephemeral: true 
                    });

                    // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø´Ù† Ú©Ø±Ø¯Ù† Ø±Ù‚ÛŒØ¨
                    const duelFilter = m => m.author.id === interaction.user.id && m.mentions.users.size > 0;
                    const duelChannel = interaction.channel;

                    try {
                        const duelCollected = await duelChannel.awaitMessages({ filter: duelFilter, max: 1, time: 30000, errors: ['time'] });
                        const duelTarget = duelCollected.first().mentions.users.first();

                        // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù…Ù†Ø´Ù†
                        await duelCollected.first().delete().catch(console.error);

                        if (duelTarget.id === interaction.user.id) {
                            await interaction.followUp({
                                content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø®ÙˆØ¯ØªØ§Ù† Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯!',
                                ephemeral: true
                            });
                            return;
                        }

                        if (duelTarget.bot) {
                            await interaction.followUp({
                                content: 'âŒ Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§ Ø¯ÙˆØ¦Ù„ Ú©Ù†ÛŒØ¯!',
                                ephemeral: true
                            });
                            return;
                        }

                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø¯Ù
                        const duelTargetData = getUser(duelTarget.id);
                        if (duelTargetData.balance < duelBet) {
                            await interaction.followUp({
                                content: `âŒ Ú©Ø§Ø±Ø¨Ø± ${duelTarget.username} Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯ÙˆØ¦Ù„ Ù†Ø¯Ø§Ø±Ø¯!`,
                                ephemeral: true
                            });
                            return;
                        }

                        const duelChallengeEmbed = new EmbedBuilder()
                            .setTitle('ğŸ† Ø¯Ø¹ÙˆØª Ø¨Ù‡ Ø¯ÙˆØ¦Ù„')
                            .setColor('#8E44AD')
                            .setDescription(`${interaction.user} Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø¯ÙˆØ¦Ù„ Ø¨Ø§ Ø´Ø±Ø· ${duelBet} ${COIN_NAME} Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª!\n\nØ¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±ÙØªÙ† Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ØŒ Ø¯Ú©Ù…Ù‡ Ù‚Ø¨ÙˆÙ„ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯.`)
                            .setFooter({ text: 'Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø³ Ø§Ø² 60 Ø«Ø§Ù†ÛŒÙ‡ Ù…Ù†Ù‚Ø¶ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯' });

                        const duelChallengeButtons = new ActionRowBuilder()
                            .addComponents(
                                new ButtonBuilder()
                                    .setCustomId(`duel_accept_${interaction.user.id}_${duelBet}`)
                                    .setLabel('âœ… Ù‚Ø¨ÙˆÙ„ Ø¯ÙˆØ¦Ù„')
                                    .setStyle(ButtonStyle.Success),
                                new ButtonBuilder()
                                    .setCustomId('duel_reject')
                                    .setLabel('âŒ Ø±Ø¯ Ú©Ø±Ø¯Ù†')
                                    .setStyle(ButtonStyle.Danger)
                            );

                        const duelMessage = await interaction.followUp({ 
                            content: `${duelTarget}`,
                            embeds: [duelChallengeEmbed], 
                            components: [duelChallengeButtons] 
                        });

                        // Ù…Ù†ØªØ¸Ø± Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ù…ÛŒâ€ŒÙ…Ø§Ù†ÛŒÙ…
                        const duelButtonFilter = i => 
                            (i.customId === `duel_accept_${interaction.user.id}_${duelBet}` || 
                             i.customId === 'duel_reject') && 
                            i.user.id === duelTarget.id;

                        const duelButtonCollector = interaction.channel.createMessageComponentCollector({ 
                            filter: duelButtonFilter, 
                            time: 60000 
                        });

                        duelButtonCollector.on('collect', async i => {
                            if (i.customId === 'duel_reject') {
                                await i.update({ 
                                    content: `${duelTarget.username} Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯!`, 
                                    embeds: [], 
                                    components: [] 
                                });
                                duelButtonCollector.stop();
                                return;
                            }

                            // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª
                            await i.update({ 
                                content: `${duelTarget.username} Ø¯ÙˆØ¦Ù„ Ø±Ø§ Ù¾Ø°ÛŒØ±ÙØª! Ù†Ø¨Ø±Ø¯ Ø¢ØºØ§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯...`,
                                embeds: [],
                                components: []
                            });

                            // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¯ÙˆØ¦Ù„
                            const duelAnimation = [
                                'âš”ï¸ Ø¢Ù…Ø§Ø¯Ù‡ Ø´ÙˆÛŒØ¯...',
                                'ğŸ”¥ 3...',
                                'ğŸ”¥ 2...',
                                'ğŸ”¥ 1...',
                                'âš¡ Ù†Ø¨Ø±Ø¯ Ø¢ØºØ§Ø² Ø´Ø¯!'
                            ];

                            const duelAnimationEmbed = new EmbedBuilder()
                                .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                                .setColor('#8E44AD')
                                .setDescription(`**${interaction.user.username}** vs **${duelTarget.username}**\n\n${duelAnimation[0]}`)
                                .setImage('https://media.giphy.com/media/l2JhIUyUs8KDCCf3W/giphy.gif');

                            await i.editReply({ 
                                content: '',
                                embeds: [duelAnimationEmbed], 
                                components: [] 
                            });

                            // Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø´Ù…Ø§Ø±Ø´ Ù…Ø¹Ú©ÙˆØ³
                            for (let j = 1; j < duelAnimation.length; j++) {
                                await new Promise(resolve => setTimeout(resolve, 1000));

                                const updatedEmbed = new EmbedBuilder()
                                    .setTitle('ğŸ† Ø¯ÙˆØ¦Ù„')
                                    .setColor('#8E44AD')
                                    .setDescription(`**${interaction.user.username}** vs **${duelTarget.username}**\n\n${duelAnimation[j]}`)
                                    .setImage('https://media.giphy.com/media/l2JhIUyUs8KDCCf3W/giphy.gif');

                                await i.editReply({ embeds: [updatedEmbed] });
                            }

                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„ (ØªØ±Ú©ÛŒØ¨ÛŒ Ø§Ø² Ø´Ø§Ù†Ø³ Ùˆ ØªØ¬Ø±Ø¨Ù‡)
                            // Ø§Ù…ØªÛŒØ§Ø² Ø§ÙˆÙ„: Ø´Ø§Ù†Ø³ (0-50)
                            const player1Luck = Math.floor(Math.random() * 51);
                            const player2Luck = Math.floor(Math.random() * 51);

                            // Ø§Ù…ØªÛŒØ§Ø² Ø¯ÙˆÙ…: ØªØ¬Ø±Ø¨Ù‡ - Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù„ Ú©Ø§Ø±Ø¨Ø± (0-30)
                            const player1Total = duelUserData.balance + (duelUserData.bank || 0) + (duelUserData.investment || 0);
                            const player2Total = duelTargetData.balance + (duelTargetData.bank || 0) + (duelTargetData.investment || 0);

                            const player1Exp = Math.min(30, Math.floor(player1Total / 100));
                            const player2Exp = Math.min(30, Math.floor(player2Total / 100));

                            // Ø§Ù…ØªÛŒØ§Ø² Ø³ÙˆÙ…: ØªØµØ§Ø¯ÙÛŒ (0-20)
                            const player1Random = Math.floor(Math.random() * 21);
                            const player2Random = Math.floor(Math.random() * 21);

                            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ
                            const player1Score = player1Luck + player1Exp + player1Random;
                            const player2Score = player2Luck + player2Exp + player2Random;

                            // ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡
                            let duelResultText = '';
                            if (player1Score > player2Score) {
                                // Ú©Ø§Ø±Ø¨Ø± Ø§ÙˆÙ„ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                duelUserData.balance += duelBet;
                                duelTargetData.balance -= duelBet;
                                duelResultText = `ğŸ† **${interaction.user.username}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${player1Score}** Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ **${player2Score}** Ù¾ÛŒØ±ÙˆØ² Ø´Ø¯ Ùˆ ${duelBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                            } else if (player1Score < player2Score) {
                                // Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆÙ… Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                                duelUserData.balance -= duelBet;
                                duelTargetData.balance += duelBet;
                                duelResultText = `ğŸ† **${duelTarget.username}** Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² **${player2Score}** Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ **${player1Score}** Ù¾ÛŒØ±ÙˆØ² Ø´Ø¯ Ùˆ ${duelBet} ${COIN_NAME} Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯!`;
                            } else {
                                // Ù…Ø³Ø§ÙˆÛŒ - Ù†Ø§Ø¯Ø±
                                duelResultText = `ğŸ˜® Ø¨Ø§ÙˆØ±Ù†Ú©Ø±Ø¯Ù†ÛŒ! Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ù†ØªÛŒØ¬Ù‡ **${player1Score}-${player2Score}** Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! Ù‡ÛŒÚ† Ø³Ú©Ù‡â€ŒØ§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ù†Ø´Ø¯.`;
                            }

                            saveData();

                            // Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„
                            const duelResultEmbed = new EmbedBuilder()
                                .setTitle('ğŸ† Ù†ØªÛŒØ¬Ù‡ Ø¯ÙˆØ¦Ù„')
                                .setColor('#8E44AD')
                                .setDescription(`**${interaction.user.username}** (${player1Score}) vs **${duelTarget.username}** (${player2Score})\n\n${duelResultText}\n\n**Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ù…ØªÛŒØ§Ø²Ø§Øª**:\n${interaction.user.username}: Ø´Ø§Ù†Ø³ ${player1Luck} + ØªØ¬Ø±Ø¨Ù‡ ${player1Exp} + ØªØµØ§Ø¯ÙÛŒ ${player1Random} = ${player1Score}\n${duelTarget.username}: Ø´Ø§Ù†Ø³ ${player2Luck} + ØªØ¬Ø±Ø¨Ù‡ ${player2Exp} + ØªØµØ§Ø¯ÙÛŒ ${player2Random} = ${player2Score}`)
                                .setFooter({ text: 'Ø¯ÙˆØ¦Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯' });

                            const duelRematchButton = new ActionRowBuilder()
                                .addComponents(
                                    new ButtonBuilder()
                                        .setCustomId(`duel_rematch_${interaction.user.id}_${duelTarget.id}_${duelBet}`)
                                        .setLabel('ğŸ”„ Ø¯ÙˆØ¦Ù„ Ù…Ø¬Ø¯Ø¯')
                                        .setStyle(ButtonStyle.Primary)
                                );

                            await i.editReply({ 
                                embeds: [duelResultEmbed], 
                                components: [duelRematchButton] 
                            });
                        });

                        duelButtonCollector.on('end', collected => {
                            if (collected.size === 0) {
                                interaction.followUp({ 
                                    content: 'â±ï¸ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø¯ÙˆØ¦Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                                    ephemeral: true
                                });
                            }
                        });
                    } catch (err) {
                        console.error(err);
                        await interaction.followUp({
                            content: 'âŒ Ø´Ù…Ø§ Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ù…Ù†Ø´Ù† Ù†Ú©Ø±Ø¯ÛŒØ¯ ÛŒØ§ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯!',
                            ephemeral: true
                        });
                    }
                    break;
            }
        } catch (error) {
            console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ú©Ù…Ù‡:', error);
            await interaction.reply({ content: 'âŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.', ephemeral: true });
        }
    }
});

// ØªÙ†Ø¸ÛŒÙ… ÙÙˆØ§ØµÙ„ Ø²Ù…Ø§Ù†ÛŒ
const ONE_MINUTE_MS = 60000; // 1 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
const ONE_DAY_MS = 86400000; // 24 Ø³Ø§Ø¹Øª Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
let lastInvestmentUpdate = Date.now();
let lastAutoSave = Date.now();
let lastStealWindowCheck = Date.now();

// Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù‡Ø± 10 Ø¯Ù‚ÛŒÙ‚Ù‡
setInterval(() => {
    const now = Date.now();
    if (now - lastAutoSave >= 10 * ONE_MINUTE_MS) {
        saveData();
        lastAutoSave = now;
        console.log('ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.');
    }
    
    // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ Ù‡Ø± ÛŒÚ© Ø³Ø§Ø¹Øª
    if (now - lastStealWindowCheck >= 60 * ONE_MINUTE_MS) {
        const isStealActive = checkStealWindow();
        lastStealWindowCheck = now;
        
        if (isStealActive) {
            console.log('ğŸ”” Ù¾Ù†Ø¬Ø±Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¬ÛŒØ¨â€ŒØ²Ù†ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª!');
        }
    }
}, ONE_MINUTE_MS);

// Ø¨Ø±Ø±Ø³ÛŒ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡Ø± Ø±ÙˆØ²
setInterval(() => {
    const now = Date.now();
    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ 30 Ø±ÙˆØ² Ú¯Ø°Ø´ØªÙ‡ Ø§Ø³Øª
    if (now - lastInvestmentUpdate >= 30 * ONE_DAY_MS) {
        let updated = false;

        for (const userId in users) {
            if (users[userId].investment && users[userId].investment > 0) {
                const profit = Math.floor(users[userId].investment * INVESTMENT_RATE);
                users[userId].balance += profit;
                updated = true;
            }
        }

        if (updated) {
            console.log('ğŸ’¹ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù…Ø§Ù‡Ø§Ù†Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯!');
            saveData();
            lastInvestmentUpdate = now;
        }
    }
}, ONE_DAY_MS); // Ù‡Ø± Ø±ÙˆØ² Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…

client.once('ready', () => {
    console.log(`âœ… ${client.user.tag} Ø¢Ù†Ù„Ø§ÛŒÙ† Ø´Ø¯!`);
});

// ÙˆØ±ÙˆØ¯ Ø±Ø¨Ø§Øª Ø¨Ø§ ØªÙˆÚ©Ù†
client.login(TOKEN).catch(error => {
    console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¯ÛŒØ³Ú©ÙˆØ±Ø¯:', error);
    console.error('Ù„Ø·ÙØ§Ù‹ ØªÙˆÚ©Ù† ØµØ­ÛŒØ­ Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Secrets Ø¨Ø§ Ú©Ù„ÛŒØ¯ DISCORD_TOKEN ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯');
    process.exit(1);
});